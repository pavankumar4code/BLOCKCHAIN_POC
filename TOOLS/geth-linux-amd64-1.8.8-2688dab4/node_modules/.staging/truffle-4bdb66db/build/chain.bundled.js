#!/usr/bin/env node

/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1300);
/******/ })
/************************************************************************/
/******/ ({

/***/ 0:
/***/ (function(module, exports) {

module.exports = require("path");

/***/ }),

/***/ 1:
/***/ (function(module, exports) {

module.exports = require("fs");

/***/ }),

/***/ 11:
/***/ (function(module, exports) {

module.exports = require("assert");

/***/ }),

/***/ 120:
/***/ (function(module, exports) {

module.exports = require("module");

/***/ }),

/***/ 121:
/***/ (function(module, exports, __webpack_require__) {

/**
 * Detect Electron renderer process, which is node, but we should
 * treat as a browser.
 */

if (typeof process === 'undefined' || process.type === 'renderer') {
  module.exports = __webpack_require__(290);
} else {
  module.exports = __webpack_require__(291);
}


/***/ }),

/***/ 1300:
/***/ (function(module, exports, __webpack_require__) {


var IPC = __webpack_require__(204).IPC;
var TestRPC = __webpack_require__(203);
var path = __webpack_require__(0);
var debug = __webpack_require__(121);

/*
 * Loggers
 */
var ipcDebug = debug("chain:ipc");


/*
 * Options
 */

// This script takes one argument: A strinified JSON object meant
// to be parsed and then passed to TestRPC.server().
var ipcNetwork;
var options;

var args = process.argv.slice(2);
if (args.length == 2) {
  ipcNetwork = args[0];
  options = args[1];
} else if (args.length == 1) {
  ipcNetwork = "develop";
  options = args[0];
} else {
  ipcNetwork = "develop";
  options = "{}";
}

try {
  options = JSON.parse(options);
} catch (e) {
  throw new Error("Fatal: Error parsing arguments; please contact the Truffle developers for help.");
}

options.host = options.host || "127.0.0.1";
options.port = options.port || 9545;
options.network_id = options.network_id || 4447;
options.mnemonic = options.mnemonic || "candy maple cake sugar pudding cream honey rich smooth crumble sweet treat";
options.gasLimit = options.gasLimit || 0x47e7c4;


/*
 * Logging
 */

// constructor
function Logger() {
  this.messages = [];

  this.nextSubscriberID = 1;
  this.subscribers = {};
}

// subscribe to log events with provided callback
// sends prior unsent messages, as well as new messages
// returns `unsubscribe` cleanup function
Logger.prototype.subscribe = function(callback) {
  var self = this;

  // flush messages
  var messages = this.messages;
  this.messages = [];
  messages.forEach(function(message) {
    callback(message);
  });

  // save subscriber
  var subscriberID = this.nextSubscriberID++;
  this.subscribers[subscriberID] = callback;

  // return cleanup func
  var unsubscribe = function() {
    delete self.subscribers[subscriberID];
  };

  return unsubscribe;
};

// log a message to be sent to all active subscribers
// buffers if there are no active subscribers (to send on first subscribe)
Logger.prototype.log = function(message) {
  var self = this;

  var subscriberIDs = Object.keys(this.subscribers)
  if (subscriberIDs.length == 0) {
    this.messages.push(message);

    return;
  }

  subscriberIDs.forEach(function(subscriberID) {
    var callback = self.subscribers[subscriberID];

    callback(message);
  });
};


/*
 * Supervisor
 */

// constructor - accepts an object to assign to `ipc.config`
function Supervisor(ipcConfig) {
  var self = this;

  // init IPC
  this.ipc = new IPC();
  // set config
  Object.keys(ipcConfig).forEach(function(key) {
    self.ipc.config[key] = ipcConfig[key];
  });

  this.mixins = [];
}

// include mixin
Supervisor.prototype.use = function(mixin) {
  this.mixins.push(mixin);
};

// dispatch event to all relevant mixins (ones that define `event` method)
Supervisor.prototype.handle = function(event, args) {
  var self = this;

  args = Array.prototype.slice.call(args);

  this.mixins.forEach(function(mixin) {
    if (mixin[event]) {
      mixin[event].apply(mixin, [self].concat(args));
    }
  });
};

// start the IPC server and hook up all the mixins
Supervisor.prototype.start = function() {
  var self = this;

  var ipc = this.ipc;

  // socket filename
  var dirname = ipc.config.socketRoot;
  var basename = `${ipc.config.appspace}${ipc.config.id}`;
  var servePath = path.join(dirname, basename);

  ipc.serve(servePath, function() {
    self.handle('start', arguments);

    ipc.server.on('connect', function() {
      self.handle('connect', arguments);
    });

    ipc.server.on('socket.disconnected', function() {
      self.handle('disconnect', arguments);
    });
  });

  ipc.server.start();
}

// external interface for mixin to emit socket events
Supervisor.prototype.emit = function(socket, message, data, options) {
  options = options || {};
  options.silent = options.silent || false;

  // possibly override silent
  var currentlySilent = this.ipc.config.silent;
  if (options.silent) {
    this.ipc.config.silent = true;
  }

  this.ipc.server.emit(socket, message, data);

  // reset
  this.ipc.config.silent = currentlySilent;
};

// external interface for mixin to exit
Supervisor.prototype.exit = function() {
  this.ipc.server.stop();
  this.handle('exit', arguments);
}


/*
 * Lifecycle
 * (quit on last connection)
 */
function LifecycleMixin() {
  var self = this;
}

// start counting active connections
LifecycleMixin.prototype.start = function(supervisor) {
  this.connections = 0;
};

// increment
LifecycleMixin.prototype.connect = function(supervisor) {
  this.connections++;
};

// decrement - invoke supervisor exit if no connections remain
LifecycleMixin.prototype.disconnect = function(supervisor) {
  this.connections--;

  if (this.connections <= 0) {
    supervisor.exit();
  }
};


/*
 * TestRPC Server
 */

// constructor - accepts options for TestRPC
function TestRPCMixin(options) {
  this.testrpc = TestRPC.server(options);
}

// start TestRPC and capture promise that resolves when ready
TestRPCMixin.prototype.start = function(supervisor) {
  var self = this;

  this.ready = new Promise(function(accept, reject) {
    self.testrpc.listen(options.port, options.hostname, function(err, state) {
      if (err) {
        reject(err);
      }

      accept(state);
    });
  });
};

// wait for TestRPC to be ready then emit signal to client socket
TestRPCMixin.prototype.connect = function(supervisor, socket) {
  var self = this;
  this.ready.then(function() {
    supervisor.emit(socket, 'truffle.ready');
  });
}

// cleanup TestRPC process on exit
TestRPCMixin.prototype.exit = function(supervisor) {
  this.testrpc.close(function(err) {
    if (err) {
      console.error(err.stack || err);
      process.exit(1);
    } else {
      process.exit();
    }
  });
};


/*
 * Logging over IPC
 */

// constructor - takes Logger instance and message key (e.g. `truffle.ipc.log`)
function LoggerMixin(logger, message) {
  this.logger = logger;
  this.message = message;
}

// on connect, subscribe client socket to logger
LoggerMixin.prototype.connect = function(supervisor, socket) {
  var self = this;

  var unsubscribe = this.logger.subscribe(function(data) {
    supervisor.emit(socket, self.message, data, {silent: true});
  });

  socket.on('close', unsubscribe);
};


/*
 * Process event handling
 */
process.on('uncaughtException', function(e) {
  console.error(e.stack);
  process.exit(1);
})


/*
 * Main
 */
var ipcLogger = new Logger();
var testrpcLogger = new Logger();

var supervisor = new Supervisor({
  appspace: "truffle.",
  id: ipcNetwork,
  retry: 1500,
  logger: ipcLogger.log.bind(ipcLogger)
});

ipcLogger.subscribe(ipcDebug);

options.logger = {log: testrpcLogger.log.bind(testrpcLogger)};

supervisor.use(new LifecycleMixin());
supervisor.use(new TestRPCMixin(options));
supervisor.use(new LoggerMixin(ipcLogger, 'truffle.ipc.log'));
supervisor.use(new LoggerMixin(testrpcLogger, 'truffle.testrpc.log'));
supervisor.start();


/***/ }),

/***/ 14:
/***/ (function(module, exports) {

module.exports = require("events");

/***/ }),

/***/ 142:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


let EventPubSub = __webpack_require__(86);
if(process.version[1]>5){
    EventPubSub = __webpack_require__(250);
}

module.exports=EventPubSub;


/***/ }),

/***/ 144:
/***/ (function(module, exports) {

function Message() {
    Object.defineProperties(
        this, {
            data: {
                enumerable: true,
                get: getData,
                set: setData
            },
            type: {
                enumerable: true,
                get: getType,
                set: setType
            },
            load:{
                enumarable:true,
                writable:false,
                value:parse
            },
            JSON: {
                enumerable: true,
                get: getJSON
            }
        }
    );

    var type = '';
    var data = {};

    function getType() {
        return type;
    }

    function getData() {
        return data;
    }

    function getJSON() {
        return JSON.stringify(
            {
                type: type,
                data: data
            }
        );
    }

    function setType(value) {
        type = value;
    }

    function setData(value) {
        data = value;
    }

    function parse(message){
        try{
            var message=JSON.parse(message);
            type=message.type;
            data=message.data;
        }catch(err){
            var badMessage=message;
            type='error',
            data={
                message:'Invalid JSON response format',
                err:err,
                response:badMessage
            }
        }
    }
}

module.exports=Message;


/***/ }),

/***/ 146:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*eslint no-magic-numbers: ["error", { "ignore": [ 0] }]*/

/**
 * @module entities
 */

const os = __webpack_require__(9);

/**
 * @class Defaults
 * @description Defaults Entity
 */
class Defaults{

    /**
     * @constructor
     * @method constructor
     * @return {void}
     */
    constructor(){

        this.appspace='app.';
        this.socketRoot='/tmp/';
        this.id=os.hostname();

        this.encoding='utf8';
        this.rawBuffer=false;
        this.sync=false;
        this.unlink=true;

        this.delimiter='\f';

        this.silent=false;
        this.logDepth=5;
        this.logInColor=true;
        this.logger=console.log.bind(console);

        this.maxConnections=100;
        this.retry=500;
        this.maxRetries=Infinity;
        this.stopRetrying=false;

        this.IPType=getIPType();
        this.tls=false;
        this.networkHost = (this.IPType == 'IPv6') ? '::1' : '127.0.0.1';
        this.networkPort = 8000;

        this.interface={
            localAddress:false,
            localPort:false,
            family:false,
            hints:false,
            lookup:false
        }
    }
}

/**
 * method to get ip type
 *
 * @method getIPType
 * @return {string} ip type
 */
function getIPType() {
    const networkInterfaces = os.networkInterfaces();
    let IPType = '';
    if (networkInterfaces
        && Array.isArray(networkInterfaces)
        && networkInterfaces.length > 0) {
        // getting the family of first network interface available
        IPType = networkInterfaces [
            Object.keys( networkInterfaces )[0]
        ][0].family;
    }
    return IPType;
}

module.exports=Defaults;


/***/ }),

/***/ 147:
/***/ (function(module, exports, __webpack_require__) {

"use strict";


const Defaults = __webpack_require__(146);

class Parser{
  constructor(config){
    if(!config){
      config=new Defaults;
    }
    this.delimiter=config.delimiter;
  }

  format(message){
    if(!message.data && message.data!==false && message.data!==0){
        message.data={};
    }
    if(message.data['_maxListeners']){
        message.data={};
    }

    message=message.JSON+this.delimiter;
    return message;
  }

  parse(data){
    let events=data.split(this.delimiter);
    events.pop();
    return events;
  }
}

module.exports=Parser;


/***/ }),

/***/ 15:
/***/ (function(module, exports) {

module.exports = require("stream");

/***/ }),

/***/ 156:
/***/ (function(module, exports, __webpack_require__) {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = __webpack_require__(55);

/**
 * Active `debug` instances.
 */
exports.instances = [];

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  var prevTime;

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);
  debug.destroy = destroy;

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  exports.instances.push(debug);

  return debug;
}

function destroy () {
  var index = exports.instances.indexOf(this);
  if (index !== -1) {
    exports.instances.splice(index, 1);
    return true;
  } else {
    return false;
  }
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var i;
  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }

  for (i = 0; i < exports.instances.length; i++) {
    var instance = exports.instances[i];
    instance.enabled = exports.enabled(instance.namespace);
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  if (name[name.length - 1] === '*') {
    return true;
  }
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}


/***/ }),

/***/ 160:
/***/ (function(module, exports) {

module.exports = require("constants");

/***/ }),

/***/ 202:
/***/ (function(module, exports) {

module.exports = require("dgram");

/***/ }),

/***/ 203:
/***/ (function(module, exports, __webpack_require__) {

!function(e,t){ true?module.exports=t():"function"==typeof define&&define.amd?define("ganache",[],t):"object"==typeof exports?exports.ganache=t():e.ganache=t()}(global,function(){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.w={},a(a.s=1222)}([function(e,t,a){try{var n=a(1);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=a(1208)}},function(e,t){e.exports=__webpack_require__(3)},function(e,t){e.exports=__webpack_require__(0)},function(e,t){e.exports=function(e){return null==e?"":e.toString()}},function(e,t){e.exports=__webpack_require__(14)},function(e,t){e.exports=__webpack_require__(15)},function(e,t,a){var n=a(23),r=n.Buffer;function c(e,t){for(var a in e)t[a]=e[a]}function i(e,t,a){return r(e,t,a)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(c(n,t),t.Buffer=i),c(r,i),i.from=function(e,t,a){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,a)},i.alloc=function(e,t,a){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"==typeof a?n.fill(t,a):n.fill(t):n.fill(0),n},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,a){var n=a(22),r=a(790),c=a(789),i=[],f=a(1);var o,d,s=function(){};function b(e){r(e),e.gracefulify=b,e.FileReadStream=p,e.FileWriteStream=h,e.createReadStream=function(e,t){return new p(e,t)},e.createWriteStream=function(e,t){return new h(e,t)};var t=e.readFile;e.readFile=function(e,a,n){"function"==typeof a&&(n=a,a=null);return function e(a,n,r){return t(a,n,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof r&&r.apply(this,arguments),l()):u([e,[a,n,r]])})}(e,a,n)};var a=e.writeFile;e.writeFile=function(e,t,n,r){"function"==typeof n&&(r=n,n=null);return function e(t,n,r,c){return a(t,n,r,function(a){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?("function"==typeof c&&c.apply(this,arguments),l()):u([e,[t,n,r,c]])})}(e,t,n,r)};var n=e.appendFile;n&&(e.appendFile=function(e,t,a,r){"function"==typeof a&&(r=a,a=null);return function e(t,a,r,c){return n(t,a,r,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof c&&c.apply(this,arguments),l()):u([e,[t,a,r,c]])})}(e,t,a,r)});var i=e.readdir;function f(t){return i.apply(e,t)}if(e.readdir=function(e,t,a){var n=[e];"function"!=typeof t?n.push(t):a=t;return n.push(function(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof a&&a.apply(this,arguments),l()):u([f,[n]])}),f(n)},"v0.8"===process.version.substr(0,4)){var o=c(e);p=o.ReadStream,h=o.WriteStream}var d=e.ReadStream;p.prototype=Object.create(d.prototype),p.prototype.open=function(){var e=this;v(e.path,e.flags,e.mode,function(t,a){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=a,e.emit("open",a),e.read())})};var s=e.WriteStream;function p(e,t){return this instanceof p?(d.apply(this,arguments),this):p.apply(Object.create(p.prototype),arguments)}function h(e,t){return this instanceof h?(s.apply(this,arguments),this):h.apply(Object.create(h.prototype),arguments)}h.prototype=Object.create(s.prototype),h.prototype.open=function(){var e=this;v(e.path,e.flags,e.mode,function(t,a){t?(e.destroy(),e.emit("error",t)):(e.fd=a,e.emit("open",a))})},e.ReadStream=p,e.WriteStream=h;var m=e.open;function v(e,t,a,n){return"function"==typeof a&&(n=a,a=null),function e(t,a,n,r){return m(t,a,n,function(c,i){!c||"EMFILE"!==c.code&&"ENFILE"!==c.code?("function"==typeof r&&r.apply(this,arguments),l()):u([e,[t,a,n,r]])})}(e,t,a,n)}return e.open=v,e}function u(e){s("ENQUEUE",e[0].name,e[1]),i.push(e)}function l(){var e=i.shift();e&&(s("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}f.debuglog?s=f.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(s=function(){var e=f.format.apply(f,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){s(i),a(10).equal(i.length,0)}),e.exports=b(a(322)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&(e.exports=b(n)),e.exports.close=n.close=(o=n.close,function(e,t){return o.call(n,e,function(e){e||l(),"function"==typeof t&&t.apply(this,arguments)})}),e.exports.closeSync=n.closeSync=(d=n.closeSync,function(e){var t=d.apply(n,arguments);return l(),t})},function(e,t,a){(function(e){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var a=function(){};a.prototype=t.prototype,e.prototype=new a,e.prototype.constructor=e}function c(e,t,a){if(c.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(a=t,t=10),this._init(e||0,t||10,a||"be"))}var i;"object"==typeof e?e.exports=c:t.BN=c,c.BN=c,c.wordSize=26;try{i=a(23).Buffer}catch(e){}function f(e,t,a){for(var n=0,r=Math.min(e.length,a),c=t;c<r;c++){var i=e.charCodeAt(c)-48;n<<=4,n|=i>=49&&i<=54?i-49+10:i>=17&&i<=22?i-17+10:15&i}return n}function o(e,t,a,n){for(var r=0,c=Math.min(e.length,a),i=t;i<c;i++){var f=e.charCodeAt(i)-48;r*=n,r+=f>=49?f-49+10:f>=17?f-17+10:f}return r}c.isBN=function(e){return e instanceof c||null!==e&&"object"==typeof e&&e.constructor.wordSize===c.wordSize&&Array.isArray(e.words)},c.max=function(e,t){return e.cmp(t)>0?e:t},c.min=function(e,t){return e.cmp(t)<0?e:t},c.prototype._init=function(e,t,a){if("number"==typeof e)return this._initNumber(e,t,a);if("object"==typeof e)return this._initArray(e,t,a);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var r=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&r++,16===t?this._parseHex(e,r):this._parseBase(e,t,r),"-"===e[0]&&(this.negative=1),this.strip(),"le"===a&&this._initArray(this.toArray(),t,a)},c.prototype._initNumber=function(e,t,a){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===a&&this._initArray(this.toArray(),t,a)},c.prototype._initArray=function(e,t,a){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var c,i,f=0;if("be"===a)for(r=e.length-1,c=0;r>=0;r-=3)i=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[c]|=i<<f&67108863,this.words[c+1]=i>>>26-f&67108863,(f+=24)>=26&&(f-=26,c++);else if("le"===a)for(r=0,c=0;r<e.length;r+=3)i=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[c]|=i<<f&67108863,this.words[c+1]=i>>>26-f&67108863,(f+=24)>=26&&(f-=26,c++);return this.strip()},c.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var n,r,c=0;for(a=e.length-6,n=0;a>=t;a-=6)r=f(e,a,a+6),this.words[n]|=r<<c&67108863,this.words[n+1]|=r>>>26-c&4194303,(c+=24)>=26&&(c-=26,n++);a+6!==t&&(r=f(e,t,a+6),this.words[n]|=r<<c&67108863,this.words[n+1]|=r>>>26-c&4194303),this.strip()},c.prototype._parseBase=function(e,t,a){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=t)n++;n--,r=r/t|0;for(var c=e.length-a,i=c%n,f=Math.min(c,c-i)+a,d=0,s=a;s<f;s+=n)d=o(e,s,s+n,t),this.imuln(r),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==i){var b=1;for(d=o(e,s,e.length,t),s=0;s<i;s++)b*=t;this.imuln(b),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}},c.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},c.prototype.clone=function(){var e=new c(null);return this.copy(e),e},c.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},c.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],s=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function u(e,t,a){a.negative=t.negative^e.negative;var n=e.length+t.length|0;a.length=n,n=n-1|0;var r=0|e.words[0],c=0|t.words[0],i=r*c,f=67108863&i,o=i/67108864|0;a.words[0]=f;for(var d=1;d<n;d++){for(var s=o>>>26,b=67108863&o,u=Math.min(d,t.length-1),l=Math.max(0,d-e.length+1);l<=u;l++){var p=d-l|0;s+=(i=(r=0|e.words[p])*(c=0|t.words[l])+b)/67108864|0,b=67108863&i}a.words[d]=0|b,o=0|s}return 0!==o?a.words[d]=0|o:a.length--,a.strip()}c.prototype.toString=function(e,t){var a;if(e=e||10,t=0|t||1,16===e||"hex"===e){a="";for(var r=0,c=0,i=0;i<this.length;i++){var f=this.words[i],o=(16777215&(f<<r|c)).toString(16);a=0!==(c=f>>>24-r&16777215)||i!==this.length-1?d[6-o.length]+o+a:o+a,(r+=2)>=26&&(r-=26,i--)}for(0!==c&&(a=c.toString(16)+a);a.length%t!=0;)a="0"+a;return 0!==this.negative&&(a="-"+a),a}if(e===(0|e)&&e>=2&&e<=36){var u=s[e],l=b[e];a="";var p=this.clone();for(p.negative=0;!p.isZero();){var h=p.modn(l).toString(e);a=(p=p.idivn(l)).isZero()?h+a:d[u-h.length]+h+a}for(this.isZero()&&(a="0"+a);a.length%t!=0;)a="0"+a;return 0!==this.negative&&(a="-"+a),a}n(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(e,t){return n(void 0!==i),this.toArrayLike(i,e,t)},c.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},c.prototype.toArrayLike=function(e,t,a){var r=this.byteLength(),c=a||Math.max(1,r);n(r<=c,"byte array longer than desired length"),n(c>0,"Requested array length <= 0"),this.strip();var i,f,o="le"===t,d=new e(c),s=this.clone();if(o){for(f=0;!s.isZero();f++)i=s.andln(255),s.iushrn(8),d[f]=i;for(;f<c;f++)d[f]=0}else{for(f=0;f<c-r;f++)d[f]=0;for(f=0;!s.isZero();f++)i=s.andln(255),s.iushrn(8),d[c-f-1]=i}return d},Math.clz32?c.prototype._countBits=function(e){return 32-Math.clz32(e)}:c.prototype._countBits=function(e){var t=e,a=0;return t>=4096&&(a+=13,t>>>=13),t>=64&&(a+=7,t>>>=7),t>=8&&(a+=4,t>>>=4),t>=2&&(a+=2,t>>>=2),a+t},c.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,a=0;return 0==(8191&t)&&(a+=13,t>>>=13),0==(127&t)&&(a+=7,t>>>=7),0==(15&t)&&(a+=4,t>>>=4),0==(3&t)&&(a+=2,t>>>=2),0==(1&t)&&a++,a},c.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var a=this._zeroBits(this.words[t]);if(e+=a,26!==a)break}return e},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},c.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return 0!==this.negative},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},c.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},c.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},c.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},c.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var a=0;a<t.length;a++)this.words[a]=this.words[a]&e.words[a];return this.length=t.length,this.strip()},c.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},c.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},c.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},c.prototype.iuxor=function(e){var t,a;this.length>e.length?(t=this,a=e):(t=e,a=this);for(var n=0;n<a.length;n++)this.words[n]=t.words[n]^a.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},c.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},c.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},c.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},c.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),a=e%26;this._expand(t),a>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return a>0&&(this.words[r]=~this.words[r]&67108863>>26-a),this.strip()},c.prototype.notn=function(e){return this.clone().inotn(e)},c.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var a=e/26|0,r=e%26;return this._expand(a+1),this.words[a]=t?this.words[a]|1<<r:this.words[a]&~(1<<r),this.strip()},c.prototype.iadd=function(e){var t,a,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(a=this,n=e):(a=e,n=this);for(var r=0,c=0;c<n.length;c++)t=(0|a.words[c])+(0|n.words[c])+r,this.words[c]=67108863&t,r=t>>>26;for(;0!==r&&c<a.length;c++)t=(0|a.words[c])+r,this.words[c]=67108863&t,r=t>>>26;if(this.length=a.length,0!==r)this.words[this.length]=r,this.length++;else if(a!==this)for(;c<a.length;c++)this.words[c]=a.words[c];return this},c.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},c.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var a,n,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(a=this,n=e):(a=e,n=this);for(var c=0,i=0;i<n.length;i++)c=(t=(0|a.words[i])-(0|n.words[i])+c)>>26,this.words[i]=67108863&t;for(;0!==c&&i<a.length;i++)c=(t=(0|a.words[i])+c)>>26,this.words[i]=67108863&t;if(0===c&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,a){var n,r,c,i=e.words,f=t.words,o=a.words,d=0,s=0|i[0],b=8191&s,u=s>>>13,l=0|i[1],p=8191&l,h=l>>>13,m=0|i[2],v=8191&m,g=m>>>13,y=0|i[3],_=8191&y,w=y>>>13,A=0|i[4],x=8191&A,k=A>>>13,E=0|i[5],S=8191&E,T=E>>>13,C=0|i[6],O=8191&C,R=C>>>13,j=0|i[7],F=8191&j,M=j>>>13,B=0|i[8],N=8191&B,I=B>>>13,P=0|i[9],L=8191&P,D=P>>>13,z=0|f[0],U=8191&z,H=z>>>13,q=0|f[1],V=8191&q,G=q>>>13,W=0|f[2],K=8191&W,Y=W>>>13,Z=0|f[3],Q=8191&Z,J=Z>>>13,X=0|f[4],$=8191&X,ee=X>>>13,te=0|f[5],ae=8191&te,ne=te>>>13,re=0|f[6],ce=8191&re,ie=re>>>13,fe=0|f[7],oe=8191&fe,de=fe>>>13,se=0|f[8],be=8191&se,ue=se>>>13,le=0|f[9],pe=8191&le,he=le>>>13;a.negative=e.negative^t.negative,a.length=19;var me=(d+(n=Math.imul(b,U))|0)+((8191&(r=(r=Math.imul(b,H))+Math.imul(u,U)|0))<<13)|0;d=((c=Math.imul(u,H))+(r>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,U),r=(r=Math.imul(p,H))+Math.imul(h,U)|0,c=Math.imul(h,H);var ve=(d+(n=n+Math.imul(b,V)|0)|0)+((8191&(r=(r=r+Math.imul(b,G)|0)+Math.imul(u,V)|0))<<13)|0;d=((c=c+Math.imul(u,G)|0)+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,U),r=(r=Math.imul(v,H))+Math.imul(g,U)|0,c=Math.imul(g,H),n=n+Math.imul(p,V)|0,r=(r=r+Math.imul(p,G)|0)+Math.imul(h,V)|0,c=c+Math.imul(h,G)|0;var ge=(d+(n=n+Math.imul(b,K)|0)|0)+((8191&(r=(r=r+Math.imul(b,Y)|0)+Math.imul(u,K)|0))<<13)|0;d=((c=c+Math.imul(u,Y)|0)+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(_,U),r=(r=Math.imul(_,H))+Math.imul(w,U)|0,c=Math.imul(w,H),n=n+Math.imul(v,V)|0,r=(r=r+Math.imul(v,G)|0)+Math.imul(g,V)|0,c=c+Math.imul(g,G)|0,n=n+Math.imul(p,K)|0,r=(r=r+Math.imul(p,Y)|0)+Math.imul(h,K)|0,c=c+Math.imul(h,Y)|0;var ye=(d+(n=n+Math.imul(b,Q)|0)|0)+((8191&(r=(r=r+Math.imul(b,J)|0)+Math.imul(u,Q)|0))<<13)|0;d=((c=c+Math.imul(u,J)|0)+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(x,U),r=(r=Math.imul(x,H))+Math.imul(k,U)|0,c=Math.imul(k,H),n=n+Math.imul(_,V)|0,r=(r=r+Math.imul(_,G)|0)+Math.imul(w,V)|0,c=c+Math.imul(w,G)|0,n=n+Math.imul(v,K)|0,r=(r=r+Math.imul(v,Y)|0)+Math.imul(g,K)|0,c=c+Math.imul(g,Y)|0,n=n+Math.imul(p,Q)|0,r=(r=r+Math.imul(p,J)|0)+Math.imul(h,Q)|0,c=c+Math.imul(h,J)|0;var _e=(d+(n=n+Math.imul(b,$)|0)|0)+((8191&(r=(r=r+Math.imul(b,ee)|0)+Math.imul(u,$)|0))<<13)|0;d=((c=c+Math.imul(u,ee)|0)+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(S,U),r=(r=Math.imul(S,H))+Math.imul(T,U)|0,c=Math.imul(T,H),n=n+Math.imul(x,V)|0,r=(r=r+Math.imul(x,G)|0)+Math.imul(k,V)|0,c=c+Math.imul(k,G)|0,n=n+Math.imul(_,K)|0,r=(r=r+Math.imul(_,Y)|0)+Math.imul(w,K)|0,c=c+Math.imul(w,Y)|0,n=n+Math.imul(v,Q)|0,r=(r=r+Math.imul(v,J)|0)+Math.imul(g,Q)|0,c=c+Math.imul(g,J)|0,n=n+Math.imul(p,$)|0,r=(r=r+Math.imul(p,ee)|0)+Math.imul(h,$)|0,c=c+Math.imul(h,ee)|0;var we=(d+(n=n+Math.imul(b,ae)|0)|0)+((8191&(r=(r=r+Math.imul(b,ne)|0)+Math.imul(u,ae)|0))<<13)|0;d=((c=c+Math.imul(u,ne)|0)+(r>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(O,U),r=(r=Math.imul(O,H))+Math.imul(R,U)|0,c=Math.imul(R,H),n=n+Math.imul(S,V)|0,r=(r=r+Math.imul(S,G)|0)+Math.imul(T,V)|0,c=c+Math.imul(T,G)|0,n=n+Math.imul(x,K)|0,r=(r=r+Math.imul(x,Y)|0)+Math.imul(k,K)|0,c=c+Math.imul(k,Y)|0,n=n+Math.imul(_,Q)|0,r=(r=r+Math.imul(_,J)|0)+Math.imul(w,Q)|0,c=c+Math.imul(w,J)|0,n=n+Math.imul(v,$)|0,r=(r=r+Math.imul(v,ee)|0)+Math.imul(g,$)|0,c=c+Math.imul(g,ee)|0,n=n+Math.imul(p,ae)|0,r=(r=r+Math.imul(p,ne)|0)+Math.imul(h,ae)|0,c=c+Math.imul(h,ne)|0;var Ae=(d+(n=n+Math.imul(b,ce)|0)|0)+((8191&(r=(r=r+Math.imul(b,ie)|0)+Math.imul(u,ce)|0))<<13)|0;d=((c=c+Math.imul(u,ie)|0)+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(F,U),r=(r=Math.imul(F,H))+Math.imul(M,U)|0,c=Math.imul(M,H),n=n+Math.imul(O,V)|0,r=(r=r+Math.imul(O,G)|0)+Math.imul(R,V)|0,c=c+Math.imul(R,G)|0,n=n+Math.imul(S,K)|0,r=(r=r+Math.imul(S,Y)|0)+Math.imul(T,K)|0,c=c+Math.imul(T,Y)|0,n=n+Math.imul(x,Q)|0,r=(r=r+Math.imul(x,J)|0)+Math.imul(k,Q)|0,c=c+Math.imul(k,J)|0,n=n+Math.imul(_,$)|0,r=(r=r+Math.imul(_,ee)|0)+Math.imul(w,$)|0,c=c+Math.imul(w,ee)|0,n=n+Math.imul(v,ae)|0,r=(r=r+Math.imul(v,ne)|0)+Math.imul(g,ae)|0,c=c+Math.imul(g,ne)|0,n=n+Math.imul(p,ce)|0,r=(r=r+Math.imul(p,ie)|0)+Math.imul(h,ce)|0,c=c+Math.imul(h,ie)|0;var xe=(d+(n=n+Math.imul(b,oe)|0)|0)+((8191&(r=(r=r+Math.imul(b,de)|0)+Math.imul(u,oe)|0))<<13)|0;d=((c=c+Math.imul(u,de)|0)+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,U),r=(r=Math.imul(N,H))+Math.imul(I,U)|0,c=Math.imul(I,H),n=n+Math.imul(F,V)|0,r=(r=r+Math.imul(F,G)|0)+Math.imul(M,V)|0,c=c+Math.imul(M,G)|0,n=n+Math.imul(O,K)|0,r=(r=r+Math.imul(O,Y)|0)+Math.imul(R,K)|0,c=c+Math.imul(R,Y)|0,n=n+Math.imul(S,Q)|0,r=(r=r+Math.imul(S,J)|0)+Math.imul(T,Q)|0,c=c+Math.imul(T,J)|0,n=n+Math.imul(x,$)|0,r=(r=r+Math.imul(x,ee)|0)+Math.imul(k,$)|0,c=c+Math.imul(k,ee)|0,n=n+Math.imul(_,ae)|0,r=(r=r+Math.imul(_,ne)|0)+Math.imul(w,ae)|0,c=c+Math.imul(w,ne)|0,n=n+Math.imul(v,ce)|0,r=(r=r+Math.imul(v,ie)|0)+Math.imul(g,ce)|0,c=c+Math.imul(g,ie)|0,n=n+Math.imul(p,oe)|0,r=(r=r+Math.imul(p,de)|0)+Math.imul(h,oe)|0,c=c+Math.imul(h,de)|0;var ke=(d+(n=n+Math.imul(b,be)|0)|0)+((8191&(r=(r=r+Math.imul(b,ue)|0)+Math.imul(u,be)|0))<<13)|0;d=((c=c+Math.imul(u,ue)|0)+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,U),r=(r=Math.imul(L,H))+Math.imul(D,U)|0,c=Math.imul(D,H),n=n+Math.imul(N,V)|0,r=(r=r+Math.imul(N,G)|0)+Math.imul(I,V)|0,c=c+Math.imul(I,G)|0,n=n+Math.imul(F,K)|0,r=(r=r+Math.imul(F,Y)|0)+Math.imul(M,K)|0,c=c+Math.imul(M,Y)|0,n=n+Math.imul(O,Q)|0,r=(r=r+Math.imul(O,J)|0)+Math.imul(R,Q)|0,c=c+Math.imul(R,J)|0,n=n+Math.imul(S,$)|0,r=(r=r+Math.imul(S,ee)|0)+Math.imul(T,$)|0,c=c+Math.imul(T,ee)|0,n=n+Math.imul(x,ae)|0,r=(r=r+Math.imul(x,ne)|0)+Math.imul(k,ae)|0,c=c+Math.imul(k,ne)|0,n=n+Math.imul(_,ce)|0,r=(r=r+Math.imul(_,ie)|0)+Math.imul(w,ce)|0,c=c+Math.imul(w,ie)|0,n=n+Math.imul(v,oe)|0,r=(r=r+Math.imul(v,de)|0)+Math.imul(g,oe)|0,c=c+Math.imul(g,de)|0,n=n+Math.imul(p,be)|0,r=(r=r+Math.imul(p,ue)|0)+Math.imul(h,be)|0,c=c+Math.imul(h,ue)|0;var Ee=(d+(n=n+Math.imul(b,pe)|0)|0)+((8191&(r=(r=r+Math.imul(b,he)|0)+Math.imul(u,pe)|0))<<13)|0;d=((c=c+Math.imul(u,he)|0)+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(L,V),r=(r=Math.imul(L,G))+Math.imul(D,V)|0,c=Math.imul(D,G),n=n+Math.imul(N,K)|0,r=(r=r+Math.imul(N,Y)|0)+Math.imul(I,K)|0,c=c+Math.imul(I,Y)|0,n=n+Math.imul(F,Q)|0,r=(r=r+Math.imul(F,J)|0)+Math.imul(M,Q)|0,c=c+Math.imul(M,J)|0,n=n+Math.imul(O,$)|0,r=(r=r+Math.imul(O,ee)|0)+Math.imul(R,$)|0,c=c+Math.imul(R,ee)|0,n=n+Math.imul(S,ae)|0,r=(r=r+Math.imul(S,ne)|0)+Math.imul(T,ae)|0,c=c+Math.imul(T,ne)|0,n=n+Math.imul(x,ce)|0,r=(r=r+Math.imul(x,ie)|0)+Math.imul(k,ce)|0,c=c+Math.imul(k,ie)|0,n=n+Math.imul(_,oe)|0,r=(r=r+Math.imul(_,de)|0)+Math.imul(w,oe)|0,c=c+Math.imul(w,de)|0,n=n+Math.imul(v,be)|0,r=(r=r+Math.imul(v,ue)|0)+Math.imul(g,be)|0,c=c+Math.imul(g,ue)|0;var Se=(d+(n=n+Math.imul(p,pe)|0)|0)+((8191&(r=(r=r+Math.imul(p,he)|0)+Math.imul(h,pe)|0))<<13)|0;d=((c=c+Math.imul(h,he)|0)+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,K),r=(r=Math.imul(L,Y))+Math.imul(D,K)|0,c=Math.imul(D,Y),n=n+Math.imul(N,Q)|0,r=(r=r+Math.imul(N,J)|0)+Math.imul(I,Q)|0,c=c+Math.imul(I,J)|0,n=n+Math.imul(F,$)|0,r=(r=r+Math.imul(F,ee)|0)+Math.imul(M,$)|0,c=c+Math.imul(M,ee)|0,n=n+Math.imul(O,ae)|0,r=(r=r+Math.imul(O,ne)|0)+Math.imul(R,ae)|0,c=c+Math.imul(R,ne)|0,n=n+Math.imul(S,ce)|0,r=(r=r+Math.imul(S,ie)|0)+Math.imul(T,ce)|0,c=c+Math.imul(T,ie)|0,n=n+Math.imul(x,oe)|0,r=(r=r+Math.imul(x,de)|0)+Math.imul(k,oe)|0,c=c+Math.imul(k,de)|0,n=n+Math.imul(_,be)|0,r=(r=r+Math.imul(_,ue)|0)+Math.imul(w,be)|0,c=c+Math.imul(w,ue)|0;var Te=(d+(n=n+Math.imul(v,pe)|0)|0)+((8191&(r=(r=r+Math.imul(v,he)|0)+Math.imul(g,pe)|0))<<13)|0;d=((c=c+Math.imul(g,he)|0)+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,Q),r=(r=Math.imul(L,J))+Math.imul(D,Q)|0,c=Math.imul(D,J),n=n+Math.imul(N,$)|0,r=(r=r+Math.imul(N,ee)|0)+Math.imul(I,$)|0,c=c+Math.imul(I,ee)|0,n=n+Math.imul(F,ae)|0,r=(r=r+Math.imul(F,ne)|0)+Math.imul(M,ae)|0,c=c+Math.imul(M,ne)|0,n=n+Math.imul(O,ce)|0,r=(r=r+Math.imul(O,ie)|0)+Math.imul(R,ce)|0,c=c+Math.imul(R,ie)|0,n=n+Math.imul(S,oe)|0,r=(r=r+Math.imul(S,de)|0)+Math.imul(T,oe)|0,c=c+Math.imul(T,de)|0,n=n+Math.imul(x,be)|0,r=(r=r+Math.imul(x,ue)|0)+Math.imul(k,be)|0,c=c+Math.imul(k,ue)|0;var Ce=(d+(n=n+Math.imul(_,pe)|0)|0)+((8191&(r=(r=r+Math.imul(_,he)|0)+Math.imul(w,pe)|0))<<13)|0;d=((c=c+Math.imul(w,he)|0)+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,$),r=(r=Math.imul(L,ee))+Math.imul(D,$)|0,c=Math.imul(D,ee),n=n+Math.imul(N,ae)|0,r=(r=r+Math.imul(N,ne)|0)+Math.imul(I,ae)|0,c=c+Math.imul(I,ne)|0,n=n+Math.imul(F,ce)|0,r=(r=r+Math.imul(F,ie)|0)+Math.imul(M,ce)|0,c=c+Math.imul(M,ie)|0,n=n+Math.imul(O,oe)|0,r=(r=r+Math.imul(O,de)|0)+Math.imul(R,oe)|0,c=c+Math.imul(R,de)|0,n=n+Math.imul(S,be)|0,r=(r=r+Math.imul(S,ue)|0)+Math.imul(T,be)|0,c=c+Math.imul(T,ue)|0;var Oe=(d+(n=n+Math.imul(x,pe)|0)|0)+((8191&(r=(r=r+Math.imul(x,he)|0)+Math.imul(k,pe)|0))<<13)|0;d=((c=c+Math.imul(k,he)|0)+(r>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(L,ae),r=(r=Math.imul(L,ne))+Math.imul(D,ae)|0,c=Math.imul(D,ne),n=n+Math.imul(N,ce)|0,r=(r=r+Math.imul(N,ie)|0)+Math.imul(I,ce)|0,c=c+Math.imul(I,ie)|0,n=n+Math.imul(F,oe)|0,r=(r=r+Math.imul(F,de)|0)+Math.imul(M,oe)|0,c=c+Math.imul(M,de)|0,n=n+Math.imul(O,be)|0,r=(r=r+Math.imul(O,ue)|0)+Math.imul(R,be)|0,c=c+Math.imul(R,ue)|0;var Re=(d+(n=n+Math.imul(S,pe)|0)|0)+((8191&(r=(r=r+Math.imul(S,he)|0)+Math.imul(T,pe)|0))<<13)|0;d=((c=c+Math.imul(T,he)|0)+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,ce),r=(r=Math.imul(L,ie))+Math.imul(D,ce)|0,c=Math.imul(D,ie),n=n+Math.imul(N,oe)|0,r=(r=r+Math.imul(N,de)|0)+Math.imul(I,oe)|0,c=c+Math.imul(I,de)|0,n=n+Math.imul(F,be)|0,r=(r=r+Math.imul(F,ue)|0)+Math.imul(M,be)|0,c=c+Math.imul(M,ue)|0;var je=(d+(n=n+Math.imul(O,pe)|0)|0)+((8191&(r=(r=r+Math.imul(O,he)|0)+Math.imul(R,pe)|0))<<13)|0;d=((c=c+Math.imul(R,he)|0)+(r>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(L,oe),r=(r=Math.imul(L,de))+Math.imul(D,oe)|0,c=Math.imul(D,de),n=n+Math.imul(N,be)|0,r=(r=r+Math.imul(N,ue)|0)+Math.imul(I,be)|0,c=c+Math.imul(I,ue)|0;var Fe=(d+(n=n+Math.imul(F,pe)|0)|0)+((8191&(r=(r=r+Math.imul(F,he)|0)+Math.imul(M,pe)|0))<<13)|0;d=((c=c+Math.imul(M,he)|0)+(r>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,n=Math.imul(L,be),r=(r=Math.imul(L,ue))+Math.imul(D,be)|0,c=Math.imul(D,ue);var Me=(d+(n=n+Math.imul(N,pe)|0)|0)+((8191&(r=(r=r+Math.imul(N,he)|0)+Math.imul(I,pe)|0))<<13)|0;d=((c=c+Math.imul(I,he)|0)+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Be=(d+(n=Math.imul(L,pe))|0)+((8191&(r=(r=Math.imul(L,he))+Math.imul(D,pe)|0))<<13)|0;return d=((c=Math.imul(D,he))+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863,o[0]=me,o[1]=ve,o[2]=ge,o[3]=ye,o[4]=_e,o[5]=we,o[6]=Ae,o[7]=xe,o[8]=ke,o[9]=Ee,o[10]=Se,o[11]=Te,o[12]=Ce,o[13]=Oe,o[14]=Re,o[15]=je,o[16]=Fe,o[17]=Me,o[18]=Be,0!==d&&(o[19]=d,a.length++),a};function p(e,t,a){return(new h).mulp(e,t,a)}function h(e,t){this.x=e,this.y=t}Math.imul||(l=u),c.prototype.mulTo=function(e,t){var a=this.length+e.length;return 10===this.length&&10===e.length?l(this,e,t):a<63?u(this,e,t):a<1024?function(e,t,a){a.negative=t.negative^e.negative,a.length=e.length+t.length;for(var n=0,r=0,c=0;c<a.length-1;c++){var i=r;r=0;for(var f=67108863&n,o=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=o;d++){var s=c-d,b=(0|e.words[s])*(0|t.words[d]),u=67108863&b;f=67108863&(u=u+f|0),r+=(i=(i=i+(b/67108864|0)|0)+(u>>>26)|0)>>>26,i&=67108863}a.words[c]=f,n=i,i=r}return 0!==n?a.words[c]=n:a.length--,a.strip()}(this,e,t):p(this,e,t)},h.prototype.makeRBT=function(e){for(var t=new Array(e),a=c.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,a,e);return t},h.prototype.revBin=function(e,t,a){if(0===e||e===a-1)return e;for(var n=0,r=0;r<t;r++)n|=(1&e)<<t-r-1,e>>=1;return n},h.prototype.permute=function(e,t,a,n,r,c){for(var i=0;i<c;i++)n[i]=t[e[i]],r[i]=a[e[i]]},h.prototype.transform=function(e,t,a,n,r,c){this.permute(c,e,t,a,n,r);for(var i=1;i<r;i<<=1)for(var f=i<<1,o=Math.cos(2*Math.PI/f),d=Math.sin(2*Math.PI/f),s=0;s<r;s+=f)for(var b=o,u=d,l=0;l<i;l++){var p=a[s+l],h=n[s+l],m=a[s+l+i],v=n[s+l+i],g=b*m-u*v;v=b*v+u*m,m=g,a[s+l]=p+m,n[s+l]=h+v,a[s+l+i]=p-m,n[s+l+i]=h-v,l!==f&&(g=o*b-d*u,u=o*u+d*b,b=g)}},h.prototype.guessLen13b=function(e,t){var a=1|Math.max(t,e),n=1&a,r=0;for(a=a/2|0;a;a>>>=1)r++;return 1<<r+1+n},h.prototype.conjugate=function(e,t,a){if(!(a<=1))for(var n=0;n<a/2;n++){var r=e[n];e[n]=e[a-n-1],e[a-n-1]=r,r=t[n],t[n]=-t[a-n-1],t[a-n-1]=-r}},h.prototype.normalize13b=function(e,t){for(var a=0,n=0;n<t/2;n++){var r=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+a;e[n]=67108863&r,a=r<67108864?0:r/67108864|0}return e},h.prototype.convert13b=function(e,t,a,r){for(var c=0,i=0;i<t;i++)c+=0|e[i],a[2*i]=8191&c,c>>>=13,a[2*i+1]=8191&c,c>>>=13;for(i=2*t;i<r;++i)a[i]=0;n(0===c),n(0==(-8192&c))},h.prototype.stub=function(e){for(var t=new Array(e),a=0;a<e;a++)t[a]=0;return t},h.prototype.mulp=function(e,t,a){var n=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(n),c=this.stub(n),i=new Array(n),f=new Array(n),o=new Array(n),d=new Array(n),s=new Array(n),b=new Array(n),u=a.words;u.length=n,this.convert13b(e.words,e.length,i,n),this.convert13b(t.words,t.length,d,n),this.transform(i,c,f,o,n,r),this.transform(d,c,s,b,n,r);for(var l=0;l<n;l++){var p=f[l]*s[l]-o[l]*b[l];o[l]=f[l]*b[l]+o[l]*s[l],f[l]=p}return this.conjugate(f,o,n),this.transform(f,o,u,c,n,r),this.conjugate(u,c,n),this.normalize13b(u,n),a.negative=e.negative^t.negative,a.length=e.length+t.length,a.strip()},c.prototype.mul=function(e){var t=new c(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},c.prototype.mulf=function(e){var t=new c(null);return t.words=new Array(this.length+e.length),p(this,e,t)},c.prototype.imul=function(e){return this.clone().mulTo(e,this)},c.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,a=0;a<this.length;a++){var r=(0|this.words[a])*e,c=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=c>>>26,this.words[a]=67108863&c}return 0!==t&&(this.words[a]=t,this.length++),this},c.prototype.muln=function(e){return this.clone().imuln(e)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),a=0;a<t.length;a++){var n=a/26|0,r=a%26;t[a]=(e.words[n]&1<<r)>>>r}return t}(e);if(0===t.length)return new c(1);for(var a=this,n=0;n<t.length&&0===t[n];n++,a=a.sqr());if(++n<t.length)for(var r=a.sqr();n<t.length;n++,r=r.sqr())0!==t[n]&&(a=a.mul(r));return a},c.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,a=e%26,r=(e-a)/26,c=67108863>>>26-a<<26-a;if(0!==a){var i=0;for(t=0;t<this.length;t++){var f=this.words[t]&c,o=(0|this.words[t])-f<<a;this.words[t]=o|i,i=f>>>26-a}i&&(this.words[t]=i,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},c.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},c.prototype.iushrn=function(e,t,a){var r;n("number"==typeof e&&e>=0),r=t?(t-t%26)/26:0;var c=e%26,i=Math.min((e-c)/26,this.length),f=67108863^67108863>>>c<<c,o=a;if(r-=i,r=Math.max(0,r),o){for(var d=0;d<i;d++)o.words[d]=this.words[d];o.length=i}if(0===i);else if(this.length>i)for(this.length-=i,d=0;d<this.length;d++)this.words[d]=this.words[d+i];else this.words[0]=0,this.length=1;var s=0;for(d=this.length-1;d>=0&&(0!==s||d>=r);d--){var b=0|this.words[d];this.words[d]=s<<26-c|b>>>c,s=b&f}return o&&0!==s&&(o.words[o.length++]=s),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(e,t,a){return n(0===this.negative),this.iushrn(e,t,a)},c.prototype.shln=function(e){return this.clone().ishln(e)},c.prototype.ushln=function(e){return this.clone().iushln(e)},c.prototype.shrn=function(e){return this.clone().ishrn(e)},c.prototype.ushrn=function(e){return this.clone().iushrn(e)},c.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,a=(e-t)/26,r=1<<t;return!(this.length<=a)&&!!(this.words[a]&r)},c.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,a=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=a)return this;if(0!==t&&a++,this.length=Math.min(a,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},c.prototype.maskn=function(e){return this.clone().imaskn(e)},c.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},c.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},c.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},c.prototype.addn=function(e){return this.clone().iaddn(e)},c.prototype.subn=function(e){return this.clone().isubn(e)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(e,t,a){var r,c,i=e.length+a;this._expand(i);var f=0;for(r=0;r<e.length;r++){c=(0|this.words[r+a])+f;var o=(0|e.words[r])*t;f=((c-=67108863&o)>>26)-(o/67108864|0),this.words[r+a]=67108863&c}for(;r<this.length-a;r++)f=(c=(0|this.words[r+a])+f)>>26,this.words[r+a]=67108863&c;if(0===f)return this.strip();for(n(-1===f),f=0,r=0;r<this.length;r++)f=(c=-(0|this.words[r])+f)>>26,this.words[r]=67108863&c;return this.negative=1,this.strip()},c.prototype._wordDiv=function(e,t){var a=(this.length,e.length),n=this.clone(),r=e,i=0|r.words[r.length-1];0!==(a=26-this._countBits(i))&&(r=r.ushln(a),n.iushln(a),i=0|r.words[r.length-1]);var f,o=n.length-r.length;if("mod"!==t){(f=new c(null)).length=o+1,f.words=new Array(f.length);for(var d=0;d<f.length;d++)f.words[d]=0}var s=n.clone()._ishlnsubmul(r,1,o);0===s.negative&&(n=s,f&&(f.words[o]=1));for(var b=o-1;b>=0;b--){var u=67108864*(0|n.words[r.length+b])+(0|n.words[r.length+b-1]);for(u=Math.min(u/i|0,67108863),n._ishlnsubmul(r,u,b);0!==n.negative;)u--,n.negative=0,n._ishlnsubmul(r,1,b),n.isZero()||(n.negative^=1);f&&(f.words[b]=u)}return f&&f.strip(),n.strip(),"div"!==t&&0!==a&&n.iushrn(a),{div:f||null,mod:n}},c.prototype.divmod=function(e,t,a){return n(!e.isZero()),this.isZero()?{div:new c(0),mod:new c(0)}:0!==this.negative&&0===e.negative?(f=this.neg().divmod(e,t),"mod"!==t&&(r=f.div.neg()),"div"!==t&&(i=f.mod.neg(),a&&0!==i.negative&&i.iadd(e)),{div:r,mod:i}):0===this.negative&&0!==e.negative?(f=this.divmod(e.neg(),t),"mod"!==t&&(r=f.div.neg()),{div:r,mod:f.mod}):0!=(this.negative&e.negative)?(f=this.neg().divmod(e.neg(),t),"div"!==t&&(i=f.mod.neg(),a&&0!==i.negative&&i.isub(e)),{div:f.div,mod:i}):e.length>this.length||this.cmp(e)<0?{div:new c(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new c(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new c(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,i,f},c.prototype.div=function(e){return this.divmod(e,"div",!1).div},c.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},c.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},c.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var a=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),r=e.andln(1),c=a.cmp(n);return c<0||1===r&&0===c?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},c.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,a=0,r=this.length-1;r>=0;r--)a=(t*a+(0|this.words[r]))%e;return a},c.prototype.idivn=function(e){n(e<=67108863);for(var t=0,a=this.length-1;a>=0;a--){var r=(0|this.words[a])+67108864*t;this.words[a]=r/e|0,t=r%e}return this.strip()},c.prototype.divn=function(e){return this.clone().idivn(e)},c.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,a=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new c(1),i=new c(0),f=new c(0),o=new c(1),d=0;t.isEven()&&a.isEven();)t.iushrn(1),a.iushrn(1),++d;for(var s=a.clone(),b=t.clone();!t.isZero();){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)(r.isOdd()||i.isOdd())&&(r.iadd(s),i.isub(b)),r.iushrn(1),i.iushrn(1);for(var p=0,h=1;0==(a.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(a.iushrn(p);p-- >0;)(f.isOdd()||o.isOdd())&&(f.iadd(s),o.isub(b)),f.iushrn(1),o.iushrn(1);t.cmp(a)>=0?(t.isub(a),r.isub(f),i.isub(o)):(a.isub(t),f.isub(r),o.isub(i))}return{a:f,b:o,gcd:a.iushln(d)}},c.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,a=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r,i=new c(1),f=new c(0),o=a.clone();t.cmpn(1)>0&&a.cmpn(1)>0;){for(var d=0,s=1;0==(t.words[0]&s)&&d<26;++d,s<<=1);if(d>0)for(t.iushrn(d);d-- >0;)i.isOdd()&&i.iadd(o),i.iushrn(1);for(var b=0,u=1;0==(a.words[0]&u)&&b<26;++b,u<<=1);if(b>0)for(a.iushrn(b);b-- >0;)f.isOdd()&&f.iadd(o),f.iushrn(1);t.cmp(a)>=0?(t.isub(a),i.isub(f)):(a.isub(t),f.isub(i))}return(r=0===t.cmpn(1)?i:f).cmpn(0)<0&&r.iadd(e),r},c.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),a=e.clone();t.negative=0,a.negative=0;for(var n=0;t.isEven()&&a.isEven();n++)t.iushrn(1),a.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;a.isEven();)a.iushrn(1);var r=t.cmp(a);if(r<0){var c=t;t=a,a=c}else if(0===r||0===a.cmpn(1))break;t.isub(a)}return a.iushln(n)},c.prototype.invm=function(e){return this.egcd(e).a.umod(e)},c.prototype.isEven=function(){return 0==(1&this.words[0])},c.prototype.isOdd=function(){return 1==(1&this.words[0])},c.prototype.andln=function(e){return this.words[0]&e},c.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,a=(e-t)/26,r=1<<t;if(this.length<=a)return this._expand(a+1),this.words[a]|=r,this;for(var c=r,i=a;0!==c&&i<this.length;i++){var f=0|this.words[i];c=(f+=c)>>>26,f&=67108863,this.words[i]=f}return 0!==c&&(this.words[i]=c,this.length++),this},c.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},c.prototype.cmpn=function(e){var t,a=e<0;if(0!==this.negative&&!a)return-1;if(0===this.negative&&a)return 1;if(this.strip(),this.length>1)t=1;else{a&&(e=-e),n(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},c.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},c.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,a=this.length-1;a>=0;a--){var n=0|this.words[a],r=0|e.words[a];if(n!==r){n<r?t=-1:n>r&&(t=1);break}}return t},c.prototype.gtn=function(e){return 1===this.cmpn(e)},c.prototype.gt=function(e){return 1===this.cmp(e)},c.prototype.gten=function(e){return this.cmpn(e)>=0},c.prototype.gte=function(e){return this.cmp(e)>=0},c.prototype.ltn=function(e){return-1===this.cmpn(e)},c.prototype.lt=function(e){return-1===this.cmp(e)},c.prototype.lten=function(e){return this.cmpn(e)<=0},c.prototype.lte=function(e){return this.cmp(e)<=0},c.prototype.eqn=function(e){return 0===this.cmpn(e)},c.prototype.eq=function(e){return 0===this.cmp(e)},c.red=function(e){return new A(e)},c.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},c.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(e){return this.red=e,this},c.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},c.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},c.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},c.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},c.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},c.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},c.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},c.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},c.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new c(t,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=c._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function x(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new c(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,a=e;do{this.split(a,this.tmp),t=(a=(a=this.imulK(a)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:a.ucmp(this.p);return 0===n?(a.words[0]=0,a.length=1):n>0?a.isub(this.p):a.strip(),a},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},r(g,v),g.prototype.split=function(e,t){for(var a=Math.min(e.length,9),n=0;n<a;n++)t.words[n]=e.words[n];if(t.length=a,e.length<=9)return e.words[0]=0,void(e.length=1);var r=e.words[9];for(t.words[t.length++]=4194303&r,n=10;n<e.length;n++){var c=0|e.words[n];e.words[n-10]=(4194303&c)<<4|r>>>22,r=c}r>>>=22,e.words[n-10]=r,0===r&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,a=0;a<e.length;a++){var n=0|e.words[a];t+=977*n,e.words[a]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(y,v),r(_,v),r(w,v),w.prototype.imulK=function(e){for(var t=0,a=0;a<e.length;a++){var n=19*(0|e.words[a])+t,r=67108863&n;n>>>=26,e.words[a]=r,t=n}return 0!==t&&(e.words[e.length++]=t),e},c._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new y;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new w}return m[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var a=e.add(t);return a.cmp(this.m)>=0&&a.isub(this.m),a._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var a=e.iadd(t);return a.cmp(this.m)>=0&&a.isub(this.m),a},A.prototype.sub=function(e,t){this._verify2(e,t);var a=e.sub(t);return a.cmpn(0)<0&&a.iadd(this.m),a._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var a=e.isub(t);return a.cmpn(0)<0&&a.iadd(this.m),a},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var a=this.m.add(new c(1)).iushrn(2);return this.pow(e,a)}for(var r=this.m.subn(1),i=0;!r.isZero()&&0===r.andln(1);)i++,r.iushrn(1);n(!r.isZero());var f=new c(1).toRed(this),o=f.redNeg(),d=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new c(2*s*s).toRed(this);0!==this.pow(s,d).cmp(o);)s.redIAdd(o);for(var b=this.pow(s,r),u=this.pow(e,r.addn(1).iushrn(1)),l=this.pow(e,r),p=i;0!==l.cmp(f);){for(var h=l,m=0;0!==h.cmp(f);m++)h=h.redSqr();n(m<p);var v=this.pow(b,new c(1).iushln(p-m-1));u=u.redMul(v),b=v.redSqr(),l=l.redMul(b),p=m}return u},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new c(1);if(0===t.cmpn(1))return e.clone();var a=new Array(16);a[0]=new c(1).toRed(this),a[1]=e;for(var n=2;n<a.length;n++)a[n]=this.mul(a[n-1],e);var r=a[0],i=0,f=0,o=t.bitLength()%26;for(0===o&&(o=26),n=t.length-1;n>=0;n--){for(var d=t.words[n],s=o-1;s>=0;s--){var b=d>>s&1;r!==a[0]&&(r=this.sqr(r)),0!==b||0!==i?(i<<=1,i|=b,(4===++f||0===n&&0===s)&&(r=this.mul(r,a[i]),f=0,i=0)):f=0}o=26}return r},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},c.mont=function(e){return new x(e)},r(x,A),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var a=e.imul(t),n=a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=a.isub(n).iushrn(this.shift),c=r;return r.cmp(this.m)>=0?c=r.isub(this.m):r.cmpn(0)<0&&(c=r.iadd(this.m)),c._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new c(0)._forceRed(this);var a=e.mul(t),n=a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=a.isub(n).iushrn(this.shift),i=r;return r.cmp(this.m)>=0?i=r.isub(this.m):r.cmpn(0)<0&&(i=r.iadd(this.m)),i._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)}).call(this,a(31)(e))},function(e,t){e.exports=__webpack_require__(6)},function(e,t){e.exports=__webpack_require__(11)},function(e,t,a){"use strict";var n=a(83),r="undefined"==typeof navigator,c=function(){try{var e={};return n.defineProperty(e,"f",{get:function(){return 3}}),3===e.f}catch(e){return!1}}(),i={e:{}},f;function o(){try{var e=f;return f=null,e.apply(this,arguments)}catch(e){return i.e=e,i}}function d(e){return f=e,o}var s=function(e,t){var a={}.hasOwnProperty;function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)a.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}return n.prototype=t.prototype,e.prototype=new n,e.prototype};function b(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function u(e){return!b(e)}function l(e){return b(e)?new Error(E(e)):e}function p(e,t){var a,n=e.length,r=new Array(n+1);for(a=0;a<n;++a)r[a]=e[a];return r[a]=t,r}function h(e,t,a){if(!n.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:a:void 0}function m(e,t,a){if(b(e))return e;var r={value:a,configurable:!0,enumerable:!1,writable:!0};return n.defineProperty(e,t,r),e}function v(e){throw e}var g=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var a=0;a<e.length;++a)if(e[a]===t)return!0;return!1};if(n.isES5){var a=Object.getOwnPropertyNames;return function(e){for(var r=[],c=Object.create(null);null!=e&&!t(e);){var i;try{i=a(e)}catch(e){return r}for(var f=0;f<i.length;++f){var o=i[f];if(!c[o]){c[o]=!0;var d=Object.getOwnPropertyDescriptor(e,o);null!=d&&null==d.get&&null==d.set&&r.push(o)}}e=n.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(a){if(t(a))return[];var n=[];e:for(var c in a)if(r.call(a,c))n.push(c);else{for(var i=0;i<e.length;++i)if(r.call(e[i],c))continue e;n.push(c)}return n}}(),y=/this\s*\.\s*\S+\s*=/;function _(e){try{if("function"==typeof e){var t=n.names(e.prototype),a=n.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),c=y.test(e+"")&&n.names(e).length>0;if(a||r||c)return!0}return!1}catch(e){return!1}}function w(e){function t(){}t.prototype=e;for(var a=8;a--;)new t;return e}var A=/^[a-z$_][a-z$_0-9]*$/i;function x(e){return A.test(e)}function k(e,t,a){for(var n=new Array(e),r=0;r<e;++r)n[r]=t+r+a;return n}function E(e){try{return e+""}catch(e){return"[no string representation]"}}function S(e){try{m(e,"isOperational",!0)}catch(e){}}function T(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function C(e){return e instanceof Error&&n.propertyIsWritable(e,"stack")}var O="stack"in new Error?function(e){return C(e)?e:new Error(E(e))}:function(e){if(C(e))return e;try{throw new Error(E(e))}catch(e){return e}};function R(e){return{}.toString.call(e)}function j(e,t,a){for(var r=n.names(e),c=0;c<r.length;++c){var i=r[c];if(a(i))try{n.defineProperty(t,i,n.getDescriptor(e,i))}catch(e){}}}var F={isClass:_,isIdentifier:x,inheritedDataKeys:g,getDataPropertyOrDefault:h,thrower:v,isArray:n.isArray,haveGetters:c,notEnumerableProp:m,isPrimitive:b,isObject:u,canEvaluate:r,errorObj:i,tryCatch:d,inherits:s,withAppended:p,maybeWrapAsError:l,toFastProperties:w,filledRange:k,toString:E,canAttachTrace:C,ensureErrorObject:O,originatesFromRejection:T,markAsOriginatingFromRejection:S,classString:R,copyDescriptors:j,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof process&&"[object process]"===R(process).toLowerCase()},M;F.isRecentNode=F.isNode&&(M=process.versions.node.split(".").map(Number),0===M[0]&&M[1]>10||M[0]>0),F.isNode&&F.toFastProperties(process);try{throw new Error}catch(e){F.lastLineError=e}e.exports=F},function(e,t,a){"use strict";var n=a(72),r="undefined"==typeof navigator,c={e:{}},i,f="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;function o(){try{var e=i;return i=null,e.apply(this,arguments)}catch(e){return c.e=e,c}}function d(e){return i=e,o}var s=function(e,t){var a={}.hasOwnProperty;function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)a.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}return n.prototype=t.prototype,e.prototype=new n,e.prototype};function b(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function u(e){return"function"==typeof e||"object"==typeof e&&null!==e}function l(e){return b(e)?new Error(E(e)):e}function p(e,t){var a,n=e.length,r=new Array(n+1);for(a=0;a<n;++a)r[a]=e[a];return r[a]=t,r}function h(e,t,a){if(!n.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:a:void 0}function m(e,t,a){if(b(e))return e;var r={value:a,configurable:!0,enumerable:!1,writable:!0};return n.defineProperty(e,t,r),e}function v(e){throw e}var g=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var a=0;a<e.length;++a)if(e[a]===t)return!0;return!1};if(n.isES5){var a=Object.getOwnPropertyNames;return function(e){for(var r=[],c=Object.create(null);null!=e&&!t(e);){var i;try{i=a(e)}catch(e){return r}for(var f=0;f<i.length;++f){var o=i[f];if(!c[o]){c[o]=!0;var d=Object.getOwnPropertyDescriptor(e,o);null!=d&&null==d.get&&null==d.set&&r.push(o)}}e=n.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(a){if(t(a))return[];var n=[];e:for(var c in a)if(r.call(a,c))n.push(c);else{for(var i=0;i<e.length;++i)if(r.call(e[i],c))continue e;n.push(c)}return n}}(),y=/this\s*\.\s*\S+\s*=/;function _(e){try{if("function"==typeof e){var t=n.names(e.prototype),a=n.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),c=y.test(e+"")&&n.names(e).length>0;if(a||r||c)return!0}return!1}catch(e){return!1}}function w(e){function t(){}t.prototype=e;for(var a=8;a--;)new t;return e}var A=/^[a-z$_][a-z$_0-9]*$/i;function x(e){return A.test(e)}function k(e,t,a){for(var n=new Array(e),r=0;r<e;++r)n[r]=t+r+a;return n}function E(e){try{return e+""}catch(e){return"[no string representation]"}}function S(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function T(e){try{m(e,"isOperational",!0)}catch(e){}}function C(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function O(e){return S(e)&&n.propertyIsWritable(e,"stack")}var R="stack"in new Error?function(e){return O(e)?e:new Error(E(e))}:function(e){if(O(e))return e;try{throw new Error(E(e))}catch(e){return e}};function j(e){return{}.toString.call(e)}function F(e,t,a){for(var r=n.names(e),c=0;c<r.length;++c){var i=r[c];if(a(i))try{n.defineProperty(t,i,n.getDescriptor(e,i))}catch(e){}}}var M=function(e){return n.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var B="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,a=[],n=e[Symbol.iterator]();!(t=n.next()).done;)a.push(t.value);return a};M=function(e){return n.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?B(e):null}}var N="undefined"!=typeof process&&"[object process]"===j(process).toLowerCase(),I="undefined"!=typeof process&&void 0!==process.env;function P(e){return I?process.env[e]:void 0}function L(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function D(e,t){return e.bind(t)}var z={isClass:_,isIdentifier:x,inheritedDataKeys:g,getDataPropertyOrDefault:h,thrower:v,isArray:n.isArray,asArray:M,notEnumerableProp:m,isPrimitive:b,isObject:u,isError:S,canEvaluate:r,errorObj:c,tryCatch:d,inherits:s,withAppended:p,maybeWrapAsError:l,toFastProperties:w,filledRange:k,toString:E,canAttachTrace:O,ensureErrorObject:R,originatesFromRejection:C,markAsOriginatingFromRejection:T,classString:j,copyDescriptors:F,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:N,hasEnvVariables:I,env:P,global:f,getNativePromise:L,domainBind:D},U;z.isRecentNode=z.isNode&&(U=process.versions.node.split(".").map(Number),0===U[0]&&U[1]>10||U[0]>0),z.isNode&&z.toFastProperties(process);try{throw new Error}catch(e){z.lastLineError=e}e.exports=z},function(e,t,a){"use strict";var n=a(74),r="undefined"==typeof navigator,c={e:{}},i,f="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;function o(){try{var e=i;return i=null,e.apply(this,arguments)}catch(e){return c.e=e,c}}function d(e){return i=e,o}var s=function(e,t){var a={}.hasOwnProperty;function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)a.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}return n.prototype=t.prototype,e.prototype=new n,e.prototype};function b(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function u(e){return"function"==typeof e||"object"==typeof e&&null!==e}function l(e){return b(e)?new Error(E(e)):e}function p(e,t){var a,n=e.length,r=new Array(n+1);for(a=0;a<n;++a)r[a]=e[a];return r[a]=t,r}function h(e,t,a){if(!n.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:a:void 0}function m(e,t,a){if(b(e))return e;var r={value:a,configurable:!0,enumerable:!1,writable:!0};return n.defineProperty(e,t,r),e}function v(e){throw e}var g=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var a=0;a<e.length;++a)if(e[a]===t)return!0;return!1};if(n.isES5){var a=Object.getOwnPropertyNames;return function(e){for(var r=[],c=Object.create(null);null!=e&&!t(e);){var i;try{i=a(e)}catch(e){return r}for(var f=0;f<i.length;++f){var o=i[f];if(!c[o]){c[o]=!0;var d=Object.getOwnPropertyDescriptor(e,o);null!=d&&null==d.get&&null==d.set&&r.push(o)}}e=n.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(a){if(t(a))return[];var n=[];e:for(var c in a)if(r.call(a,c))n.push(c);else{for(var i=0;i<e.length;++i)if(r.call(e[i],c))continue e;n.push(c)}return n}}(),y=/this\s*\.\s*\S+\s*=/;function _(e){try{if("function"==typeof e){var t=n.names(e.prototype),a=n.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),c=y.test(e+"")&&n.names(e).length>0;if(a||r||c)return!0}return!1}catch(e){return!1}}function w(e){function t(){}t.prototype=e;for(var a=8;a--;)new t;return e}var A=/^[a-z$_][a-z$_0-9]*$/i;function x(e){return A.test(e)}function k(e,t,a){for(var n=new Array(e),r=0;r<e;++r)n[r]=t+r+a;return n}function E(e){try{return e+""}catch(e){return"[no string representation]"}}function S(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function T(e){try{m(e,"isOperational",!0)}catch(e){}}function C(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function O(e){return S(e)&&n.propertyIsWritable(e,"stack")}var R="stack"in new Error?function(e){return O(e)?e:new Error(E(e))}:function(e){if(O(e))return e;try{throw new Error(E(e))}catch(e){return e}};function j(e){return{}.toString.call(e)}function F(e,t,a){for(var r=n.names(e),c=0;c<r.length;++c){var i=r[c];if(a(i))try{n.defineProperty(t,i,n.getDescriptor(e,i))}catch(e){}}}var M=function(e){return n.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var B="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,a=[],n=e[Symbol.iterator]();!(t=n.next()).done;)a.push(t.value);return a};M=function(e){return n.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?B(e):null}}var N="undefined"!=typeof process&&"[object process]"===j(process).toLowerCase();function I(e,t){return N?process.env[e]:t}var P={isClass:_,isIdentifier:x,inheritedDataKeys:g,getDataPropertyOrDefault:h,thrower:v,isArray:n.isArray,asArray:M,notEnumerableProp:m,isPrimitive:b,isObject:u,isError:S,canEvaluate:r,errorObj:c,tryCatch:d,inherits:s,withAppended:p,maybeWrapAsError:l,toFastProperties:w,filledRange:k,toString:E,canAttachTrace:O,ensureErrorObject:R,originatesFromRejection:C,markAsOriginatingFromRejection:T,classString:j,copyDescriptors:F,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:N,env:I,global:f},L;P.isRecentNode=P.isNode&&(L=process.versions.node.split(".").map(Number),0===L[0]&&L[1]>10||L[0]>0),P.isNode&&P.toFastProperties(process);try{throw new Error}catch(e){P.lastLineError=e}e.exports=P},function(e,t,a){"use strict";var n=a(75),r="undefined"==typeof navigator,c={e:{}},i,f="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;function o(){try{var e=i;return i=null,e.apply(this,arguments)}catch(e){return c.e=e,c}}function d(e){return i=e,o}var s=function(e,t){var a={}.hasOwnProperty;function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)a.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}return n.prototype=t.prototype,e.prototype=new n,e.prototype};function b(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function u(e){return"function"==typeof e||"object"==typeof e&&null!==e}function l(e){return b(e)?new Error(E(e)):e}function p(e,t){var a,n=e.length,r=new Array(n+1);for(a=0;a<n;++a)r[a]=e[a];return r[a]=t,r}function h(e,t,a){if(!n.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:a:void 0}function m(e,t,a){if(b(e))return e;var r={value:a,configurable:!0,enumerable:!1,writable:!0};return n.defineProperty(e,t,r),e}function v(e){throw e}var g=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var a=0;a<e.length;++a)if(e[a]===t)return!0;return!1};if(n.isES5){var a=Object.getOwnPropertyNames;return function(e){for(var r=[],c=Object.create(null);null!=e&&!t(e);){var i;try{i=a(e)}catch(e){return r}for(var f=0;f<i.length;++f){var o=i[f];if(!c[o]){c[o]=!0;var d=Object.getOwnPropertyDescriptor(e,o);null!=d&&null==d.get&&null==d.set&&r.push(o)}}e=n.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(a){if(t(a))return[];var n=[];e:for(var c in a)if(r.call(a,c))n.push(c);else{for(var i=0;i<e.length;++i)if(r.call(e[i],c))continue e;n.push(c)}return n}}(),y=/this\s*\.\s*\S+\s*=/;function _(e){try{if("function"==typeof e){var t=n.names(e.prototype),a=n.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),c=y.test(e+"")&&n.names(e).length>0;if(a||r||c)return!0}return!1}catch(e){return!1}}function w(e){function t(){}t.prototype=e;for(var a=8;a--;)new t;return e}var A=/^[a-z$_][a-z$_0-9]*$/i;function x(e){return A.test(e)}function k(e,t,a){for(var n=new Array(e),r=0;r<e;++r)n[r]=t+r+a;return n}function E(e){try{return e+""}catch(e){return"[no string representation]"}}function S(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function T(e){try{m(e,"isOperational",!0)}catch(e){}}function C(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function O(e){return S(e)&&n.propertyIsWritable(e,"stack")}var R="stack"in new Error?function(e){return O(e)?e:new Error(E(e))}:function(e){if(O(e))return e;try{throw new Error(E(e))}catch(e){return e}};function j(e){return{}.toString.call(e)}function F(e,t,a){for(var r=n.names(e),c=0;c<r.length;++c){var i=r[c];if(a(i))try{n.defineProperty(t,i,n.getDescriptor(e,i))}catch(e){}}}var M=function(e){return n.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var B="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,a=[],n=e[Symbol.iterator]();!(t=n.next()).done;)a.push(t.value);return a};M=function(e){return n.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?B(e):null}}var N="undefined"!=typeof process&&"[object process]"===j(process).toLowerCase();function I(e,t){return N?process.env[e]:t}var P={isClass:_,isIdentifier:x,inheritedDataKeys:g,getDataPropertyOrDefault:h,thrower:v,isArray:n.isArray,asArray:M,notEnumerableProp:m,isPrimitive:b,isObject:u,isError:S,canEvaluate:r,errorObj:c,tryCatch:d,inherits:s,withAppended:p,maybeWrapAsError:l,toFastProperties:w,filledRange:k,toString:E,canAttachTrace:O,ensureErrorObject:R,originatesFromRejection:C,markAsOriginatingFromRejection:T,classString:j,copyDescriptors:F,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:N,env:I,global:f},L;P.isRecentNode=P.isNode&&(L=process.versions.node.split(".").map(Number),0===L[0]&&L[1]>10||L[0]>0),P.isNode&&P.toFastProperties(process);try{throw new Error}catch(e){P.lastLineError=e}e.exports=P},function(e,t,a){var n=a(177),r=a(176),c=a(297);e.exports=function(e,t){if(null==e)return n;switch(typeof e){case"function":return void 0!==t?function(a,n,r){return e.call(t,a,n,r)}:e;case"object":return function(t){return c(t,e)};case"string":case"number":return r(e)}}},function(e,t,a){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=a(444),c=a(67),i=a(10),f=a(47),o=a(8),d=a(27),s=a(6).Buffer;Object.assign(t,a(218)),t.MAX_INTEGER=new o("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new o("10000000000000000000000000000000000000000000000000000000000000000",16),t.SHA3_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.SHA3_NULL=s.from(t.SHA3_NULL_S,"hex"),t.SHA3_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.SHA3_RLP_ARRAY=s.from(t.SHA3_RLP_ARRAY_S,"hex"),t.SHA3_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.SHA3_RLP=s.from(t.SHA3_RLP_S,"hex"),t.BN=o,t.rlp=f,t.secp256k1=c,t.zeros=function(e){return s.allocUnsafe(e).fill(0)},t.zeroAddress=function(){var e=t.zeros(20);return t.bufferToHex(e)},t.setLengthLeft=t.setLength=function(e,a,n){var r=t.zeros(a);return e=t.toBuffer(e),n?e.length<a?(e.copy(r),r):e.slice(0,a):e.length<a?(e.copy(r,a-e.length),r):e.slice(-a)},t.setLengthRight=function(e,a){return t.setLength(e,a,!0)},t.unpad=t.stripZeros=function(e){for(var a=(e=t.stripHexPrefix(e))[0];e.length>0&&"0"===a.toString();)a=(e=e.slice(1))[0];return e},t.toBuffer=function(e){if(!s.isBuffer(e))if(Array.isArray(e))e=s.from(e);else if("string"==typeof e)e=t.isHexString(e)?s.from(t.padToEven(t.stripHexPrefix(e)),"hex"):s.from(e);else if("number"==typeof e)e=t.intToBuffer(e);else if(null===e||void 0===e)e=s.allocUnsafe(0);else if(o.isBN(e))e=e.toArrayLike(s);else{if(!e.toArray)throw new Error("invalid type");e=s.from(e.toArray())}return e},t.bufferToInt=function(e){return new o(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new o(e).fromTwos(256)},t.toUnsigned=function(e){return s.from(e.toTwos(256).toArray())},t.sha3=function(e,a){return e=t.toBuffer(e),a||(a=256),r("keccak"+a).update(e).digest()},t.sha256=function(e){return e=t.toBuffer(e),d("sha256").update(e).digest()},t.ripemd160=function(e,a){e=t.toBuffer(e);var n=d("rmd160").update(e).digest();return!0===a?t.setLength(n,32):n},t.rlphash=function(e){return t.sha3(f.encode(e))},t.isValidPrivate=function(e){return c.privateKeyVerify(e)},t.isValidPublic=function(e,t){return 64===e.length?c.publicKeyVerify(s.concat([s.from([4]),e])):!!t&&c.publicKeyVerify(e)},t.pubToAddress=t.publicToAddress=function(e,a){return e=t.toBuffer(e),a&&64!==e.length&&(e=c.publicKeyConvert(e,!1).slice(1)),i(64===e.length),t.sha3(e).slice(-20)};var b=t.privateToPublic=function(e){return e=t.toBuffer(e),c.publicKeyCreate(e,!1).slice(1)};t.importPublic=function(e){return 64!==(e=t.toBuffer(e)).length&&(e=c.publicKeyConvert(e,!1).slice(1)),e},t.ecsign=function(e,t){var a=c.sign(e,t),n={};return n.r=a.signature.slice(0,32),n.s=a.signature.slice(32,64),n.v=a.recovery+27,n},t.hashPersonalMessage=function(e){var a=t.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return t.sha3(s.concat([a,e]))},t.ecrecover=function(e,a,n,r){var i=s.concat([t.setLength(n,32),t.setLength(r,32)],64),f=a-27;if(0!==f&&1!==f)throw new Error("Invalid signature v value");var o=c.recover(e,i,f);return c.publicKeyConvert(o,!1).slice(1)},t.toRpcSig=function(e,a,n){if(27!==e&&28!==e)throw new Error("Invalid recovery id");return t.bufferToHex(s.concat([t.setLengthLeft(a,32),t.setLengthLeft(n,32),t.toBuffer(e-27)]))},t.fromRpcSig=function(e){if(65!==(e=t.toBuffer(e)).length)throw new Error("Invalid signature length");var a=e[64];return a<27&&(a+=27),{v:a,r:e.slice(0,32),s:e.slice(32,64)}},t.privateToAddress=function(e){return t.publicToAddress(b(e))},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},t.isZeroAddress=function(e){return t.zeroAddress()===t.addHexPrefix(e)},t.toChecksumAddress=function(e){e=t.stripHexPrefix(e).toLowerCase();for(var a=t.sha3(e).toString("hex"),n="0x",r=0;r<e.length;r++)parseInt(a[r],16)>=8?n+=e[r].toUpperCase():n+=e[r];return n},t.isValidChecksumAddress=function(e){return t.isValidAddress(e)&&t.toChecksumAddress(e)===e},t.generateAddress=function(e,a){return e=t.toBuffer(e),a=(a=new o(a)).isZero()?null:s.from(a.toArray()),t.rlphash([e,a]).slice(-20)},t.isPrecompiled=function(e){var a=t.unpad(e);return 1===a.length&&a[0]>=1&&a[0]<=8},t.addHexPrefix=function(e){return"string"!=typeof e?e:t.isHexPrefixed(e)?e:"0x"+e},t.isValidSignature=function(e,t,a,n){var r=new o("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),c=new o("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);return 32===t.length&&32===a.length&&((27===e||28===e)&&(t=new o(t),a=new o(a),!(t.isZero()||t.gt(c)||a.isZero()||a.gt(c))&&(!1!==n||1!==new o(a).cmp(r))))},t.baToJSON=function(e){if(s.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var a=[],n=0;n<e.length;n++)a.push(t.baToJSON(e[n]));return a}},t.defineProperties=function(e,a,r){if(e.raw=[],e._fields=[],e.toJSON=function(a){if(a){var n={};return e._fields.forEach(function(t){n[t]="0x"+e[t].toString("hex")}),n}return t.baToJSON(this.raw)},e.serialize=function(){return f.encode(e.raw)},a.forEach(function(a,n){function r(){return e.raw[n]}function c(r){"00"!==(r=t.toBuffer(r)).toString("hex")||a.allowZero||(r=s.allocUnsafe(0)),a.allowLess&&a.length?(r=t.stripZeros(r),i(a.length>=r.length,"The field "+a.name+" must not have more "+a.length+" bytes")):a.allowZero&&0===r.length||!a.length||i(a.length===r.length,"The field "+a.name+" must have byte length of "+a.length),e.raw[n]=r}e._fields.push(a.name),Object.defineProperty(e,a.name,{enumerable:!0,configurable:!0,get:r,set:c}),a.default&&(e[a.name]=a.default),a.alias&&Object.defineProperty(e,a.alias,{enumerable:!1,configurable:!0,set:c,get:r})}),r)if("string"==typeof r&&(r=s.from(t.stripHexPrefix(r),"hex")),s.isBuffer(r)&&(r=f.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(a,n){e[e._fields[n]]=t.toBuffer(a)})}else{if("object"!==(void 0===r?"undefined":n(r)))throw new Error("invalid data");var c=Object.keys(r);a.forEach(function(t){-1!==c.indexOf(t.name)&&(e[t.name]=r[t.name]),-1!==c.indexOf(t.alias)&&(e[t.alias]=r[t.alias])})}}},function(e,t,a){var n=a(70),r=a(175);e.exports=function(e,t,a){r(e,function(r,c){if(n(e,c))return t.call(a,e[c],c,e)})}},function(e,t){function a(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===a(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===a(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===a(e)},t.isError=function(e){return"[object Error]"===a(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,a){(function(e){(function(t){"use strict";function a(e,t){t|=0;for(var a=Math.max(e.length-t,0),n=Array(a),r=0;r<a;r++)n[r]=e[t+r];return n}var n=function(e){var t=a(arguments,1);return function(){var n=a(arguments);return e.apply(null,t.concat(n))}},r=function(e){return function(){var t=a(arguments),n=t.pop();e.call(this,t,n)}};function c(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var i="function"==typeof setImmediate&&setImmediate,f="object"==typeof process&&"function"==typeof process.nextTick;function o(e){setTimeout(e,0)}function d(e){return function(t){var n=a(arguments,1);e(function(){t.apply(null,n)})}}var s=d(i?setImmediate:f?process.nextTick:o);function b(e){return r(function(t,a){var n;try{n=e.apply(this,t)}catch(e){return a(e)}c(n)&&"function"==typeof n.then?n.then(function(e){u(a,null,e)},function(e){u(a,e.message?e:new Error(e))}):a(null,n)})}function u(e,t,a){try{e(t,a)}catch(e){s(l,e)}}function l(e){throw e}var p="function"==typeof Symbol;function h(e){return p&&"AsyncFunction"===e[Symbol.toStringTag]}function m(e){return h(e)?b(e):e}function v(e){return function(t){var n=a(arguments,1),c=r(function(a,n){var r=this;return e(t,function(e,t){m(e).apply(r,a.concat(t))},n)});return n.length?c.apply(this,n):c}}var g="object"==typeof global&&global&&global.Object===Object&&global,y="object"==typeof self&&self&&self.Object===Object&&self,_=g||y||Function("return this")(),w=_.Symbol,A=Object.prototype,x=A.hasOwnProperty,k=A.toString,E=w?w.toStringTag:void 0;var S=Object.prototype.toString;var T="[object Null]",C="[object Undefined]",O=w?w.toStringTag:void 0;function R(e){return null==e?void 0===e?C:T:O&&O in Object(e)?function(e){var t=x.call(e,E),a=e[E];try{e[E]=void 0;var n=!0}catch(e){}var r=k.call(e);return n&&(t?e[E]=a:delete e[E]),r}(e):function(e){return S.call(e)}(e)}var j="[object AsyncFunction]",F="[object Function]",M="[object GeneratorFunction]",B="[object Proxy]";var N=9007199254740991;function I(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=N}function P(e){return null!=e&&I(e.length)&&!function(e){if(!c(e))return!1;var t=R(e);return t==F||t==M||t==j||t==B}(e)}var L={};function D(){}function z(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var U="function"==typeof Symbol&&Symbol.iterator,H=function(e){return U&&e[U]&&e[U]()};function q(e){return null!=e&&"object"==typeof e}var V="[object Arguments]";function G(e){return q(e)&&R(e)==V}var W=Object.prototype,K=W.hasOwnProperty,Y=W.propertyIsEnumerable,Z=G(function(){return arguments}())?G:function(e){return q(e)&&K.call(e,"callee")&&!Y.call(e,"callee")},Q=Array.isArray;var J="object"==typeof t&&t&&!t.nodeType&&t,X=J&&"object"==typeof e&&e&&!e.nodeType&&e,$=X&&X.exports===J?_.Buffer:void 0,ee=($?$.isBuffer:void 0)||function(){return!1},te=9007199254740991,ae=/^(?:0|[1-9]\d*)$/;function ne(e,t){return!!(t=null==t?te:t)&&("number"==typeof e||ae.test(e))&&e>-1&&e%1==0&&e<t}var re={};re["[object Float32Array]"]=re["[object Float64Array]"]=re["[object Int8Array]"]=re["[object Int16Array]"]=re["[object Int32Array]"]=re["[object Uint8Array]"]=re["[object Uint8ClampedArray]"]=re["[object Uint16Array]"]=re["[object Uint32Array]"]=!0,re["[object Arguments]"]=re["[object Array]"]=re["[object ArrayBuffer]"]=re["[object Boolean]"]=re["[object DataView]"]=re["[object Date]"]=re["[object Error]"]=re["[object Function]"]=re["[object Map]"]=re["[object Number]"]=re["[object Object]"]=re["[object RegExp]"]=re["[object Set]"]=re["[object String]"]=re["[object WeakMap]"]=!1;var ce,ie="object"==typeof t&&t&&!t.nodeType&&t,fe=ie&&"object"==typeof e&&e&&!e.nodeType&&e,oe=fe&&fe.exports===ie&&g.process,de=function(){try{return oe&&oe.binding&&oe.binding("util")}catch(e){}}(),se=de&&de.isTypedArray,be=se?(ce=se,function(e){return ce(e)}):function(e){return q(e)&&I(e.length)&&!!re[R(e)]},ue=Object.prototype.hasOwnProperty;function le(e,t){var a=Q(e),n=!a&&Z(e),r=!a&&!n&&ee(e),c=!a&&!n&&!r&&be(e),i=a||n||r||c,f=i?function(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}(e.length,String):[],o=f.length;for(var d in e)!t&&!ue.call(e,d)||i&&("length"==d||r&&("offset"==d||"parent"==d)||c&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||ne(d,o))||f.push(d);return f}var pe=Object.prototype;var he=function(e,t){return function(a){return e(t(a))}}(Object.keys,Object),me=Object.prototype.hasOwnProperty;function ve(e){if(a=(t=e)&&t.constructor,t!==("function"==typeof a&&a.prototype||pe))return he(e);var t,a,n=[];for(var r in Object(e))me.call(e,r)&&"constructor"!=r&&n.push(r);return n}function ge(e){return P(e)?le(e):ve(e)}function ye(e){if(P(e))return function(e){var t=-1,a=e.length;return function(){return++t<a?{value:e[t],key:t}:null}}(e);var t,a,n,r,c=H(e);return c?function(e){var t=-1;return function(){var a=e.next();return a.done?null:(t++,{value:a.value,key:t})}}(c):(a=ge(t=e),n=-1,r=a.length,function(){var e=a[++n];return n<r?{value:t[e],key:e}:null})}function _e(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function we(e){return function(t,a,n){if(n=z(n||D),e<=0||!t)return n(null);var r=ye(t),c=!1,i=0;function f(e,t){if(i-=1,e)c=!0,n(e);else{if(t===L||c&&i<=0)return c=!0,n(null);o()}}function o(){for(;i<e&&!c;){var t=r();if(null===t)return c=!0,void(i<=0&&n(null));i+=1,a(t.value,t.key,_e(f))}}o()}}function Ae(e,t,a,n){we(t)(e,m(a),n)}function xe(e,t){return function(a,n,r){return e(a,t,n,r)}}function ke(e,t,a){a=z(a||D);var n=0,r=0,c=e.length;function i(e,t){e?a(e):++r!==c&&t!==L||a(null)}for(0===c&&a(null);n<c;n++)t(e[n],n,_e(i))}var Ee=xe(Ae,1/0),Se=function(e,t,a){(P(e)?ke:Ee)(e,m(t),a)};function Te(e){return function(t,a,n){return e(Se,t,m(a),n)}}function Ce(e,t,a,n){n=n||D,t=t||[];var r=[],c=0,i=m(a);e(t,function(e,t,a){var n=c++;i(e,function(e,t){r[n]=t,a(e)})},function(e){n(e,r)})}var Oe=Te(Ce),Re=v(Oe);function je(e){return function(t,a,n,r){return e(we(a),t,m(n),r)}}var Fe=je(Ce),Me=xe(Fe,1),Be=v(Me);function Ne(e,t){for(var a=-1,n=null==e?0:e.length;++a<n&&!1!==t(e[a],a,e););return e}var Ie,Pe=function(e,t,a){for(var n=-1,r=Object(e),c=a(e),i=c.length;i--;){var f=c[Ie?i:++n];if(!1===t(r[f],f,r))break}return e};function Le(e,t){return e&&Pe(e,t,ge)}function De(e){return e!=e}function ze(e,t,a){return t==t?function(e,t,a){for(var n=a-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}(e,t,a):function(e,t,a,n){for(var r=e.length,c=a+(n?1:-1);n?c--:++c<r;)if(t(e[c],c,e))return c;return-1}(e,De,a)}var Ue=function(e,t,n){"function"==typeof t&&(n=t,t=null),n=z(n||D);var r=ge(e).length;if(!r)return n(null);t||(t=r);var c={},i=0,f=!1,o=Object.create(null),d=[],s=[],b={};function u(e,t){d.push(function(){!function(e,t){if(f)return;var r=_e(function(t,r){if(i--,arguments.length>2&&(r=a(arguments,1)),t){var d={};Le(c,function(e,t){d[t]=e}),d[e]=r,f=!0,o=Object.create(null),n(t,d)}else c[e]=r,Ne(o[e]||[],function(e){e()}),l()});i++;var d=m(t[t.length-1]);t.length>1?d(c,r):d(r)}(e,t)})}function l(){if(0===d.length&&0===i)return n(null,c);for(;d.length&&i<t;){d.shift()()}}function p(t){var a=[];return Le(e,function(e,n){Q(e)&&ze(e,t,0)>=0&&a.push(n)}),a}Le(e,function(t,a){if(!Q(t))return u(a,[t]),void s.push(a);var n=t.slice(0,t.length-1),r=n.length;if(0===r)return u(a,t),void s.push(a);b[a]=r,Ne(n,function(c){if(!e[c])throw new Error("async.auto task `"+a+"` has a non-existent dependency `"+c+"` in "+n.join(", "));!function(e,t){var a=o[e];a||(a=o[e]=[]);a.push(t)}(c,function(){0===--r&&u(a,t)})})}),function(){var e,t=0;for(;s.length;)e=s.pop(),t++,Ne(p(e),function(e){0==--b[e]&&s.push(e)});if(t!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),l()};function He(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}var qe="[object Symbol]";var Ve=1/0,Ge=w?w.prototype:void 0,We=Ge?Ge.toString:void 0;function Ke(e){if("string"==typeof e)return e;if(Q(e))return He(e,Ke)+"";if(function(e){return"symbol"==typeof e||q(e)&&R(e)==qe}(e))return We?We.call(e):"";var t=e+"";return"0"==t&&1/e==-Ve?"-0":t}function Ye(e,t,a){var n=e.length;return a=void 0===a?n:a,!t&&a>=n?e:function(e,t,a){var n=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(a=a>r?r:a)<0&&(a+=r),r=t>a?0:a-t>>>0,t>>>=0;for(var c=Array(r);++n<r;)c[n]=e[n+t];return c}(e,t,a)}var Ze=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Qe="[\\ud800-\\udfff]",Je="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Xe="\\ud83c[\\udffb-\\udfff]",$e="[^\\ud800-\\udfff]",et="(?:\\ud83c[\\udde6-\\uddff]){2}",tt="[\\ud800-\\udbff][\\udc00-\\udfff]",at="(?:"+Je+"|"+Xe+")"+"?",nt="[\\ufe0e\\ufe0f]?"+at+("(?:\\u200d(?:"+[$e,et,tt].join("|")+")[\\ufe0e\\ufe0f]?"+at+")*"),rt="(?:"+[$e+Je+"?",Je,et,tt,Qe].join("|")+")",ct=RegExp(Xe+"(?="+Xe+")|"+rt+nt,"g");function it(e){return function(e){return Ze.test(e)}(e)?function(e){return e.match(ct)||[]}(e):function(e){return e.split("")}(e)}var ft=/^\s+|\s+$/g;function ot(e,t,a){var n;if((e=null==(n=e)?"":Ke(n))&&(a||void 0===t))return e.replace(ft,"");if(!e||!(t=Ke(t)))return e;var r=it(e),c=it(t);return Ye(r,function(e,t){for(var a=-1,n=e.length;++a<n&&ze(t,e[a],0)>-1;);return a}(r,c),function(e,t){for(var a=e.length;a--&&ze(t,e[a],0)>-1;);return a}(r,c)+1).join("")}var dt=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,st=/,/,bt=/(=.+)?(\s*)$/,ut=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function lt(e,t){var a={};Le(e,function(e,t){var n,r,c=h(e),i=!c&&1===e.length||c&&0===e.length;if(Q(e))n=e.slice(0,-1),e=e[e.length-1],a[t]=n.concat(n.length>0?f:e);else if(i)a[t]=e;else{if(n=r=(r=(r=(r=(r=e).toString().replace(ut,"")).match(dt)[2].replace(" ",""))?r.split(st):[]).map(function(e){return ot(e.replace(bt,""))}),0===e.length&&!c&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");c||n.pop(),a[t]=n.concat(f)}function f(t,a){var r=He(n,function(e){return t[e]});r.push(a),m(e).apply(null,r)}}),Ue(a,t)}function pt(){this.head=this.tail=null,this.length=0}function ht(e,t){e.length=1,e.head=e.tail=t}function mt(e,t,a){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var n=m(e),r=0,c=[],i=!1;function f(e,t,a){if(null!=a&&"function"!=typeof a)throw new Error("task callback must be a function");if(b.started=!0,Q(e)||(e=[e]),0===e.length&&b.idle())return s(function(){b.drain()});for(var n=0,r=e.length;n<r;n++){var c={data:e[n],callback:a||D};t?b._tasks.unshift(c):b._tasks.push(c)}i||(i=!0,s(function(){i=!1,b.process()}))}function o(e){return function(t){r-=1;for(var a=0,n=e.length;a<n;a++){var i=e[a],f=ze(c,i,0);0===f?c.shift():f>0&&c.splice(f,1),i.callback.apply(i,arguments),null!=t&&b.error(t,i.data)}r<=b.concurrency-b.buffer&&b.unsaturated(),b.idle()&&b.drain(),b.process()}}var d=!1,b={_tasks:new pt,concurrency:t,payload:a,saturated:D,unsaturated:D,buffer:t/4,empty:D,drain:D,error:D,started:!1,paused:!1,push:function(e,t){f(e,!1,t)},kill:function(){b.drain=D,b._tasks.empty()},unshift:function(e,t){f(e,!0,t)},remove:function(e){b._tasks.remove(e)},process:function(){if(!d){for(d=!0;!b.paused&&r<b.concurrency&&b._tasks.length;){var e=[],t=[],a=b._tasks.length;b.payload&&(a=Math.min(a,b.payload));for(var i=0;i<a;i++){var f=b._tasks.shift();e.push(f),c.push(f),t.push(f.data)}r+=1,0===b._tasks.length&&b.empty(),r===b.concurrency&&b.saturated();var s=_e(o(e));n(t,s)}d=!1}},length:function(){return b._tasks.length},running:function(){return r},workersList:function(){return c},idle:function(){return b._tasks.length+r===0},pause:function(){b.paused=!0},resume:function(){!1!==b.paused&&(b.paused=!1,s(b.process))}};return b}function vt(e,t){return mt(e,1,t)}pt.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},pt.prototype.empty=function(){for(;this.head;)this.shift();return this},pt.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},pt.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},pt.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):ht(this,e)},pt.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):ht(this,e)},pt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},pt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},pt.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,a=0;a<this.length;a++)e[a]=t.data,t=t.next;return e},pt.prototype.remove=function(e){for(var t=this.head;t;){var a=t.next;e(t)&&this.removeLink(t),t=a}return this};var gt=xe(Ae,1);function yt(e,t,a,n){n=z(n||D);var r=m(a);gt(e,function(e,a,n){r(t,e,function(e,a){t=a,n(e)})},function(e){n(e,t)})}function _t(){var e=He(arguments,m);return function(){var t=a(arguments),n=this,r=t[t.length-1];"function"==typeof r?t.pop():r=D,yt(e,t,function(e,t,r){t.apply(n,e.concat(function(e){var t=a(arguments,1);r(e,t)}))},function(e,t){r.apply(n,[e].concat(t))})}}var wt=function(){return _t.apply(null,a(arguments).reverse())},At=Array.prototype.concat,xt=function(e,t,n,r){r=r||D;var c=m(n);Fe(e,t,function(e,t){c(e,function(e){return e?t(e):t(null,a(arguments,1))})},function(e,t){for(var a=[],n=0;n<t.length;n++)t[n]&&(a=At.apply(a,t[n]));return r(e,a)})},kt=xe(xt,1/0),Et=xe(xt,1),St=function(){var e=a(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}};function Tt(e){return e}function Ct(e,t){return function(a,n,r,c){c=c||D;var i,f=!1;a(n,function(a,n,c){r(a,function(n,r){n?c(n):e(r)&&!i?(f=!0,i=t(!0,a),c(null,L)):c()})},function(e){e?c(e):c(null,f?i:t(!1))})}}function Ot(e,t){return t}var Rt=Te(Ct(Tt,Ot)),jt=je(Ct(Tt,Ot)),Ft=xe(jt,1);function Mt(e){return function(t){var n=a(arguments,1);n.push(function(t){var n=a(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&Ne(n,function(t){console[e](t)}))}),m(t).apply(null,n)}}var Bt=Mt("dir");function Nt(e,t,n){n=_e(n||D);var r=m(e),c=m(t);function i(e){if(e)return n(e);var t=a(arguments,1);t.push(f),c.apply(this,t)}function f(e,t){return e?n(e):t?void r(i):n(null)}f(null,!0)}function It(e,t,n){n=_e(n||D);var r=m(e),c=function(e){if(e)return n(e);var i=a(arguments,1);if(t.apply(this,i))return r(c);n.apply(null,[null].concat(i))};r(c)}function Pt(e,t,a){It(e,function(){return!t.apply(this,arguments)},a)}function Lt(e,t,a){a=_e(a||D);var n=m(t),r=m(e);function c(e){if(e)return a(e);r(i)}function i(e,t){return e?a(e):t?void n(c):a(null)}r(i)}function Dt(e){return function(t,a,n){return e(t,n)}}function zt(e,t,a){Se(e,Dt(m(t)),a)}function Ut(e,t,a,n){we(t)(e,Dt(m(a)),n)}var Ht=xe(Ut,1);function qt(e){return h(e)?e:r(function(t,a){var n=!0;t.push(function(){var e=arguments;n?s(function(){a.apply(null,e)}):a.apply(null,e)}),e.apply(this,t),n=!1})}function Vt(e){return!e}var Gt=Te(Ct(Vt,Vt)),Wt=je(Ct(Vt,Vt)),Kt=xe(Wt,1);function Yt(e){return function(t){return null==t?void 0:t[e]}}function Zt(e,t,a,n){var r=new Array(t.length);e(t,function(e,t,n){a(e,function(e,a){r[t]=!!a,n(e)})},function(e){if(e)return n(e);for(var a=[],c=0;c<t.length;c++)r[c]&&a.push(t[c]);n(null,a)})}function Qt(e,t,a,n){var r=[];e(t,function(e,t,n){a(e,function(a,c){a?n(a):(c&&r.push({index:t,value:e}),n())})},function(e){e?n(e):n(null,He(r.sort(function(e,t){return e.index-t.index}),Yt("value")))})}function Jt(e,t,a,n){(P(t)?Zt:Qt)(e,t,m(a),n||D)}var Xt=Te(Jt),$t=je(Jt),ea=xe($t,1);function ta(e,t){var a=_e(t||D),n=m(qt(e));!function e(t){if(t)return a(t);n(e)}()}var aa=function(e,t,a,n){n=n||D;var r=m(a);Fe(e,t,function(e,t){r(e,function(a,n){return a?t(a):t(null,{key:n,val:e})})},function(e,t){for(var a={},r=Object.prototype.hasOwnProperty,c=0;c<t.length;c++)if(t[c]){var i=t[c].key,f=t[c].val;r.call(a,i)?a[i].push(f):a[i]=[f]}return n(e,a)})},na=xe(aa,1/0),ra=xe(aa,1),ca=Mt("log");function ia(e,t,a,n){n=z(n||D);var r={},c=m(a);Ae(e,t,function(e,t,a){c(e,t,function(e,n){if(e)return a(e);r[t]=n,a()})},function(e){n(e,r)})}var fa=xe(ia,1/0),oa=xe(ia,1);function da(e,t){return t in e}function sa(e,t){var n=Object.create(null),c=Object.create(null);t=t||Tt;var i=m(e),f=r(function(e,r){var f=t.apply(null,e);da(n,f)?s(function(){r.apply(null,n[f])}):da(c,f)?c[f].push(r):(c[f]=[r],i.apply(null,e.concat(function(){var e=a(arguments);n[f]=e;var t=c[f];delete c[f];for(var r=0,i=t.length;r<i;r++)t[r].apply(null,e)})))});return f.memo=n,f.unmemoized=e,f}var ba=d(f?process.nextTick:i?setImmediate:o);function ua(e,t,n){n=n||D;var r=P(t)?[]:{};e(t,function(e,t,n){m(e)(function(e,c){arguments.length>2&&(c=a(arguments,1)),r[t]=c,n(e)})},function(e){n(e,r)})}function la(e,t){ua(Se,e,t)}function pa(e,t,a){ua(we(t),e,a)}var ha=function(e,t){var a=m(e);return mt(function(e,t){a(e[0],t)},t,1)},ma=function(e,t){var a=ha(e,t);return a.push=function(e,t,n){if(null==n&&(n=D),"function"!=typeof n)throw new Error("task callback must be a function");if(a.started=!0,Q(e)||(e=[e]),0===e.length)return s(function(){a.drain()});t=t||0;for(var r=a._tasks.head;r&&t>=r.priority;)r=r.next;for(var c=0,i=e.length;c<i;c++){var f={data:e[c],priority:t,callback:n};r?a._tasks.insertBefore(r,f):a._tasks.push(f)}s(a.process)},delete a.unshift,a};function va(e,t){if(t=z(t||D),!Q(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var a=0,n=e.length;a<n;a++)m(e[a])(t)}function ga(e,t,n,r){yt(a(e).reverse(),t,n,r)}function ya(e){var t=m(e);return r(function(e,n){return e.push(function(e,t){var r;e?n(null,{error:e}):(r=arguments.length<=2?t:a(arguments,1),n(null,{value:r}))}),t.apply(this,e)})}function _a(e){var t;return Q(e)?t=He(e,ya):(t={},Le(e,function(e,a){t[a]=ya.call(this,e)})),t}function wa(e,t,a,n){Jt(e,t,function(e,t){a(e,function(e,a){t(e,!a)})},n)}var Aa=Te(wa),xa=je(wa),ka=xe(xa,1);function Ea(e){return function(){return e}}function Sa(e,t,a){var n=5,r=0,c={times:n,intervalFunc:Ea(r)};if(arguments.length<3&&"function"==typeof e?(a=t||D,t=e):(!function(e,t){if("object"==typeof t)e.times=+t.times||n,e.intervalFunc="function"==typeof t.interval?t.interval:Ea(+t.interval||r),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||n}}(c,e),a=a||D),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var i=m(t),f=1;!function e(){i(function(t){t&&f++<c.times&&("function"!=typeof c.errorFilter||c.errorFilter(t))?setTimeout(e,c.intervalFunc(f)):a.apply(null,arguments)})}()}var Ta=function(e,t){t||(t=e,e=null);var a=m(t);return r(function(t,n){function r(e){a.apply(null,t.concat(e))}e?Sa(e,r,n):Sa(r,n)})};function Ca(e,t){ua(gt,e,t)}var Oa=Te(Ct(Boolean,Tt)),Ra=je(Ct(Boolean,Tt)),ja=xe(Ra,1);function Fa(e,t,a){var n=m(t);function r(e,t){var a=e.criteria,n=t.criteria;return a<n?-1:a>n?1:0}Oe(e,function(e,t){n(e,function(a,n){if(a)return t(a);t(null,{value:e,criteria:n})})},function(e,t){if(e)return a(e);a(null,He(t.sort(r),Yt("value")))})}function Ma(e,t,a){var n=m(e);return r(function(r,c){var i,f=!1;r.push(function(){f||(c.apply(null,arguments),clearTimeout(i))}),i=setTimeout(function(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",a&&(n.info=a),f=!0,c(n)},t),n.apply(null,r)})}var Ba=Math.ceil,Na=Math.max;function Ia(e,t,a,n){var r=m(a);Fe(function(e,t,a,n){for(var r=-1,c=Na(Ba((t-e)/(a||1)),0),i=Array(c);c--;)i[n?c:++r]=e,e+=a;return i}(0,e,1),t,r,n)}var Pa=xe(Ia,1/0),La=xe(Ia,1);function Da(e,t,a,n){arguments.length<=3&&(n=a,a=t,t=Q(e)?[]:{}),n=z(n||D);var r=m(a);Se(e,function(e,a,n){r(t,e,a,n)},function(e){n(e,t)})}function za(e,t){var n,r=null;t=t||D,Ht(e,function(e,t){m(e)(function(e,c){n=arguments.length>2?a(arguments,1):c,r=e,t(!e)})},function(){t(r,n)})}function Ua(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function Ha(e,t,n){n=_e(n||D);var r=m(t);if(!e())return n(null);var c=function(t){if(t)return n(t);if(e())return r(c);var i=a(arguments,1);n.apply(null,[null].concat(i))};r(c)}function qa(e,t,a){Ha(function(){return!e.apply(this,arguments)},t,a)}var Va=function(e,t){if(t=z(t||D),!Q(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){var a=m(e[n++]);t.push(_e(c)),a.apply(null,t)}function c(c){if(c||n===e.length)return t.apply(null,arguments);r(a(arguments,1))}r([])},Ga={apply:n,applyEach:Re,applyEachSeries:Be,asyncify:b,auto:Ue,autoInject:lt,cargo:vt,compose:wt,concat:kt,concatLimit:xt,concatSeries:Et,constant:St,detect:Rt,detectLimit:jt,detectSeries:Ft,dir:Bt,doDuring:Nt,doUntil:Pt,doWhilst:It,during:Lt,each:zt,eachLimit:Ut,eachOf:Se,eachOfLimit:Ae,eachOfSeries:gt,eachSeries:Ht,ensureAsync:qt,every:Gt,everyLimit:Wt,everySeries:Kt,filter:Xt,filterLimit:$t,filterSeries:ea,forever:ta,groupBy:na,groupByLimit:aa,groupBySeries:ra,log:ca,map:Oe,mapLimit:Fe,mapSeries:Me,mapValues:fa,mapValuesLimit:ia,mapValuesSeries:oa,memoize:sa,nextTick:ba,parallel:la,parallelLimit:pa,priorityQueue:ma,queue:ha,race:va,reduce:yt,reduceRight:ga,reflect:ya,reflectAll:_a,reject:Aa,rejectLimit:xa,rejectSeries:ka,retry:Sa,retryable:Ta,seq:_t,series:Ca,setImmediate:s,some:Oa,someLimit:Ra,someSeries:ja,sortBy:Fa,timeout:Ma,times:Pa,timesLimit:Ia,timesSeries:La,transform:Da,tryEach:za,unmemoize:Ua,until:qa,waterfall:Va,whilst:Ha,all:Gt,allLimit:Wt,allSeries:Kt,any:Oa,anyLimit:Ra,anySeries:ja,find:Rt,findLimit:jt,findSeries:Ft,forEach:zt,forEachSeries:Ht,forEachLimit:Ut,forEachOf:Se,forEachOfSeries:gt,forEachOfLimit:Ae,inject:yt,foldl:yt,foldr:ga,select:Xt,selectLimit:$t,selectSeries:ea,wrapSync:b};t.default=Ga,t.apply=n,t.applyEach=Re,t.applyEachSeries=Be,t.asyncify=b,t.auto=Ue,t.autoInject=lt,t.cargo=vt,t.compose=wt,t.concat=kt,t.concatLimit=xt,t.concatSeries=Et,t.constant=St,t.detect=Rt,t.detectLimit=jt,t.detectSeries=Ft,t.dir=Bt,t.doDuring=Nt,t.doUntil=Pt,t.doWhilst=It,t.during=Lt,t.each=zt,t.eachLimit=Ut,t.eachOf=Se,t.eachOfLimit=Ae,t.eachOfSeries=gt,t.eachSeries=Ht,t.ensureAsync=qt,t.every=Gt,t.everyLimit=Wt,t.everySeries=Kt,t.filter=Xt,t.filterLimit=$t,t.filterSeries=ea,t.forever=ta,t.groupBy=na,t.groupByLimit=aa,t.groupBySeries=ra,t.log=ca,t.map=Oe,t.mapLimit=Fe,t.mapSeries=Me,t.mapValues=fa,t.mapValuesLimit=ia,t.mapValuesSeries=oa,t.memoize=sa,t.nextTick=ba,t.parallel=la,t.parallelLimit=pa,t.priorityQueue=ma,t.queue=ha,t.race=va,t.reduce=yt,t.reduceRight=ga,t.reflect=ya,t.reflectAll=_a,t.reject=Aa,t.rejectLimit=xa,t.rejectSeries=ka,t.retry=Sa,t.retryable=Ta,t.seq=_t,t.series=Ca,t.setImmediate=s,t.some=Oa,t.someLimit=Ra,t.someSeries=ja,t.sortBy=Fa,t.timeout=Ma,t.times=Pa,t.timesLimit=Ia,t.timesSeries=La,t.transform=Da,t.tryEach=za,t.unmemoize=Ua,t.until=qa,t.waterfall=Va,t.whilst=Ha,t.all=Gt,t.allLimit=Wt,t.allSeries=Kt,t.any=Oa,t.anyLimit=Ra,t.anySeries=ja,t.find=Rt,t.findLimit=jt,t.findSeries=Ft,t.forEach=zt,t.forEachSeries=Ht,t.forEachLimit=Ut,t.forEachOf=Se,t.forEachOfSeries=gt,t.forEachOfLimit=Ae,t.inject=yt,t.foldl=yt,t.foldr=ga,t.select=Xt,t.selectLimit=$t,t.selectSeries=ea,t.wrapSync=b,Object.defineProperty(t,"__esModule",{value:!0})})(t)}).call(this,a(31)(e))},function(e,t,a){const n=a(136),r=a(67),c=a(10),i=a(47),f=a(8),o=a(27);t.MAX_INTEGER=new f("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new f("10000000000000000000000000000000000000000000000000000000000000000",16),t.SHA3_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.SHA3_NULL=new Buffer(t.SHA3_NULL_S,"hex"),t.SHA3_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.SHA3_RLP_ARRAY=new Buffer(t.SHA3_RLP_ARRAY_S,"hex"),t.SHA3_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.SHA3_RLP=new Buffer(t.SHA3_RLP_S,"hex"),t.BN=f,t.rlp=i,t.secp256k1=r,t.zeros=function(e){var t=new Buffer(e);return t.fill(0),t},t.setLengthLeft=t.setLength=function(e,a,n){var r=t.zeros(a);return e=t.toBuffer(e),n?e.length<a?(e.copy(r),r):e.slice(0,a):e.length<a?(e.copy(r,a-e.length),r):e.slice(-a)},t.setLengthRight=function(e,a){return t.setLength(e,a,!0)},t.unpad=t.stripZeros=function(e){for(var a=(e=t.stripHexPrefix(e))[0];e.length>0&&"0"===a.toString();)a=(e=e.slice(1))[0];return e},t.toBuffer=function(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=new Buffer(e);else if("string"==typeof e)e=t.isHexPrefixed(e)?new Buffer(t.padToEven(t.stripHexPrefix(e)),"hex"):new Buffer(e);else if("number"==typeof e)e=t.intToBuffer(e);else if(null===e||void 0===e)e=new Buffer([]);else{if(!e.toArray)throw new Error("invalid type");e=new Buffer(e.toArray())}return e},t.intToHex=function(e){c(e%1==0,"number is not a integer"),c(e>=0,"number must be positive");var t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t},t.intToBuffer=function(e){var a=t.intToHex(e);return new Buffer(a.slice(2),"hex")},t.bufferToInt=function(e){return parseInt(t.bufferToHex(e),16)},t.bufferToHex=function(e){return 0===(e=t.toBuffer(e)).length?0:"0x"+e.toString("hex")},t.fromSigned=function(e){return new f(e).fromTwos(256)},t.toUnsigned=function(e){return new Buffer(e.toTwos(256).toArray())},t.sha3=function(e,a){e=t.toBuffer(e),a||(a=256);var r=new n(a);return e&&r.update(e),new Buffer(r.digest("hex"),"hex")},t.sha256=function(e){return e=t.toBuffer(e),o("sha256").update(e).digest()},t.ripemd160=function(e,a){e=t.toBuffer(e);var n=o("rmd160").update(e).digest();return!0===a?t.setLength(n,32):n},t.rlphash=function(e){return t.sha3(i.encode(e))},t.isValidPrivate=function(e){return r.privateKeyVerify(e)},t.isValidPublic=function(e,t){return 64===e.length?r.publicKeyVerify(Buffer.concat([new Buffer([4]),e])):!!t&&r.publicKeyVerify(e)},t.pubToAddress=t.publicToAddress=function(e,a){return e=t.toBuffer(e),a&&64!==e.length&&(e=r.publicKeyConvert(e,!1).slice(1)),c(64===e.length),t.sha3(e).slice(-20)};var d=t.privateToPublic=function(e){return e=t.toBuffer(e),r.publicKeyCreate(e,!1).slice(1)};t.importPublic=function(e){return 64!==(e=t.toBuffer(e)).length&&(e=r.publicKeyConvert(e,!1).slice(1)),e},t.ecsign=function(e,t){var a=r.sign(e,t),n={};return n.r=a.signature.slice(0,32),n.s=a.signature.slice(32,64),n.v=a.recovery+27,n},t.ecrecover=function(e,a,n,c){var i=Buffer.concat([t.setLength(n,32),t.setLength(c,32)],64),f=t.bufferToInt(a)-27;if(0!==f&&1!==f)throw new Error("Invalid signature v value");var o=r.recover(e,i,f);return r.publicKeyConvert(o,!1).slice(1)},t.toRpcSig=function(e,a,n){return t.bufferToHex(Buffer.concat([a,n,t.toBuffer(e-27)]))},t.fromRpcSig=function(e){var a=(e=t.toBuffer(e))[64];return a<27&&(a+=27),{v:a,r:e.slice(0,32),s:e.slice(32,64)}},t.privateToAddress=function(e){return t.publicToAddress(d(e))},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/i.test(e)},t.toChecksumAddress=function(e){e=t.stripHexPrefix(e).toLowerCase();for(var a=t.sha3(e).toString("hex"),n="0x",r=0;r<e.length;r++)parseInt(a[r],16)>=8?n+=e[r].toUpperCase():n+=e[r];return n},t.isValidChecksumAddress=function(e){return t.isValidAddress(e)&&t.toChecksumAddress(e)===e},t.generateAddress=function(e,a){return e=t.toBuffer(e),a=(a=new f(a)).isZero()?null:new Buffer(a.toArray()),t.rlphash([e,a]).slice(-20)},t.isPrecompiled=function(e){var a=t.unpad(e);return 1===a.length&&a[0]>0&&a[0]<5},t.isHexPrefixed=function(e){return"0x"===e.slice(0,2)},t.stripHexPrefix=function(e){return"string"!=typeof e?e:t.isHexPrefixed(e)?e.slice(2):e},t.addHexPrefix=function(e){return"string"!=typeof e?e:t.isHexPrefixed(e)?e:"0x"+e},t.padToEven=function(e){return e.length%2&&(e="0"+e),e},t.baToJSON=function(e){if(Buffer.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var a=[],n=0;n<e.length;n++)a.push(t.baToJSON(e[n]));return a}},t.defineProperties=function(e,a,n){if(e.raw=[],e._fields=[],e.toJSON=function(a){if(a){var n={};return e._fields.forEach(function(t){n[t]="0x"+e[t].toString("hex")}),n}return t.baToJSON(this.raw)},e.serialize=function(){return i.encode(e.raw)},a.forEach(function(a,n){function r(){return e.raw[n]}function i(r){"00"!==(r=t.toBuffer(r)).toString("hex")||a.allowZero||(r=new Buffer([])),a.allowLess&&a.length?(r=t.stripZeros(r),c(a.length>=r.length,"The field "+a.name+" must not have more "+a.length+" bytes")):a.allowZero&&0===r.length||!a.length||c(a.length===r.length,"The field "+a.name+" must have byte length of "+a.length),e.raw[n]=r}e._fields.push(a.name),Object.defineProperty(e,a.name,{enumerable:!0,configurable:!0,get:r,set:i}),a.default&&(e[a.name]=a.default),a.alias&&Object.defineProperty(e,a.alias,{enumerable:!1,configurable:!0,set:i,get:r})}),n)if("string"==typeof n&&(n=new Buffer(t.stripHexPrefix(n),"hex")),Buffer.isBuffer(n)&&(n=i.decode(n)),Array.isArray(n)){if(n.length>e._fields.length)throw new Error("wrong number of fields in data");n.forEach(function(a,n){e[e._fields[n]]=t.toBuffer(a)})}else{if("object"!=typeof n)throw new Error("invalid data");for(var r in n)-1!==e._fields.indexOf(r)&&(e[r]=n[r])}}},function(e,t,a){var n=a(16);e.exports={hex:function(e){if("string"==typeof e){if("0x"===e)return"0x0";if(0==e.indexOf("0x"))return e;e=new n.BN(e)}return"number"==typeof e&&(e=n.intToHex(e)),"object"==typeof e&&""==(e=e.toString("hex"))&&(e="0"),n.addHexPrefix(e)},rpcQuantityHexString:function(e){return"0x"==(e="0x"+(e=this.hex(e)).replace("0x","").replace(/^0+/,""))&&(e="0x0"),e},rpcDataHexString:function(e,t){return"number"==typeof t?(e=this.hex(e).replace("0x",""),e=new Array(t-e.length).fill("0").join("")+e):(e=this.hex(e).replace("0x","")).length%2!=0&&(e="0"+e),"0x"+e},hexWithZeroPadding:function(e){return e=this.hex(e),digits=e.replace("0x",""),1&digits.length?"0x0"+digits:e},number:function(e){return"number"==typeof e?e:"string"==typeof e&&0!=e.indexOf("0x")?parseInt(e):n.bufferToInt(n.toBuffer(e))}}},function(e,t){e.exports=__webpack_require__(1)},function(e,t){e.exports=__webpack_require__(93)},function(e,t,a){"use strict";var n=a(952),r=a(951);e.exports={errors:n,formatters:r}},function(e,t){e.exports=function(e,t,a){var n=e.length;t=null==t?0:t<0?Math.max(n+t,0):Math.min(t,n),a=null==a?n:a<0?Math.max(n+a,0):Math.min(a,n);for(var r=[];t<a;)r.push(e[t++]);return r}},function(e,t,a){"use strict";var n=t;n.version=a(1197).version,n.utils=a(1196),n.rand=a(1195),n.curve=a(142),n.curves=a(1190),n.ec=a(1182),n.eddsa=a(1178)},function(e,t,a){e.exports=a(9).createHash},function(e,t,a){var n=a(210)("wks"),r=a(138),c=a(30).Symbol,i="function"==typeof c;(e.exports=function(e){return n[e]||(n[e]=i&&c[e]||(i?c:r)("Symbol."+e))}).store=n},function(e,t){var a=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=a)},function(e,t){var a=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,a){e.exports={mkdirs:a(183),mkdirsSync:a(182),mkdirp:a(183),mkdirpSync:a(182),ensureDir:a(183),ensureDirSync:a(182)}},function(e,t,a){var n=a(188),r=a(949),c=a(355),i=a(947),f=a(946),o=function(e){if(!c.isHexStrict(e))throw new Error("The parameter must be a valid HEX string.");var t="",a=0,n=e.length;for("0x"===e.substring(0,2)&&(a=2);a<n;a+=2){var r=parseInt(e.substr(a,2),16);t+=String.fromCharCode(r)}return t},d=function(e){if(!e)return"0x00";for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},s=function(e){if(e=e?e.toLowerCase():"ether",!r.unitMap[e])throw new Error('This unit "'+e+"\" doesn't exist, please use the one of the following units"+JSON.stringify(r.unitMap,null,2));return e};e.exports={_fireError:function(e,t,a,r){return!n.isObject(e)||e instanceof Error||!e.data||((n.isObject(e.data)||n.isArray(e.data))&&(e.data=JSON.stringify(e.data,null,2)),e=e.message+"\n"+e.data),n.isString(e)&&(e=new Error(e)),n.isFunction(r)&&r(e),n.isFunction(a)&&(t&&n.isFunction(t.listeners)&&t.listeners("error").length&&n.isFunction(t.suppressUnhandledRejections)?t.suppressUnhandledRejections():n.isFunction(r)&&n.isFunction(t.suppressUnhandledRejections)&&t.suppressUnhandledRejections(),setTimeout(function(){a(e)},1)),t&&n.isFunction(t.emit)&&setTimeout(function(){t.emit("error",e),t.removeAllListeners()},1),t},_jsonInterfaceMethodToString:function(e){if(n.isObject(e)&&e.name&&-1!==e.name.indexOf("("))return e.name;var t=e.inputs.map(function(e){return e.type}).join(",");return e.name+"("+t+")"},randomHex:f,_:n,BN:c.BN,isBN:c.isBN,isBigNumber:c.isBigNumber,isHex:c.isHex,isHexStrict:c.isHexStrict,sha3:c.sha3,keccak256:c.sha3,soliditySha3:i,isAddress:c.isAddress,checkAddressChecksum:c.checkAddressChecksum,toChecksumAddress:function(e){if(void 0===e)return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(e))throw new Error('Given address "'+e+'" is not a valid Ethereum address.');e=e.toLowerCase().replace(/^0x/i,"");for(var t=c.sha3(e).replace(/^0x/i,""),a="0x",n=0;n<e.length;n++)parseInt(t[n],16)>7?a+=e[n].toUpperCase():a+=e[n];return a},toHex:c.toHex,toBN:c.toBN,bytesToHex:c.bytesToHex,hexToBytes:c.hexToBytes,hexToNumberString:c.hexToNumberString,hexToNumber:c.hexToNumber,toDecimal:c.hexToNumber,numberToHex:c.numberToHex,fromDecimal:c.numberToHex,hexToUtf8:c.hexToUtf8,hexToString:c.hexToUtf8,toUtf8:c.hexToUtf8,utf8ToHex:c.utf8ToHex,stringToHex:c.utf8ToHex,fromUtf8:c.utf8ToHex,hexToAscii:o,toAscii:o,asciiToHex:d,fromAscii:d,unitMap:r.unitMap,toWei:function(e,t){if(t=s(t),!c.isBN(e)&&!n.isString(e))throw new Error("Please pass numbers as strings or BigNumber objects to avoid precision errors.");return c.isBN(e)?r.toWei(e,t):r.toWei(e,t).toString(10)},fromWei:function(e,t){if(t=s(t),!c.isBN(e)&&!n.isString(e))throw new Error("Please pass numbers as strings or BigNumber objects to avoid precision errors.");return c.isBN(e)?r.fromWei(e,t):r.fromWei(e,t).toString(10)},padLeft:c.leftPad,leftPad:c.leftPad,padRight:c.rightPad,rightPad:c.rightPad,toTwosComplement:c.toTwosComplement}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,a){var n=a(194);n.genesisState=a(1016),n.bootstrapNodes=a(1015),e.exports=n},function(e,t,a){var n=a(39),r=Array.isArray||function(e){return n(e,"Array")};e.exports=r},function(e,t){t.ERROR={OUT_OF_GAS:"out of gas",STACK_UNDERFLOW:"stack underflow",STACK_OVERFLOW:"stack overflow",INVALID_JUMP:"invalid JUMP",INVALID_OPCODE:"invalid opcode",REVERT:"revert",STATIC_STATE_CHANGE:"static state change"}},function(e,t,a){"use strict";var n,r,c=a(83),i=c.freeze,f=a(11),o=f.inherits,d=f.notEnumerableProp;function s(e,t){function a(n){if(!(this instanceof a))return new a(n);d(this,"message","string"==typeof n?n:t),d(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return o(a,Error),a}var b=s("Warning","warning"),u=s("CancellationError","cancellation error"),l=s("TimeoutError","timeout error"),p=s("AggregateError","aggregate error");try{n=TypeError,r=RangeError}catch(e){n=s("TypeError","type error"),r=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<h.length;++m)"function"==typeof Array.prototype[h[m]]&&(p.prototype[h[m]]=Array.prototype[h[m]]);c.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var v=0;function g(e){if(!(this instanceof g))return new g(e);d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}p.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var a=0;a<this.length;++a){for(var n=this[a]===this?"[Circular AggregateError]":this[a]+"",r=n.split("\n"),c=0;c<r.length;++c)r[c]=e+r[c];t+=(n=r.join("\n"))+"\n"}return v--,t},o(g,Error);var y=Error.__BluebirdErrorTypes__;y||(y=i({CancellationError:u,TimeoutError:l,OperationalError:g,RejectionError:g,AggregateError:p}),d(Error,"__BluebirdErrorTypes__",y)),e.exports={Error:Error,TypeError:n,RangeError:r,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:b}},function(e,t,a){var n=a(92);e.exports=function(e,t){return n(e)===t}},function(e,t,a){var n=a(339),r=a(33),c=a(8),i=a(338),f=function(e){return n.isNumber(e)&&(e=Math.trunc(e)),new i(r.toTwosComplement(e).replace("0x",""))};e.exports={formatInputInt:f,formatInputBytes:function(e){if(!r.isHexStrict(e))throw new Error('Given parameter is not bytes: "'+e+'"');var t=e.replace(/^0x/i,"");if(t.length%2!=0)throw new Error('Given parameter bytes has an invalid length: "'+e+'"');if(t.length>64)throw new Error('Given parameter bytes is too long: "'+e+'"');var a=Math.floor((t.length+63)/64);return t=r.padRight(t,64*a),new i(t)},formatInputDynamicBytes:function(e){if(!r.isHexStrict(e))throw new Error('Given parameter is not bytes: "'+e+'"');var t=e.replace(/^0x/i,"");if(t.length%2!=0)throw new Error('Given parameter bytes has an invalid length: "'+e+'"');var a=t.length/2,n=Math.floor((t.length+63)/64);return t=r.padRight(t,64*n),new i(f(a).value+t)},formatInputString:function(e){if(!n.isString(e))throw new Error("Given parameter is not a valid string: "+e);var t=r.utf8ToHex(e).replace(/^0x/i,""),a=t.length/2,c=Math.floor((t.length+63)/64);return t=r.padRight(t,64*c),new i(f(a).value+t)},formatInputBool:function(e){return new i("000000000000000000000000000000000000000000000000000000000000000"+(e?"1":"0"))},formatOutputInt:function(e){var t=e.staticPart();if(!t&&!e.rawValue)throw new Error("Couldn't decode "+name+" from ABI: 0x"+e.rawValue);return function(e){return"1"===new c(e.substr(0,1),16).toString(2).substr(0,1)}(t)?new c(t,16).fromTwos(256).toString(10):new c(t,16).toString(10)},formatOutputUInt:function(e,t){var a=e.staticPart();if(!a&&!e.rawValue)throw new Error("Couldn't decode "+t+" from ABI: 0x"+e.rawValue);return new c(a,16).toString(10)},formatOutputBool:function(e,t){var a=e.staticPart();if(!a&&!e.rawValue)throw new Error("Couldn't decode "+t+" from ABI: 0x"+e.rawValue);return"0000000000000000000000000000000000000000000000000000000000000001"===a},formatOutputBytes:function(e,t){var a=t.match(/^bytes([0-9]*)/),n=parseInt(a[1]);if(e.staticPart().slice(0,2*n).length!==2*n)throw new Error("Couldn't decode "+t+" from ABI: 0x"+e.rawValue+" The size doesn't match.");return"0x"+e.staticPart().slice(0,2*n)},formatOutputDynamicBytes:function(e,t){var a=e.dynamicPart().slice(0,64);if(!a)throw new Error("Couldn't decode "+t+" from ABI: 0x"+e.rawValue);var n=2*new c(a,16).toNumber();return"0x"+e.dynamicPart().substr(64,n)},formatOutputString:function(e){var t=e.dynamicPart().slice(0,64);if(!t)throw new Error("ERROR: The returned value is not a convertible string:"+t);var a=2*new c(t,16).toNumber();return a?r.hexToUtf8("0x"+e.dynamicPart().substr(64,a).replace(/^0x/i,"")):""},formatOutputAddress:function(e,t){var a=e.staticPart();if(!a)throw new Error("Couldn't decode "+t+" from ABI: 0x"+e.rawValue);return r.toChecksumAddress("0x"+a.slice(a.length-40,a.length))},toTwosComplement:r.toTwosComplement}},function(e,t){e.exports=__webpack_require__(8)},function(e,t,a){"use strict";var n=a(59),r=a(0);function c(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function i(e){return 1===e.length?"0"+e:e}function f(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=r,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var a=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)a.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var r=e.charCodeAt(n),c=r>>8,i=255&r;c?a.push(c,i):a.push(i)}else for(n=0;n<e.length;n++)a[n]=0|e[n];return a},t.toHex=function(e){for(var t="",a=0;a<e.length;a++)t+=i(e[a].toString(16));return t},t.htonl=c,t.toHex32=function(e,t){for(var a="",n=0;n<e.length;n++){var r=e[n];"little"===t&&(r=c(r)),a+=f(r.toString(16))}return a},t.zero2=i,t.zero8=f,t.join32=function(e,t,a,r){var c=a-t;n(c%4==0);for(var i=new Array(c/4),f=0,o=t;f<i.length;f++,o+=4){var d;d="big"===r?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],i[f]=d>>>0}return i},t.split32=function(e,t){for(var a=new Array(4*e.length),n=0,r=0;n<e.length;n++,r+=4){var c=e[n];"big"===t?(a[r]=c>>>24,a[r+1]=c>>>16&255,a[r+2]=c>>>8&255,a[r+3]=255&c):(a[r+3]=c>>>24,a[r+2]=c>>>16&255,a[r+1]=c>>>8&255,a[r]=255&c)}return a},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,a){return e+t+a>>>0},t.sum32_4=function(e,t,a,n){return e+t+a+n>>>0},t.sum32_5=function(e,t,a,n,r){return e+t+a+n+r>>>0},t.sum64=function(e,t,a,n){var r=e[t],c=n+e[t+1]>>>0,i=(c<n?1:0)+a+r;e[t]=i>>>0,e[t+1]=c},t.sum64_hi=function(e,t,a,n){return(t+n>>>0<t?1:0)+e+a>>>0},t.sum64_lo=function(e,t,a,n){return t+n>>>0},t.sum64_4_hi=function(e,t,a,n,r,c,i,f){var o=0,d=t;return o+=(d=d+n>>>0)<t?1:0,o+=(d=d+c>>>0)<c?1:0,e+a+r+i+(o+=(d=d+f>>>0)<f?1:0)>>>0},t.sum64_4_lo=function(e,t,a,n,r,c,i,f){return t+n+c+f>>>0},t.sum64_5_hi=function(e,t,a,n,r,c,i,f,o,d){var s=0,b=t;return s+=(b=b+n>>>0)<t?1:0,s+=(b=b+c>>>0)<c?1:0,s+=(b=b+f>>>0)<f?1:0,e+a+r+i+o+(s+=(b=b+d>>>0)<d?1:0)>>>0},t.sum64_5_lo=function(e,t,a,n,r,c,i,f,o,d){return t+n+c+f+d>>>0},t.rotr64_hi=function(e,t,a){return(t<<32-a|e>>>a)>>>0},t.rotr64_lo=function(e,t,a){return(e<<32-a|t>>>a)>>>0},t.shr64_hi=function(e,t,a){return e>>>a},t.shr64_lo=function(e,t,a){return(e<<32-a|t>>>a)>>>0}},function(e,t,a){var n=a(25);e.exports=function(e,t,a){return function(){var r=n(arguments);return null==r[0]?a:"number"==typeof r[0].length?e.apply(null,r):t.apply(null,r)}}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)a.call(n,r)&&(e[r]=n[r])}return e};var a=Object.prototype.hasOwnProperty},function(e,t,a){var n=a(57);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,a){var n=a(30),r=a(29),c=a(108),i=a(66),f=function(e,t,a){var o,d,s,b=e&f.F,u=e&f.G,l=e&f.S,p=e&f.P,h=e&f.B,m=e&f.W,v=u?r:r[t]||(r[t]={}),g=v.prototype,y=u?n:l?n[t]:(n[t]||{}).prototype;for(o in u&&(a=t),a)(d=!b&&y&&void 0!==y[o])&&o in v||(s=d?y[o]:a[o],v[o]=u&&"function"!=typeof y[o]?a[o]:h&&d?c(s,n):m&&y[o]==s?function(e){var t=function(t,a,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,a)}return new e(t,a,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(s):p&&"function"==typeof s?c(Function.call,s):s,p&&((v.virtual||(v.virtual={}))[o]=s,e&f.R&&g&&!g[o]&&i(g,o,s)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,e.exports=f},function(e,t,a){const n=a(10);function r(e,t){if("00"===e.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function c(e,t){if(e<56)return new Buffer([e+t]);var a=f(e),n=f(t+55+a.length/2);return new Buffer(n+a,"hex")}function i(e){return"0x"===e.slice(0,2)}function f(e){var t=e.toString(16);return t.length%2&&(t="0"+t),t}function o(e){if(!Buffer.isBuffer(e))if("string"==typeof e)e=i(e)?new Buffer(((a="string"!=typeof(n=e)?n:i(n)?n.slice(2):n).length%2&&(a="0"+a),a),"hex"):new Buffer(e);else if("number"==typeof e)e?(t=f(e),e=new Buffer(t,"hex")):e=new Buffer([]);else if(null===e||void 0===e)e=new Buffer([]);else{if(!e.toArray)throw new Error("invalid type");e=new Buffer(e.toArray())}var t,a,n;return e}t.encode=function(e){if(e instanceof Array){for(var a=[],n=0;n<e.length;n++)a.push(t.encode(e[n]));var r=Buffer.concat(a);return Buffer.concat([c(r.length,192),r])}return 1===(e=o(e)).length&&e[0]<128?e:Buffer.concat([c(e.length,128),e])},t.decode=function(e,t){if(!e||0===e.length)return new Buffer([]);var a=function e(t){var a,n,c,i,f;var o=[];var d=t[0];if(d<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(d<=183){if(a=d-127,c=128===d?new Buffer([]):t.slice(1,a),2===a&&c[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:c,remainder:t.slice(a)}}if(d<=191){if(n=d-182,a=r(t.slice(1,n).toString("hex"),16),(c=t.slice(n,a+n)).length<a)throw new Error("invalid RLP");return{data:c,remainder:t.slice(a+n)}}if(d<=247){for(a=d-191,i=t.slice(1,a);i.length;)f=e(i),o.push(f.data),i=f.remainder;return{data:o,remainder:t.slice(a)}}n=d-246,a=r(t.slice(1,n).toString("hex"),16);var s=n+a;if(s>t.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(i=t.slice(n,s)).length)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)f=e(i),o.push(f.data),i=f.remainder;return{data:o,remainder:t.slice(s)}}(e=o(e));return t?a:(n.equal(a.remainder.length,0,"invalid remainder"),a.data)},t.getLength=function(e){if(!e||0===e.length)return new Buffer([]);var t=(e=o(e))[0];if(t<=127)return e.length;if(t<=183)return t-127;if(t<=191)return t-182;if(t<=247)return t-191;var a=t-246;return a+r(e.slice(1,a).toString("hex"),16)}},function(e,t,a){"use strict";var n;try{throw new Error}catch(e){n=e}var r=a(559),c=a(558),i=a(11);function f(){this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=r.isStatic?r(this.drainQueues):r}function o(e,t,a){this._lateQueue.push(e,t,a),this._queueTick()}function d(e,t,a){this._normalQueue.push(e,t,a),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}f.prototype.disableTrampolineIfNecessary=function(){i.hasDevTools&&(this._trampolineEnabled=!1)},f.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(e){setTimeout(e,0)})},f.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},f.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},i.hasDevTools?(r.isStatic&&(r=function(e){setTimeout(e,0)}),f.prototype.invokeLater=function(e,t,a){this._trampolineEnabled?o.call(this,e,t,a):this._schedule(function(){setTimeout(function(){e.call(t,a)},100)})},f.prototype.invoke=function(e,t,a){this._trampolineEnabled?d.call(this,e,t,a):this._schedule(function(){e.call(t,a)})},f.prototype.settlePromises=function(e){this._trampolineEnabled?s.call(this,e):this._schedule(function(){e._settlePromises()})}):(f.prototype.invokeLater=o,f.prototype.invoke=d,f.prototype.settlePromises=s),f.prototype.invokeFirst=function(e,t,a){this._normalQueue.unshift(e,t,a),this._queueTick()},f.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var a=e.shift(),n=e.shift();t.call(a,n)}else t._settlePromises()}},f.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},f.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},f.prototype._reset=function(){this._isTickUsed=!1},e.exports=new f,e.exports.firstLineError=n},function(e,t,a){var n=0,r={},c=r.path=n++,i=r.mode=n++,f=r.uid=n++,o=r.gid=n++,d=r.size=n++,s=r.mtime=n++,b=r.cksum=n++,u=r.type=n++,l=r.linkpath=n++,p=[];p[c]=100,p[i]=8,p[f]=8,p[o]=8,p[d]=12,p[s]=12,p[b]=8,p[u]=1,p[l]=100;var h=r.ustar=n++,m=r.ustarver=n++,v=r.uname=n++,g=r.gname=n++,y=r.devmaj=n++,_=r.devmin=n++,w=r.prefix=n++,A=r.fill=n++;r[n]=null,p[h]=6,p[m]=2,p[v]=32,p[g]=32,p[y]=8,p[_]=8,p[w]=155,p[A]=12;for(var x={},k={},E=0,S=0;S<n;S++)k[S]=E,x[S]=E+=p[S];Object.keys(r).forEach(function(e){null!==r[e]&&(r[r[e]]=e)});var T={0:"File","\0":"OldFile","":"OldFile",1:"Link",2:"SymbolicLink",3:"CharacterDevice",4:"BlockDevice",5:"Directory",6:"FIFO",7:"ContiguousFile",g:"GlobalExtendedHeader",x:"ExtendedHeader",A:"SolarisACL",D:"GNUDumpDir",I:"Inode",K:"NextFileHasLongLinkpath",L:"NextFileHasLongPath",M:"ContinuationFile",N:"OldGnuLongPath",S:"SparseFile",V:"TapeVolumeHeader",X:"OldExtendedHeader"};Object.keys(T).forEach(function(e){T[T[e]]=T[T[e]]||e});var C={suid:2048,sgid:1024,svtx:512,uread:256,uwrite:128,uexec:64,gread:32,gwrite:16,gexec:8,oread:4,owrite:2,oexec:1,all:4095};Object.keys(C).forEach(function(e){C[C[e]]=C[C[e]]||e});t.fields=r,t.fieldSize=p,t.fieldOffs=k,t.fieldEnds=x,t.types=T,t.modes=C,t.numeric={mode:!0,uid:!0,gid:!0,size:!0,mtime:!0,devmaj:!0,devmin:!0,cksum:!0,atime:!0,ctime:!0,dev:!0,ino:!0,nlink:!0},t.headerSize=512,t.blockSize=512,t.knownExtended={atime:!0,charset:!0,comment:!0,ctime:!0,gid:!0,gname:!0,linkpath:!0,mtime:!0,path:!0,realtime:!0,security:!0,size:!0,uid:!0,uname:!0},t.Pack=a(712),t.Parse=a(709),t.Extract=a(706)},function(e,t,a){"use strict";var n,r,c=a(72),i=c.freeze,f=a(12),o=f.inherits,d=f.notEnumerableProp;function s(e,t){function a(n){if(!(this instanceof a))return new a(n);d(this,"message","string"==typeof n?n:t),d(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return o(a,Error),a}var b=s("Warning","warning"),u=s("CancellationError","cancellation error"),l=s("TimeoutError","timeout error"),p=s("AggregateError","aggregate error");try{n=TypeError,r=RangeError}catch(e){n=s("TypeError","type error"),r=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<h.length;++m)"function"==typeof Array.prototype[h[m]]&&(p.prototype[h[m]]=Array.prototype[h[m]]);c.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var v=0;function g(e){if(!(this instanceof g))return new g(e);d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}p.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var a=0;a<this.length;++a){for(var n=this[a]===this?"[Circular AggregateError]":this[a]+"",r=n.split("\n"),c=0;c<r.length;++c)r[c]=e+r[c];t+=(n=r.join("\n"))+"\n"}return v--,t},o(g,Error);var y=Error.__BluebirdErrorTypes__;y||(y=i({CancellationError:u,TimeoutError:l,OperationalError:g,RejectionError:g,AggregateError:p}),c.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:n,RangeError:r,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:b}},function(e,t,a){"use strict";var n,r,c=a(74),i=c.freeze,f=a(13),o=f.inherits,d=f.notEnumerableProp;function s(e,t){function a(n){if(!(this instanceof a))return new a(n);d(this,"message","string"==typeof n?n:t),d(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return o(a,Error),a}var b=s("Warning","warning"),u=s("CancellationError","cancellation error"),l=s("TimeoutError","timeout error"),p=s("AggregateError","aggregate error");try{n=TypeError,r=RangeError}catch(e){n=s("TypeError","type error"),r=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<h.length;++m)"function"==typeof Array.prototype[h[m]]&&(p.prototype[h[m]]=Array.prototype[h[m]]);c.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var v=0;function g(e){if(!(this instanceof g))return new g(e);d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}p.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var a=0;a<this.length;++a){for(var n=this[a]===this?"[Circular AggregateError]":this[a]+"",r=n.split("\n"),c=0;c<r.length;++c)r[c]=e+r[c];t+=(n=r.join("\n"))+"\n"}return v--,t},o(g,Error);var y=Error.__BluebirdErrorTypes__;y||(y=i({CancellationError:u,TimeoutError:l,OperationalError:g,RejectionError:g,AggregateError:p}),c.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:n,RangeError:r,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:b}},function(e,t,a){"use strict";var n,r,c=a(75),i=c.freeze,f=a(14),o=f.inherits,d=f.notEnumerableProp;function s(e,t){function a(n){if(!(this instanceof a))return new a(n);d(this,"message","string"==typeof n?n:t),d(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return o(a,Error),a}var b=s("Warning","warning"),u=s("CancellationError","cancellation error"),l=s("TimeoutError","timeout error"),p=s("AggregateError","aggregate error");try{n=TypeError,r=RangeError}catch(e){n=s("TypeError","type error"),r=s("RangeError","range error")}for(var h="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<h.length;++m)"function"==typeof Array.prototype[h[m]]&&(p.prototype[h[m]]=Array.prototype[h[m]]);c.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var v=0;function g(e){if(!(this instanceof g))return new g(e);d(this,"name","OperationalError"),d(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(d(this,"message",e.message),d(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}p.prototype.toString=function(){var e=Array(4*v+1).join(" "),t="\n"+e+"AggregateError of:\n";v++,e=Array(4*v+1).join(" ");for(var a=0;a<this.length;++a){for(var n=this[a]===this?"[Circular AggregateError]":this[a]+"",r=n.split("\n"),c=0;c<r.length;++c)r[c]=e+r[c];t+=(n=r.join("\n"))+"\n"}return v--,t},o(g,Error);var y=Error.__BluebirdErrorTypes__;y||(y=i({CancellationError:u,TimeoutError:l,OperationalError:g,RejectionError:g,AggregateError:p}),c.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:n,RangeError:r,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:b}},function(e,t){e.exports=__webpack_require__(33)},function(e,t,a){const n=a(1061),r=a(1037),c=a(1).inherits,i=a(1026);function f(){n.apply(this,arguments),r(this)}e.exports=f,c(f,n),f.prove=i.prove,f.verifyProof=i.verifyProof},function(e,t,a){const n=a(1065),r=a(47);var c=e.exports=function(e){var t=[{name:"nonce",default:new Buffer([])},{name:"balance",default:new Buffer([])},{name:"stateRoot",length:32,default:n.SHA3_RLP},{name:"codeHash",length:32,default:n.SHA3_NULL}];n.defineProperties(this,t,e)};c.prototype.serialize=function(){return r.encode(this.raw)},c.prototype.isContract=function(){return this.codeHash.toString("hex")!==n.SHA3_NULL_S},c.prototype.getCode=function(e,t){this.isContract()?e.getRaw(this.codeHash,t):t(null,new Buffer([]))},c.prototype.setCode=function(e,t,a){var r=this;this.codeHash=n.sha3(t),this.codeHash.toString("hex")!==n.SHA3_NULL_S?e.putRaw(this.codeHash,t,function(e){a(e,r.codeHash)}):a(null,new Buffer([]))},c.prototype.getStorage=function(e,t,a){var n=e.copy();n.root=this.stateRoot,n.get(t,a)},c.prototype.setStorage=function(e,t,a,n){var r=this,c=e.copy();c.root=r.stateRoot,c.put(t,a,function(e){if(e)return n();r.stateRoot=c.root,n()})},c.prototype.isEmpty=function(){return""===this.balance.toString("hex")&&""===this.nonce.toString("hex")&&this.stateRoot.toString("hex")===n.SHA3_RLP_S&&this.codeHash.toString("hex")===n.SHA3_NULL_S}},function(e,t,a){e.exports=!a(107)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,a){var n=a(45),r=a(430),c=a(214),i=Object.defineProperty;t.f=a(56)?Object.defineProperty:function(e,t,a){if(n(e),t=c(t,!0),n(a),r)try{return i(e,t,a)}catch(e){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");return"value"in a&&(e[t]=a.value),e}},function(e,t){function a(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=a,a.equal=function(e,t,a){if(e!=t)throw new Error(a||"Assertion failed: "+e+" != "+t)}},function(e,t){e.exports=function(e,t,a){if(null!=e)for(var n=-1,r=e.length;++n<r&&!1!==t.call(a,e[n],n,e););}},function(e,t,a){var n=a(15);e.exports=function(e,t,a){t=n(t,a);var r=[];if(null==e)return r;for(var c,i=-1,f=e.length;++i<f;)t(c=e[i],i,e)&&r.push(c);return r}},function(e,t,a){var n=a(40),r=a(338),c=function(e){this._inputFormatter=e.inputFormatter,this._outputFormatter=e.outputFormatter};c.prototype.isType=function(e){throw"This method should be overwritten for type "+e},c.prototype.staticPartLength=function(e){return(this.nestedTypes(e)||["[1]"]).map(function(e){return parseInt(e.slice(1,-1),10)||1}).reduce(function(e,t){return e*t},32)},c.prototype.isDynamicArray=function(e){var t=this.nestedTypes(e);return!!t&&!t[t.length-1].match(/[0-9]{1,}/g)},c.prototype.isStaticArray=function(e){var t=this.nestedTypes(e);return!!t&&!!t[t.length-1].match(/[0-9]{1,}/g)},c.prototype.staticArrayLength=function(e){var t=this.nestedTypes(e);return t?parseInt(t[t.length-1].match(/[0-9]{1,}/g)||1):1},c.prototype.nestedName=function(e){var t=this.nestedTypes(e);return t?e.substr(0,e.length-t[t.length-1].length):e},c.prototype.isDynamicType=function(){return!1},c.prototype.nestedTypes=function(e){return e.match(/(\[[0-9]*\])/g)},c.prototype.encode=function(e,t){var a,r,c,i=this;return this.isDynamicArray(t)?(a=e.length,r=i.nestedName(t),(c=[]).push(n.formatInputInt(a).encode()),e.forEach(function(e){c.push(i.encode(e,r))}),c):this.isStaticArray(t)?function(){for(var a=i.staticArrayLength(t),n=i.nestedName(t),r=[],c=0;c<a;c++)r.push(i.encode(e[c],n));return r}():this._inputFormatter(e,t).encode()},c.prototype.decode=function(e,t,a){var n=this;if(this.isDynamicArray(a))return function(){for(var r=parseInt("0x"+e.substr(2*t,64)),c=parseInt("0x"+e.substr(2*r,64)),i=r+32,f=n.nestedName(a),o=n.staticPartLength(f),d=32*Math.floor((o+31)/32),s=[],b=0;b<c*d;b+=d)s.push(n.decode(e,i+b,f));return s}();if(this.isStaticArray(a))return function(){for(var r=n.staticArrayLength(a),c=t,i=n.nestedName(a),f=n.staticPartLength(i),o=32*Math.floor((f+31)/32),d=[],s=0;s<r*o;s+=o)d.push(n.decode(e,c+s,i));return d}();if(this.isDynamicType(a))return function(){var c=parseInt("0x"+e.substr(2*t,64)),i=parseInt("0x"+e.substr(2*c,64)),f=Math.floor((i+31)/32),o=new r(e.substr(2*c,64*(1+f)),0,e);return n._outputFormatter(o,a)}();var c=this.staticPartLength(a),i=new r(e.substr(2*t,2*c),void 0,e);return this._outputFormatter(i,a)},e.exports=c},function(e,t,a){"use strict";var n=a(911),r=a(24).errors,c=a(24).formatters,i=a(33),f=a(345),o=a(131).subscriptions,d=function(e){if(!e.call||!e.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=e.name,this.call=e.call,this.params=e.params||0,this.inputFormatter=e.inputFormatter,this.outputFormatter=e.outputFormatter,this.transformPayload=e.transformPayload,this.extraFormatters=e.extraFormatters,this.requestManager=e.requestManager,this.accounts=e.accounts,this.defaultBlock=e.defaultBlock||"latest",this.defaultAccount=e.defaultAccount||null};d.prototype.setRequestManager=function(e,t){this.requestManager=e,t&&(this.accounts=t)},d.prototype.createFunction=function(e,t){var a=this.buildCall();return a.call=this.call,this.setRequestManager(e||this.requestManager,t||this.accounts),a},d.prototype.attachToObject=function(e){var t=this.buildCall();t.call=this.call;var a=this.name.split(".");a.length>1?(e[a[0]]=e[a[0]]||{},e[a[0]][a[1]]=t):e[a[0]]=t},d.prototype.getCall=function(e){return n.isFunction(this.call)?this.call(e):this.call},d.prototype.extractCallback=function(e){if(n.isFunction(e[e.length-1]))return e.pop()},d.prototype.validateArgs=function(e){if(e.length!==this.params)throw r.InvalidNumberOfParams(e.length,this.params,this.name)},d.prototype.formatInput=function(e){var t=this;return this.inputFormatter?this.inputFormatter.map(function(a,n){return a?a.call(t,e[n]):e[n]}):e},d.prototype.formatOutput=function(e){var t=this;return n.isArray(e)?e.map(function(e){return t.outputFormatter&&e?t.outputFormatter(e):e}):this.outputFormatter&&e?this.outputFormatter(e):e},d.prototype.toPayload=function(e){var t=this.getCall(e),a=this.extractCallback(e),n=this.formatInput(e);this.validateArgs(n);var r={method:t,params:n,callback:a};return this.transformPayload&&(r=this.transformPayload(r)),r},d.prototype._confirmTransaction=function(e,t,a){var r=this,s=!1,b=!0,u=0,l=0,p=null,h=n.isObject(a.params[0])&&a.params[0].gas?a.params[0].gas:null,m=n.isObject(a.params[0])&&a.params[0].data&&a.params[0].from&&!a.params[0].to,v=[new d({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:c.outputTransactionReceiptFormatter}),new d({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[c.inputAddressFormatter,c.inputDefaultBlockNumberFormatter]}),new o({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:c.outputBlockFormatter}}})],g={};n.each(v,function(e){e.attachToObject(g),e.requestManager=r.requestManager});var y=function(a,n,c,o){return a?(c.unsubscribe(),s=!0,i._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:a},e.eventEmitter,e.reject)):(c||(c={unsubscribe:function(){clearInterval(p)}}),(o?f.resolve(o):g.getTransactionReceipt(t)).catch(function(t){c.unsubscribe(),s=!0,i._fireError({message:"Failed to check for transaction receipt:",data:t},e.eventEmitter,e.reject)}).then(function(t){if(!t||!t.blockHash)throw new Error("Receipt missing or blockHash null");return r.extraFormatters&&r.extraFormatters.receiptFormatter&&(t=r.extraFormatters.receiptFormatter(t)),e.eventEmitter.listeners("confirmation").length>0&&(e.eventEmitter.emit("confirmation",l,t),b=!1,25===++l&&(c.unsubscribe(),e.eventEmitter.removeAllListeners())),t}).then(function(t){if(m&&!s){if(!t.contractAddress)return b&&(c.unsubscribe(),s=!0),i._fireError(new Error("The transaction receipt didn't contain a contract address."),e.eventEmitter,e.reject);g.getCode(t.contractAddress,function(a,n){n&&(n.length>2?(e.eventEmitter.emit("receipt",t),r.extraFormatters&&r.extraFormatters.contractDeployFormatter?e.resolve(r.extraFormatters.contractDeployFormatter(t)):e.resolve(t),b&&e.eventEmitter.removeAllListeners()):i._fireError(new Error("The contract code couldn't be stored, please check your gas limit."),e.eventEmitter,e.reject),b&&c.unsubscribe(),s=!0)})}return t}).then(function(t){m||s||(t.outOfGas||h&&h===t.gasUsed?(t&&(t=JSON.stringify(t,null,2)),i._fireError(new Error("Transaction ran out of gas. Please provide more gas:\n"+t),e.eventEmitter,e.reject)):(e.eventEmitter.emit("receipt",t),e.resolve(t),b&&e.eventEmitter.removeAllListeners()),b&&c.unsubscribe(),s=!0)}).catch(function(){if(++u-1>=50)return c.unsubscribe(),s=!0,i._fireError(new Error("Transaction was not mined within 50 blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),e.eventEmitter,e.reject)}))},_=function(){n.isFunction(this.requestManager.provider.on)?g.subscribe("newBlockHeaders",y):p=setInterval(y,1e3)}.bind(this);g.getTransactionReceipt(t).then(function(t){if(t&&t.blockHash)return e.eventEmitter.listeners("confirmation").length>0&&setTimeout(function(){s||_()},1e3),y(null,0,null,t);s||_()}).catch(function(){s||_()})};var s=function(e,t){return n.isNumber(e)?t.wallet[e]:n.isObject(e)&&e.address&&e.privateKey?e:t.wallet[e.toLowerCase()]};d.prototype.buildCall=function(){var e=this,t="eth_sendTransaction"===e.call||"eth_sendRawTransaction"===e.call,a=function(){var a=f(!t),r=e.toPayload(Array.prototype.slice.call(arguments)),c=function(n,c){try{c=e.formatOutput(c)}catch(e){n=e}if(c instanceof Error&&(n=c),n)return n.error&&(n=n.error),i._fireError(n,a.eventEmitter,a.reject,r.callback);r.callback&&r.callback(null,c),t?(a.eventEmitter.emit("transactionHash",c),e._confirmTransaction(a,c,r)):n||a.resolve(c)},o=function(t){var a=n.extend({},r,{method:"eth_sendRawTransaction",params:[t.rawTransaction]});e.requestManager.send(a,c)},b=function(e,t){var r;if(t&&t.accounts&&t.accounts.wallet&&t.accounts.wallet.length)if("eth_sendTransaction"===e.method){var i=e.params[0];if((r=s(n.isObject(i)?i.from:null,t.accounts))&&r.privateKey)return t.accounts.signTransaction(n.omit(i,"from"),r.privateKey).then(o)}else if("eth_sign"===e.method){var f=e.params[1];if((r=s(e.params[0],t.accounts))&&r.privateKey){var d=t.accounts.sign(f,r.privateKey);return e.callback&&e.callback(null,d.signature),void a.resolve(d.signature)}}return t.requestManager.send(e,c)};t&&n.isObject(r.params[0])&&!r.params[0].gasPrice?new d({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(e.requestManager)(function(t,a){a&&(r.params[0].gasPrice=a),b(r,e)}):b(r,e);return a.eventEmitter};return a.method=e,a.request=this.request.bind(this),a},d.prototype.request=function(){var e=this.toPayload(Array.prototype.slice.call(arguments));return e.format=this.formatOutput.bind(this),e},e.exports=d},function(e,t,a){"use strict";var n=a(954),r=a(912);e.exports={packageInit:function(e,t){if(t=Array.prototype.slice.call(t),!e)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(e,"currentProvider",{get:function(){return e._provider},set:function(t){return e.setProvider(t)},enumerable:!0,configurable:!0}),t[0]&&t[0]._requestManager?e._requestManager=new n.Manager(t[0].currentProvider):(e._requestManager=new n.Manager,e._requestManager.setProvider(t[0],t[1])),e.givenProvider=n.Manager.givenProvider,e.providers=n.Manager.providers,e._provider=e._requestManager.provider,e.setProvider||(e.setProvider=function(t,a){return e._requestManager.setProvider(t,a),e._provider=e._requestManager.provider,!0}),e.BatchRequest=n.BatchManager.bind(null,e._requestManager),e.extend=r(e)},addProviders:function(e){e.givenProvider=n.Manager.givenProvider,e.providers=n.Manager.providers}}},function(e,t){var a={}.hasOwnProperty;e.exports=function(e,t){return a.call(e,t)}},function(e,t,a){var n=a(58),r=a(139);e.exports=a(56)?function(e,t,a){return n.f(e,t,r(1,a))}:function(e,t,a){return e[t]=a,e}},function(e,t,a){"use strict";e.exports=a(1202)(a(1198))},function(e,t){e.exports=function(e){return!!e&&"object"==typeof e&&e.constructor===Object}},function(e,t,a){var n=a(91);e.exports=function(e,t){return-1!==n(e,t)}},function(e,t){e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,a){e.exports=b;var n=a(7),r=a(5).Stream,c=a(0),i=a(2),f=a(126),o=b.hardLinks={},d=a(179);c(b,d);var s=a(308);function b(e,t){var n,r;if(!(this instanceof b))return new b(e,t);switch("string"==typeof e&&(e={path:e}),e.type&&"function"==typeof e.type?r=n=e.type:(n=f(e),r=b),t&&!n&&(e[n=f(t)]=!0,e.type=n),n){case"Directory":r=a(307);break;case"Link":case"File":r=a(306);break;case"SymbolicLink":r=s;break;case"Socket":r=a(711);break;case null:r=a(305)}if(!(this instanceof r))return new r(e);d.call(this),e.path||this.error("Must provide a path",null,!0),this.readable=!0,this.writable=!1,this.type=n,this.props=e,this.depth=e.depth=e.depth||0,this.parent=e.parent||null,this.root=e.root||e.parent&&e.parent.root||this,this._path=this.path=i.resolve(e.path),"win32"===process.platform&&(this.path=this._path=this.path.replace(/\?/g,"_"),this._path.length>=260&&(this._swallowErrors=!0,this._path="\\\\?\\"+this.path.replace(/\//g,"\\"))),this.basename=e.basename=i.basename(this.path),this.dirname=e.dirname=i.dirname(this.path),e.parent=e.root=null,this.size=e.size,this.filter="function"==typeof e.filter?e.filter:null,"alpha"===e.sort&&(e.sort=u),this._stat(t)}function u(e,t){return e===t?0:e.toLowerCase()>t.toLowerCase()?1:e.toLowerCase()<t.toLowerCase()?-1:e>t?1:-1}b.prototype._stat=function(e){var t=this,a=t.props,r=a.follow?"stat":"lstat";function c(e,n){if(e)return t.error(e);if(Object.keys(n).forEach(function(e){a[e]=n[e]}),void 0!==t.size&&a.size!==t.size)return t.error("incorrect size");t.size=a.size;var r=f(a);if(!1!==a.hardlinks&&"Directory"!==r&&a.nlink&&a.nlink>1){var c=a.dev+":"+a.ino;o[c]!==t._path&&o[c]?(r=t.type=t.props.type="Link",t.Link=t.props.Link=!0,t.linkpath=t.props.linkpath=o[c],t._stat=t._read=s.prototype._read):o[c]=t._path}if(t.type&&t.type!==r&&t.error("Unexpected type: "+r),t.filter){var i=t._proxy||t;if(!t.filter.call(i,i,a))return void(t._disowned||(t.abort(),t.emit("end"),t.emit("close")))}var d=["_stat","stat","ready"],b=0;!function e(){if(t._aborted)return t.emit("end"),void t.emit("close");if(t._paused&&"Directory"!==t.type)t.once("resume",e);else{var n=d[b++];if(!n)return t._read();t.emit(n,a),e()}}()}e?process.nextTick(c.bind(null,null,e)):n[r](t._path,c)},b.prototype.pipe=function(e){var t=this;return"function"==typeof e.add&&t.on("entry",function(a){!1===e.add(a)&&t.pause()}),r.prototype.pipe.apply(this,arguments)},b.prototype.pause=function(e){this._paused=!0,e=e||this,this.emit("pause",e),this._stream&&this._stream.pause(e)},b.prototype.resume=function(e){this._paused=!1,e=e||this,this.emit("resume",e),this._stream&&this._stream.resume(e),this._read()},b.prototype._read=function(){this.error("Cannot read unknown type: "+this.type)}},function(e,t){var a=function(){"use strict";return void 0===this}();if(a)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a,propertyIsWritable:function(e,t){var a=Object.getOwnPropertyDescriptor(e,t);return!(a&&!a.writable&&!a.set)}};else{var n={}.hasOwnProperty,r={}.toString,c={}.constructor.prototype,i=function(e){var t=[];for(var a in e)n.call(e,a)&&t.push(a);return t};e.exports={isArray:function(e){try{return"[object Array]"===r.call(e)}catch(e){return!1}},keys:i,names:i,defineProperty:function(e,t,a){return e[t]=a.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return c}},isES5:a,propertyIsWritable:function(){return!0}}}},function(e,t){e.exports=__webpack_require__(160)},function(e,t){var a=function(){"use strict";return void 0===this}();if(a)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a,propertyIsWritable:function(e,t){var a=Object.getOwnPropertyDescriptor(e,t);return!(a&&!a.writable&&!a.set)}};else{var n={}.hasOwnProperty,r={}.toString,c={}.constructor.prototype,i=function(e){var t=[];for(var a in e)n.call(e,a)&&t.push(a);return t};e.exports={isArray:function(e){try{return"[object Array]"===r.call(e)}catch(e){return!1}},keys:i,names:i,defineProperty:function(e,t,a){return e[t]=a.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return c}},isES5:a,propertyIsWritable:function(){return!0}}}},function(e,t){var a=function(){"use strict";return void 0===this}();if(a)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a,propertyIsWritable:function(e,t){var a=Object.getOwnPropertyDescriptor(e,t);return!(a&&!a.writable&&!a.set)}};else{var n={}.hasOwnProperty,r={}.toString,c={}.constructor.prototype,i=function(e){var t=[];for(var a in e)n.call(e,a)&&t.push(a);return t};e.exports={isArray:function(e){try{return"[object Array]"===r.call(e)}catch(e){return!1}},keys:i,names:i,defineProperty:function(e,t,a){return e[t]=a.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return c}},isES5:a,propertyIsWritable:function(){return!0}}}},function(e,t){e.exports=__webpack_require__(50)},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,a){const n=a(198);function r(e,t){for(var a=0;e[a]===t[a]&&e.length>a;)a++;return a}e.exports={matchingNibbleLength:r,callTogether:function(){var e=arguments,t=e.length,a=t;if(!t)return function(){};return function(){for(t=a;t--;){var n=e[t];if("function"==typeof n)var r=e[t].apply(this,arguments)}return r}},asyncFirstSeries:function(e,t,a){var r=!1;n.eachSeries(e,function(e,n){if(r)return n;t(e,function(e,t){t&&(r=!0,process.nextTick(a.bind(null,null,t))),n(e)})},function(){r||a()})},doKeysMatch:function(e,t){var a=r(e,t);return a===e.length&&a===t.length}}},function(e,t,a){"use strict";var n=a(135).nextTick,r=Object.keys||function(e){var t=[];for(var a in e)t.push(a);return t};e.exports=b;var c=a(18);c.inherits=a(0);var i=a(379),f=a(376);c.inherits(b,i);for(var o=r(f.prototype),d=0;d<o.length;d++){var s=o[d];b.prototype[s]||(b.prototype[s]=f.prototype[s])}function b(e){if(!(this instanceof b))return new b(e);i.call(this,e),f.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||n(l,this)}function l(e){e.end()}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),b.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},function(e,t,a){e.exports=f;var n=Object.keys||function(e){var t=[];for(var a in e)t.push(a);return t},r=a(18);r.inherits=a(0);var c=a(392),i=a(391);function f(e){if(!(this instanceof f))return new f(e);c.call(this,e),i.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",o)}function o(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}r.inherits(f,c),function(e,t){for(var a=0,n=e.length;a<n;a++)t(e[a],a)}(n(i.prototype),function(e){f.prototype[e]||(f.prototype[e]=i.prototype[e])})},function(e,t,a){var n=a(1167),r=a(216);e.exports=function(e){return n(r(e))}},function(e,t,a){var n=t.noop=function(){};function r(e,t,a){this.logFunction=a,this.identifier=e,this.uniqueID=t,this.buffer=[]}t.extend=function(e,t){for(var a in t)e[a]=t[a]},t.eventEmitterListenerCount=a(4).EventEmitter.listenerCount||function(e,t){return e.listeners(t).length},t.BufferingLogger=function(e,t){var c=a(132)(e);if(c.enabled){var i=new r(e,t,c),f=i.log.bind(i);return f.printOutput=i.printOutput.bind(i),f.enabled=c.enabled,f}return c.printOutput=n,c},r.prototype.log=function(){return this.buffer.push([new Date,Array.prototype.slice.call(arguments)]),this},r.prototype.clear=function(){return this.buffer=[],this},r.prototype.printOutput=function(e){e||(e=this.logFunction);var t=this.uniqueID;this.buffer.forEach(function(a){var n=a[0].toLocaleString(),r=a[1].slice(),c=r[0];void 0!==c&&null!==c&&(c="%s - %s - "+c.toString(),r.splice(0,1,c,n,t),e.apply(global,r))})}},function(e,t){var a=function(){"use strict";return void 0===this}();if(a)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:a,propertyIsWritable:function(e,t){var a=Object.getOwnPropertyDescriptor(e,t);return!(a&&!a.writable&&!a.set)}};else{var n={}.hasOwnProperty,r={}.toString,c={}.constructor.prototype,i=function(e){var t=[];for(var a in e)n.call(e,a)&&t.push(a);return t};e.exports={isArray:function(e){try{return"[object Array]"===r.call(e)}catch(e){return!1}},keys:i,names:i,defineProperty:function(e,t,a){return e[t]=a.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return c}},isES5:a,propertyIsWritable:function(){return!0}}}},function(e,t,a){var n=a(3);e.exports=function(e){return(e=n(e)).toUpperCase()}},function(e,t,a){var n=a(39);e.exports=function(e){return n(e,"Number")}},function(e,t,a){var n=a(36);e.exports=function(e){return"number"==typeof e?e:e?"string"==typeof e?parseFloat(e):n(e)?NaN:Number(e):0}},function(e,t,a){var n=a(39);e.exports=function(e){return n(e,"Object")}},function(e,t,a){var n=a(172),r=a(121),c=a(291);e.exports=function(e,t){return e=null==e?n:~~e,t=null==t?r:~~t,Math.round(c(e-.5,t+.499999999999))}},function(e,t){e.exports=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,a){var n=a(61);function r(e,t){return e===t}e.exports=function(e,t){return t=t||r,n(e,function(e,a,n){for(var r=n.length;++a<r;)if(t(e,n[a]))return!1;return!0})}},function(e,t){e.exports=function(e,t,a){if(a=a||0,null==e)return-1;for(var n=e.length,r=a<0?n+a:a;r<n;){if(e[r]===t)return r;r++}return-1}},function(e,t){var a,n=/^\[object (.*)\]$/,r=Object.prototype.toString;e.exports=function(e){return null===e?"Null":e===a?"Undefined":n.exec(r.call(e))[1]}},function(e,t){e.exports=function(e,t){if(null==t)return e;for(var a=e.length,n=-1,r=t.length;++n<r;)e[a+n]=t[n];return e}},function(e,t,a){e.exports=h;var n=a(7),r=a(0),c=a(304),i=a(180),f=a(2),o="win32"===process.platform?0:process.umask(),d=a(126),s=a(179);r(h,s),h.dirmode=parseInt("0777",8)&~o,h.filemode=parseInt("0666",8)&~o;var b=a(303),u=a(302),l=a(301),p=a(300);function h(e,t){"string"==typeof e&&(e={path:e});var a=h;switch(d(e)){case"Directory":a=b;break;case"File":a=l;break;case"Link":case"SymbolicLink":a=u;break;case null:default:a=p}if(!(this instanceof a))return new a(e);s.call(this),e.path||this.error("Must provide a path",null,!0),this.type=e.type,this.props=e,this.depth=e.depth||0,this.clobber=!1!==e.clobber||e.clobber,this.parent=e.parent||null,this.root=e.root||e.parent&&e.parent.root||this,this._path=this.path=f.resolve(e.path),"win32"===process.platform&&(this.path=this._path=this.path.replace(/\?/g,"_"),this._path.length>=260&&(this._swallowErrors=!0,this._path="\\\\?\\"+this.path.replace(/\//g,"\\"))),this.basename=f.basename(e.path),this.dirname=f.dirname(e.path),this.linkpath=e.linkpath||null,e.parent=e.root=null,this.size=e.size,"string"==typeof e.mode&&(e.mode=parseInt(e.mode,8)),this.readable=!1,this.writable=!0,this._buffer=[],this.ready=!1,this.filter="function"==typeof e.filter?e.filter:null,this._stat(t)}function m(e){i(f.dirname(e._path),h.dirmode,function(t,a){return t?e.error(t):(e._madeDir=a,e._create())})}function v(e,t,a,r,c){var i=t.mode,f=t.follow||"SymbolicLink"!==e.type?"chmod":"lchmod";if(!n[f])return c();if("number"!=typeof i)return c();var o=a.mode&parseInt("0777",8);if((i&=parseInt("0777",8))===o)return c();n[f](r,i,c)}function g(e,t,a,r,c){if("win32"===process.platform)return c();if(!process.getuid||0!==process.getuid())return c();if("number"!=typeof t.uid&&"number"!=typeof t.gid)return c();if(a.uid===t.uid&&a.gid===t.gid)return c();var i=e.props.follow||"SymbolicLink"!==e.type?"chown":"lchown";if(!n[i])return c();"number"!=typeof t.uid&&(t.uid=a.uid),"number"!=typeof t.gid&&(t.gid=a.gid),n[i](r,t.uid,t.gid,c)}function y(e,t,a,r,c){if(!n.utimes||"win32"===process.platform)return c();var i=t.follow||"SymbolicLink"!==e.type?"utimes":"lutimes";if("lutimes"!==i||n[i]||(i="utimes"),!n[i])return c();var f=a.atime,o=a.mtime,d=t.atime,s=t.mtime;if(void 0===d&&(d=f),void 0===s&&(s=o),_(d)||(d=new Date(d)),_(s)||(d=new Date(s)),d.getTime()===f.getTime()&&s.getTime()===o.getTime())return c();n[i](r,d,s,c)}function _(e){return"object"==typeof e&&"[object Date]"===function(e){return Object.prototype.toString.call(e)}(e)}h.prototype._create=function(){var e=this;n[e.props.follow?"stat":"lstat"](e._path,function(t){if(t)return e.warn("Cannot create "+e._path+"\nUnsupported type: "+e.type,"ENOTSUP");e._finish()})},h.prototype._stat=function(e){var t=this,a=t.props.follow?"stat":"lstat",r=t._proxy||t;function i(e,a){return t.filter&&!t.filter.call(r,r,a)?(t._aborted=!0,t.emit("end"),void t.emit("close")):e||!a?m(t):(t._old=a,d(a)!==t.type?c(t._path,function(e){if(e)return t.error(e);t._old=null,m(t)}):void m(t))}e?i(null,e):n[a](t._path,i)},h.prototype._finish=function(){var e=this;if(e._finishing);else{e._finishing=!0;var t=0,a=null,r=!1;if(e._old)e._old.atime=new Date(0),e._old.mtime=new Date(0),i(e._old);else{var c=e.props.follow?"stat":"lstat";n[c](e._path,function(t,a){if(t)return"ENOENT"!==t.code||"Link"!==e.type&&"SymbolicLink"!==e.type||"win32"!==process.platform?e.error(t):(e.ready=!0,e.emit("ready"),e.emit("end"),e.emit("close"),void(e.end=e._finish=function(){}));i(e._old=a)})}}function i(a){t+=3,v(e,e.props,a,e._path,o("chmod")),g(e,e.props,a,e._path,o("chown")),y(e,e.props,a,e._path,o("utimes"))}function o(c){return function(i){if(!a){if(i)return i.fstream_finish_call=c,e.error(a=i);if(!(--t>0||r)){if(r=!0,!e._madeDir)return o();!function e(t,a,r){var c=t._madeDir;var i=f.dirname(a);!function(e,t,a){var r={};Object.keys(e.props).forEach(function(t){r[t]=e.props[t],"mode"===t&&"Directory"!==e.type&&(r[t]=r[t]|parseInt("0111",8))});var c=3,i=null;function f(e){if(!i)return e?a(i=e):0==--c?a():void 0}n.stat(t,function(n,c){if(n)return a(i=n);v(e,r,c,t,f),g(e,r,c,t,f),y(e,r,c,t,f)})}(t,i,function(a){return a?r(a):i===c?r():void e(t,i,r)})}(e,e._path,o)}}function o(t){if(t)return t.fstream_finish_call="setupMadeDir",e.error(t);e.emit("end"),e.emit("close")}}}},h.prototype.pipe=function(){this.error("Can't pipe from writable stream")},h.prototype.add=function(){this.error("Can't add to non-Directory type")},h.prototype.write=function(){return!0}},function(e,t,a){t.Abstract=a(179),t.Reader=a(71),t.Writer=a(94),t.File={Reader:a(306),Writer:a(301)},t.Dir={Reader:a(307),Writer:a(303)},t.Link={Reader:a(308),Writer:a(302)},t.Proxy={Reader:a(305),Writer:a(300)},t.Reader.Dir=t.DirReader=t.Dir.Reader,t.Reader.File=t.FileReader=t.File.Reader,t.Reader.Link=t.LinkReader=t.Link.Reader,t.Reader.Proxy=t.ProxyReader=t.Proxy.Reader,t.Writer.Dir=t.DirWriter=t.Dir.Writer,t.Writer.File=t.FileWriter=t.File.Writer,t.Writer.Link=t.LinkWriter=t.Link.Writer,t.Writer.Proxy=t.ProxyWriter=t.Proxy.Writer,t.collect=a(178)},function(e,t,a){var n=t;n.Reporter=a(817).Reporter,n.DecoderBuffer=a(332).DecoderBuffer,n.EncoderBuffer=a(332).EncoderBuffer,n.Node=a(816)},function(e,t,a){var n=t;n.bignum=a(8),n.define=a(819).define,n.base=a(96),n.constants=a(331),n.decoders=a(814),n.encoders=a(812)},function(e,t,a){var n=t.noop=function(){};function r(e,t,a){this.logFunction=a,this.identifier=e,this.uniqueID=t,this.buffer=[]}t.extend=function(e,t){for(var a in t)e[a]=t[a]},t.eventEmitterListenerCount=a(4).EventEmitter.listenerCount||function(e,t){return e.listeners(t).length},t.BufferingLogger=function(e,t){var c=a(132)(e);if(c.enabled){var i=new r(e,t,c),f=i.log.bind(i);return f.printOutput=i.printOutput.bind(i),f.enabled=c.enabled,f}return c.printOutput=n,c},r.prototype.log=function(){return this.buffer.push([new Date,Array.prototype.slice.call(arguments)]),this},r.prototype.clear=function(){return this.buffer=[],this},r.prototype.printOutput=function(e){e||(e=this.logFunction);var t=this.uniqueID;this.buffer.forEach(function(a){var n=a[0].toLocaleString(),r=a[1].slice(),c=r[0];void 0!==c&&null!==c&&(c="%s - %s - "+c.toString(),r.splice(0,1,c,n,t),e.apply(global,r))})}},function(e,t){e.exports=__webpack_require__(9)},function(e,t,a){e.exports=a(9).randomBytes},function(e,t,a){var n=a(388).create,r=n("LevelUPError"),c=n("NotFoundError",r);c.prototype.notFound=!0,c.prototype.status=404,e.exports={LevelUPError:r,InitializationError:n("InitializationError",r),OpenError:n("OpenError",r),ReadError:n("ReadError",r),WriteError:n("WriteError",r),NotFoundError:c,EncodingError:n("EncodingError",r)}},function(e,t,a){const n=a(400),r=a(399),c=a(54),i=n.BN,f=n.rlp,o=a(1025),d=a(1024),s=a(369);var b=e.exports=function(e){var t,a;this.transactions=[],this.uncleHeaders=[],this._inBlockChain=!1,this.txTrie=new c,Object.defineProperty(this,"raw",{get:function(){return this.serialize(!1)}}),e||(e=[[],[],[]]),Buffer.isBuffer(e)&&(e=f.decode(e)),Array.isArray(e)?(this.header=new d(e[0]),t=e[1],a=e[2]):(this.header=new d(e.header),t=e.transactions,a=e.uncleHeaders);for(var n=0;n<a.length;n++)this.uncleHeaders.push(new d(a[n]));var i=this.isHomestead();for(n=0;n<t.length;n++){var o=new r(t[n]);o._homestead=i,this.transactions.push(o)}};function u(e){try{return e.reduce(function(e,t){return e&&(e+=" "),e+t})}catch(e){return""}}b.prototype.hash=function(){return this.header.hash()},b.prototype.isGenesis=function(){return this.header.isGenesis()},b.prototype.isHomestead=function(){return this.header.isHomestead()},b.prototype.setGenesisParams=function(){this.header.gasLimit=s.genesisGasLimit.v,this.header.difficulty=s.genesisDifficulty.v,this.header.extraData=s.genesisExtraData.v,this.header.nonce=s.genesisNonce.v,this.header.stateRoot=s.genesisStateRoot.v,this.header.number=new Buffer([])},b.prototype.serialize=function(e){var t=[this.header.raw,[],[]];return void 0===e&&(e=!0),this.transactions.forEach(function(e){t[1].push(e.raw)}),this.uncleHeaders.forEach(function(e){t[2].push(e.raw)}),e?f.encode(t):t},b.prototype.genTxTrie=function(e){var t=0,a=this;o.eachSeries(this.transactions,function(e,n){a.txTrie.put(f.encode(t),e.serialize(),n),t++},e)},b.prototype.validateTransactionsTrie=function(){var e=this.header.transactionsTrie.toString("hex");return this.transactions.length?e===this.txTrie.root.toString("hex"):e===n.SHA3_RLP.toString("hex")},b.prototype.validateTransactions=function(e){var t=[];return this.transactions.forEach(function(e,a){var n=e.validate(!0);n&&(n+=" at tx "+a),t.push(n)}),void 0===e||!1===e?0===t.length:u(t)},b.prototype.validate=function(e,t){var a=this,n=[];o.parallel([a.validateUncles.bind(a,e),a.header.validate.bind(a.header,e),a.genTxTrie.bind(a)],function(e){e&&n.push(e),a.validateTransactionsTrie()||n.push("invalid transaction true");var r=a.validateTransactions(!0);""!==r&&n.push(r),a.validateUnclesHash()||n.push("invild uncle hash"),t(u(n))})},b.prototype.validateUnclesHash=function(){var e=[];return this.uncleHeaders.forEach(function(t){e.push(t.raw)}),e=f.encode(e),n.sha3(e).toString("hex")===this.header.uncleHash.toString("hex")},b.prototype.validateUncles=function(e,t){if(this.isGenesis())return t();var a=this;if(a.uncleHeaders.length>2)return t("too many uncle headers");var n=a.uncleHeaders.map(function(e){return e.hash().toString("hex")});if(new Set(n).size!==n.length)return t("dublicate unlces");o.each(a.uncleHeaders,function(t,n){var r=new i(a.header.number);o.parallel([t.validate.bind(t,e,r),function(a){e.getDetails(t.hash(),function(e,t){t&&t.isUncle?a(e||"uncle already included"):a()})}],n)},t)},b.prototype.toJSON=function(e){if(e){var t={header:this.header.toJSON(!0),transactions:[],uncleHeaders:[]};return this.transactions.forEach(function(a){t.transactions.push(a.toJSON(e))}),this.uncleHeaders.forEach(function(e){t.uncleHeaders.push(e.toJSON())}),t}return n.baToJSON(this.raw)}},function(e,t,a){const n=a(401);function r(){}e.exports=r,r.prototype.setEngine=function(e){const t=this;t.engine=e,e.on("block",function(e){t.currentBlock=e})},r.prototype.handleRequest=function(e,t,a){throw new Error("Subproviders should override `handleRequest`.")},r.prototype.emitPayload=function(e,t){this.engine.sendAsync(n(e),t)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var n,r=a(1090),c=(n=r)&&n.__esModule?n:{default:n};var i="function"==typeof Symbol;function f(e){return i&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return f(e)?(0,c.default)(e):e},t.isAsync=f},function(e,t){var a={}.toString;e.exports=function(e){return a.call(e).slice(8,-1)}},function(e,t){e.exports={}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,a){var n=a(140);e.exports=function(e,t,a){if(n(e),void 0===t)return e;switch(a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,r){return e.call(t,a,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,a){"use strict";var n=a(42),r=a(59);function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=c,c.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var a=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-a,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-a,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},c.prototype.digest=function(e){return this.update(this._pad()),r(null===this.pending),this._digest(e)},c.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,a=t-(e+this.padLength)%t,n=new Array(a+this.padLength);n[0]=128;for(var r=1;r<a;r++)n[r]=0;if(e<<=3,"big"===this.endian){for(var c=8;c<this.padLength;c++)n[r++]=0;n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=e>>>24&255,n[r++]=e>>>16&255,n[r++]=e>>>8&255,n[r++]=255&e}else for(n[r++]=255&e,n[r++]=e>>>8&255,n[r++]=e>>>16&255,n[r++]=e>>>24&255,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,c=8;c<this.padLength;c++)n[r++]=0;return n}},function(e,t){t.getArg=function(e,t,a){if(t in e)return e[t];if(3===arguments.length)return a;throw new Error('"'+t+'" is a required argument.')};var a=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function r(e){var t=e.match(a);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function c(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function i(e){var a=e,n=r(e);if(n){if(!n.path)return e;a=n.path}for(var i,f=t.isAbsolute(a),o=a.split(/\/+/),d=0,s=o.length-1;s>=0;s--)"."===(i=o[s])?o.splice(s,1):".."===i?d++:d>0&&(""===i?(o.splice(s+1,d),d=0):(o.splice(s,2),d--));return""===(a=o.join("/"))&&(a=f?"/":"."),n?(n.path=a,c(n)):a}function f(e,t){""===e&&(e="."),""===t&&(t=".");var a=r(t),f=r(e);if(f&&(e=f.path||"/"),a&&!a.scheme)return f&&(a.scheme=f.scheme),c(a);if(a||t.match(n))return t;if(f&&!f.host&&!f.path)return f.host=t,c(f);var o="/"===t.charAt(0)?t:i(e.replace(/\/+$/,"")+"/"+t);return f?(f.path=o,c(f)):o}t.urlParse=r,t.urlGenerate=c,t.normalize=i,t.join=f,t.isAbsolute=function(e){return"/"===e.charAt(0)||a.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var a=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++a}return Array(a+1).join("../")+t.substr(e.length+1)};var o=!("__proto__"in Object.create(null));function d(e){return e}function s(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var a=t-10;a>=0;a--)if(36!==e.charCodeAt(a))return!1;return!0}function b(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=o?d:function(e){return s(e)?"$"+e:e},t.fromSetString=o?d:function(e){return s(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,a){var n=b(e.source,t.source);return 0!==n?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)||a?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!=(n=e.generatedLine-t.generatedLine)?n:b(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,a){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)||a?n:0!==(n=b(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:b(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var a=e.generatedLine-t.generatedLine;return 0!==a?a:0!=(a=e.generatedColumn-t.generatedColumn)?a:0!==(a=b(e.source,t.source))?a:0!=(a=e.originalLine-t.originalLine)?a:0!=(a=e.originalColumn-t.originalColumn)?a:b(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,a){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),a){var n=r(a);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var o=n.path.lastIndexOf("/");o>=0&&(n.path=n.path.substring(0,o+1))}t=f(c(n),t)}return i(t)}},function(e,t,a){var n=a(21),r=a(134),c=a(16);e.exports={toJSON:function(e,t){for(var a=0,r=0;r<t.transactions.length;r++){if(t.transactions[r].hash().equals(e.hash())){a=r;break}}return{hash:n.hex(e.hash()),nonce:n.hex(e.nonce),blockHash:n.hex(t.hash()),blockNumber:n.hex(t.header.number),transactionIndex:n.hex(a),from:n.hex(e.from),to:n.hex(e.to),value:n.hex(e.value),gas:n.hex(e.gasLimit),gasPrice:n.hex(e.gasPrice),input:n.hex(e.data)}},fromJSON:function(e){var t=new r({nonce:c.toBuffer(n.hex(e.nonce)),from:c.toBuffer(n.hex(e.from)),value:c.toBuffer(n.hex(e.value)),gasLimit:c.toBuffer(n.hex(e.gas)),gasPrice:c.toBuffer(n.hex(e.gasPrice)),data:c.toBuffer(n.hex(e.input))});if(e.to){var a=c.toBuffer(n.hex(e.to));a.equals(c.toBuffer("0x0"))||(t.to=c.setLengthLeft(a,20))}return t}}},function(e,t,a){var n=a(3);e.exports=function(e){return(e=n(e)).toLowerCase()}},function(e,t){e.exports=[" ","\n","\r","\t","\f","\v","","","","","","","","","","","","","","","\u2028","\u2029","","",""]},function(e,t){e.exports=function(e){e=e.replace(/#.*/,"");var t=/\?[a-zA-Z0-9\=\&\%\$\-\_\.\+\!\*\'\(\)\,]+/.exec(e);return t?decodeURIComponent(t[0].replace(/\+/g," ")):""}},function(e,t,a){var n=a(164),r=a(86);e.exports=function(e,t,a){return e=r(e),n(""+e,t,a||"0")}},function(e,t,a){var n=a(17);function r(e,t){this[t]=e}e.exports=function(e,t){for(var a,c=0,i=arguments.length;++c<i;)null!=(a=arguments[c])&&n(a,r,e);return e}},function(e,t,a){var n=a(39);e.exports=function(e){return n(e,"Date")}},function(e,t,a){var n=a(17);e.exports=function(e){var t=[];return n(e,function(e,a){t.push(e)}),t}},function(e,t,a){var n=a(17),r=a(15);e.exports=function(e,t,a){t=r(t,a);var c=!1;return n(e,function(a,n){if(t(a,n,e))return c=!0,!1}),c}},function(e,t){e.exports=function(e,t,a){return e=Math.floor(e/t),a?e%a:e}},function(e,t){e.exports=2147483647},function(e,t,a){var n=a(15);e.exports=function(e,t,a){if(null!=e&&e.length){if(e.length&&!t)return Math.max.apply(Math,e);t=n(t,a);for(var r,c,i,f=-1/0,o=-1,d=e.length;++o<d;)(i=t(c=e[o],o,e))>f&&(f=i,r=c);return r}return 1/0}},function(e,t,a){var n=a(15);e.exports=function(e,t,a){t=n(t,a);var r=[];if(null==e)return r;for(var c=-1,i=e.length;++c<i;)r[c]=t(e[c],c,e);return r}},function(e,t,a){var n=a(15);e.exports=function(e,t,a){t=n(t,a);var r=!0;if(null==e)return r;for(var c=-1,i=e.length;++c<i;)if(!t(e[c],c,e)){r=!1;break}return r}},function(e,t,a){var n=a(15);e.exports=function(e,t,a){t=n(t,a);var r=!1;if(null==e)return r;for(var c=-1,i=e.length;++c<i;)if(t(e[c],c,e)){r=!0;break}return r}},function(e,t){e.exports=function(e){var t,a=["Directory","File","SymbolicLink","Link","BlockDevice","CharacterDevice","FIFO","Socket"];if(e.type&&-1!==a.indexOf(e.type))return e[e.type]=!0,e.type;for(var n=0,r=a.length;n<r;n++){t=a[n];var c=e[t]||e["is"+t];if("function"==typeof c&&(c=c.call(e)),c)return e[t]=!0,e.type=t,t}return null}},function(e,t,a){e.exports=f;a(128);var n=a(49),r=(a(10).ok,a(5).Stream),c=a(0),i=a(95).Abstract;function f(e,t,a){r.call(this),this.readable=!0,this.writable=!0,this._needDrain=!1,this._paused=!1,this._reading=!1,this._ending=!1,this._ended=!1,this._remaining=0,this._abort=!1,this._queue=[],this._index=0,this._queueLen=0,this._read=this._read.bind(this),this.props={},this._header=e,this._extended=t||{},this._global={};var n=this;Object.keys(a||{}).forEach(function(e){n._global[e]=a[e]}),this._setProps()}c(f,r),f.prototype.write=function(e){this._ending&&this.error("write() after end()",null,!0),0===this._remaining&&this.error("invalid bytes past eof"),e.length>this._remaining&&(e=e.slice(0,this._remaining)),this._remaining-=e.length;var t=this._queueLen;return this._queue.push(e),this._queueLen++,this._read(),!(this._paused||t>0)||(this._needDrain=!0,!1)},f.prototype.end=function(e){e&&this.write(e),this._ending=!0,this._read()},f.prototype.pause=function(){this._paused=!0,this.emit("pause")},f.prototype.resume=function(){return this.emit("resume"),this._paused=!1,this._read(),this._queueLen-this._index>1},f.prototype._read=function(){if(!(this._paused||this._reading||this._ended)){for(this._reading=!0;this._index<this._queueLen&&!this._paused;){var e=this._queue[this._index++];this.emit("data",e)}this._index>=this._queueLen&&(this._queue.length=this._queueLen=this._index=0,this._needDrain&&(this._needDrain=!1,this.emit("drain")),this._ending&&(this._ended=!0,this.emit("end")));var t=this._maxQueueLen;this._queueLen>t&&this._index>0&&(t=Math.min(this._index,t),this._index-=t,this._queueLen-=t,this._queue=this._queue.slice(t)),this._reading=!1}},f.prototype._setProps=function(){for(var e,t=this._header,a=this._extended,r=this._global,c=this.props,i=n.fields,f=0;null!==i[f];f++){var o=i[f],d=t[o];void 0!==d&&(c[o]=d)}switch([r,a].forEach(function(e){Object.keys(e).forEach(function(t){void 0!==e[t]&&(c[t]=e[t])})}),["path","linkpath"].forEach(function(e){c.hasOwnProperty(e)&&(c[e]=c[e].split("\0")[0])}),["mtime","ctime","atime"].forEach(function(e){c.hasOwnProperty(e)&&(c[e]=new Date(1e3*c[e]))}),n.types[c.type]){case"OldFile":case"ContiguousFile":e="File";break;case"GNUDumpDir":e="Directory";break;case void 0:e="Unknown";break;case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":default:e=n.types[c.type]}this.type=e,this.path=c.path,this.size=c.size,this._remaining=c.size},f.prototype.abort=function(){this._abort=!0},f.prototype.warn=i.warn,f.prototype.error=i.error},function(e,t,a){e.exports=l;var n=a(49),r=n.fields,c=n.fieldOffs,i=n.fieldEnds,f=n.fieldSize,o=n.numeric,d=a(10).ok,s=" ".charCodeAt(0),b="/".charCodeAt(0),u="win32"===process.platform?"\\".charCodeAt(0):null;function l(e){if(!(this instanceof l))return new l(e);e&&this.decode(e)}function p(e){if(!(e||this instanceof l))throw new Error("encode must be called on a TarHeader, or supplied an object");var t=(e=e||this).block=new Buffer(512);e.prefix&&(e.path=e.prefix+"/"+e.path,e.prefix=""),e.needExtended=!1,e.mode&&("string"==typeof e.mode&&(e.mode=parseInt(e.mode,8)),e.mode=511&e.mode);for(var a=0;null!==r[a];a++){var d,s=r[a],p=c[a],h=i[a];switch(s){case"cksum":case"prefix":break;case"type":var y=e.type||"0";y.length>1&&((y=n.types[e.type])||(y="0")),v(t,p,h,y);break;case"path":var _=Buffer.byteLength(e.path),w=f[r.path],A=f[r.prefix];if(_>w&&_<=w+A){for(var x=_-1-w,k=A,E=!1,S=new Buffer(e.path),T=x;T<=k;T++)if(S[T]===b||S[T]===u){E=T;break}if(!1!==E){prefix=S.slice(0,E).toString("utf8"),path=S.slice(E+1).toString("utf8"),d=v(t,p,h,path),d=v(t,p=c[r.prefix],h=i[r.prefix],prefix)||d;break}}v(t,c[r.prefix],i[r.prefix],"");default:d=o[s]?m(t,p,h,e[s]):v(t,p,h,e[s]||"")}e.needExtended=e.needExtended||d}return m(t,p=c[r.cksum],h=i[r.cksum],g.call(this,t)),t}l.prototype={decode:y,encode:p,calcSum:g,checkSum:function(e){var t=g.call(this,e),a=(e=e||this.block).slice(c[r.cksum],i[r.cksum]);return(a=_(a))===t}},l.parseNumeric=_,l.encode=p,l.decode=y;var h={12:8589934591,11:1073741823,8:2097151,7:262143};function m(e,t,a,n){var r=a-t,c=h[r]||0;if(((n=n||0)instanceof Date||"[object Date]"===Object.prototype.toString.call(n))&&(n=n.getTime()/1e3),n>c||n<0)return function(e,t,a,n){var r=e.slice(t,a),c=n>=0;r[0]=c?128:255,c||(n*=-1);var i=[];do{var f=n%256;i.push(f),n=(n-f)/256}while(n);for(var o=i.length,d=r.length-o,s=1;s<d;s++)r[s]=c?0:255;var b=!0;for(s=o;s>0;s--){var u=i[o-s];c?r[d+s]=u:b&&0===u?r[d+s]=0:b?(b=!1,r[d+s]=256-u):r[d+s]=255-u}}(e,t,a,n),!0;var i=Math.floor(n).toString(8);if(n<h[r-1]&&(i+=" "),i.length<r&&(i=new Array(r-i.length).join("0")+i),i.length!==r-1)throw new Error("invalid length: "+JSON.stringify(i)+"\nexpected: "+r);e.write(i,t,r,"utf8"),e[a-1]=0}function v(e,t,a,n){var r=Buffer.byteLength(n),c=Math.min(r,a-t),i=r!==n.length||r>c;c>0&&e.write(n,t,c,"utf8");for(var f=t+c;f<a;f++)e[f]=0;return i}function g(e){if(e=e||this.block,d(Buffer.isBuffer(e)&&512===e.length),!e)throw new Error("Need block to checksum");for(var t=0,a=c[r.cksum],n=i[r.cksum],f=0;f<c[r.cksum];f++)t+=e[f];for(f=a;f<n;f++)t+=s;for(f=n;f<512;f++)t+=e[f];return t}function y(e){e=e||this.block,d(Buffer.isBuffer(e)&&512===e.length),this.block=e,this.cksumValid=this.checkSum();for(var t=null,a=0;null!==r[a];a++){var n=r[a],f=e.slice(c[a],i[a]);switch(n){case"ustar":if("ustar\0"!==f.toString())return void(this.ustar=!1);this.ustar=f.toString();break;case"prefix":var b=_(f.slice(131,143)),u=_(f.slice(143,155));0!==f[130]&&f[130]!==s||"number"!=typeof b||"number"!=typeof u||f[143]!==s||f[155]!==s||(this.atime=b,this.ctime=u,f=f.slice(0,130)),t=f.toString("utf8").replace(/\0+$/,"");break;default:o[n]?this[n]=_(f):this[n]=f.toString("utf8").replace(/\0+$/,"")}}t&&(this.path=t+"/"+this.path)}function _(e){if(128&e[0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var a=!1,n=[],r=e.length-1;r>0;r--){var c=e[r];t?n.push(c):a&&0===c?n.push(0):a?(a=!1,n.push(256-c)):n.push(255-c)}for(var i=0,f=(r=0,n.length);r<f;r++)i+=n[r]*Math.pow(256,r);return t?i:-1*i}(e);var t=e.toString("utf8").split("\0")[0].trim(),a=parseInt(t,8);return isNaN(a)?null:a}},function(e,t,a){"use strict";const n=a(780);e.exports={remove:function(e,t){const a={disableGlob:!0};return n(e,a,t||function(){})},removeSync:function(e){return n.sync(e,{disableGlob:!0})}}},function(e,t,a){"use strict";var n=a(64),r=a(63),c=a(33),i=function(){var e=this;n.packageInit(this,arguments),[new r({name:"getId",call:"net_version",params:0,outputFormatter:c.hexToNumber}),new r({name:"isListening",call:"net_listening",params:0}),new r({name:"getPeerCount",call:"net_peerCount",params:0,outputFormatter:c.hexToNumber})].forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager)})};n.addProviders(i),e.exports=i},function(e,t,a){"use strict";var n=a(878),r=function(e){this.name=e.name,this.type=e.type,this.subscriptions=e.subscriptions||{},this.requestManager=null};r.prototype.setRequestManager=function(e){this.requestManager=e},r.prototype.attachToObject=function(e){var t=this.buildCall();t.call=this.call;var a=this.name.split(".");a.length>1?(e[a[0]]=e[a[0]]||{},e[a[0]][a[1]]=t):e[a[0]]=t},r.prototype.buildCall=function(){var e=this;return function(){e.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var t=new n({subscription:e.subscriptions[arguments[0]],requestManager:e.requestManager,type:e.type});return t.subscribe.apply(t,arguments)}},e.exports={subscriptions:r,subscription:n}},function(e,t,a){"undefined"!=typeof process&&"renderer"===process.type?e.exports=a(937):e.exports=a(935)},function(e,t,a){"use strict";var n=a(955).version,r=a(64),c=a(876),i=a(130),f=a(341),o=a(798),d=a(797),s=a(33),b=function(){var e=this;r.packageInit(this,arguments),this.version=n,this.utils=s,this.eth=new c(this),this.shh=new o(this),this.bzz=new d(this);var t=this.setProvider;this.setProvider=function(a,n){return t.apply(e,arguments),this.eth.setProvider(a,n),this.shh.setProvider(a,n),this.bzz.setProvider(a),!0}};b.version=n,b.utils=s,b.modules={Eth:c,Net:i,Personal:f,Shh:o,Bzz:d},r.addProviders(b),e.exports=b},function(e,t,a){"use strict";const n=a(989),r=a(16);e.exports=class extends n{constructor(e){super(e);var t=this;Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(t),set:function(e){t._from=r.toBuffer(e)}}),e&&e.from&&(this.from=e.from)}}},function(e,t,a){"use strict";!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,a,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var r,c,i=arguments.length;switch(i){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,a)});case 4:return process.nextTick(function(){e.call(null,t,a,n)});default:for(r=new Array(i-1),c=0;c<r.length;)r[c++]=arguments[c];return process.nextTick(function(){e.apply(null,r)})}}}:e.exports=process},function(e,t,a){try{e.exports=a(!function(){var e=new Error('Cannot find module "sha3"');throw e.code="MODULE_NOT_FOUND",e}()).SHA3Hash}catch(t){e.exports=a(1064)}},function(e,t,a){var n=a(58).f,r=a(65),c=a(28)("toStringTag");e.exports=function(e,t,a){e&&!r(e=a?e:e.prototype,c)&&n(e,c,{configurable:!0,value:t})}},function(e,t){var a=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++a+n).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=!0},function(e,t,a){"use strict";var n=t;n.base=a(1194),n.short=a(1193),n.mont=a(1192),n.edwards=a(1191)},function(e,t,a){var n=a(1),r=a(82),c=a(4).EventEmitter,i=a(221),f=a(458),o=a(457).Validation;const d="open";var s="setImmediate"in global?global.setImmediate.bind(global):process.nextTick.bind(process),b=0;function u(e,t,a,n,o){if(this._debug=r.BufferingLogger("websocket:connection",++b),this._debug("constructor"),this._debug.enabled&&function(e,t){if(!e._debug.enabled)return;var a=t.emit;for(var n in t.emit=function(t){e._debug("||| Socket Event  '%s'",t),a.apply(this,arguments)},t)"function"==typeof t[n]&&-1===["emit"].indexOf(n)&&function(a){var n=t[a];t[a]="on"!==a?function(){return e._debug("||| Socket method called:  %s",a),n.apply(this,arguments)}:function(){return e._debug("||| Socket method called:  %s (%s)",a,arguments[0]),n.apply(this,arguments)}}(n)}(this,e),c.call(this),this._pingListenerCount=0,this.on("newListener",function(e){"ping"===e&&this._pingListenerCount++}).on("removeListener",function(e){"ping"===e&&this._pingListenerCount--}),this.config=o,this.socket=e,this.protocol=a,this.extensions=t,this.remoteAddress=e.remoteAddress,this.closeReasonCode=-1,this.closeDescription=null,this.closeEventEmitted=!1,this.maskOutgoingPackets=n,this.maskBytes=new Buffer(4),this.frameHeader=new Buffer(10),this.bufferList=new f,this.currentFrame=new i(this.maskBytes,this.frameHeader,this.config),this.fragmentationSize=0,this.frameQueue=[],this.connected=!0,this.state=d,this.waitingForCloseResponse=!1,this.receivedEnd=!1,this.closeTimeout=this.config.closeTimeout,this.assembleFragments=this.config.assembleFragments,this.maxReceivedMessageSize=this.config.maxReceivedMessageSize,this.outputBufferFull=!1,this.inputPaused=!1,this.receivedDataHandler=this.processReceivedData.bind(this),this._closeTimerHandler=this.handleCloseTimer.bind(this),this.socket.setNoDelay(this.config.disableNagleAlgorithm),this.socket.setTimeout(0),this.config.keepalive&&!this.config.useNativeKeepalive){if("number"!=typeof this.config.keepaliveInterval)throw new Error("keepaliveInterval must be specified and numeric if keepalive is true.");if(this._keepaliveTimerHandler=this.handleKeepaliveTimer.bind(this),this.setKeepaliveTimer(),this.config.dropConnectionOnKeepaliveTimeout){if("number"!=typeof this.config.keepaliveGracePeriod)throw new Error("keepaliveGracePeriod  must be specified and numeric if dropConnectionOnKeepaliveTimeout is true.");this._gracePeriodTimerHandler=this.handleGracePeriodTimer.bind(this)}}else if(this.config.keepalive&&this.config.useNativeKeepalive){if(!("setKeepAlive"in this.socket))throw new Error("Unable to use native keepalive: unsupported by this version of Node.");this.socket.setKeepAlive(!0,this.config.keepaliveInterval)}this.socket.removeAllListeners("error")}function l(e){return!(e<1e3)&&(e>=1e3&&e<=2999?-1!==[1e3,1001,1002,1003,1007,1008,1009,1010,1011,1012,1013,1014].indexOf(e):e>=3e3&&e<=3999||(e>=4e3&&e<=4999||!(e>=5e3)&&void 0))}u.CLOSE_REASON_NORMAL=1e3,u.CLOSE_REASON_GOING_AWAY=1001,u.CLOSE_REASON_PROTOCOL_ERROR=1002,u.CLOSE_REASON_UNPROCESSABLE_INPUT=1003,u.CLOSE_REASON_RESERVED=1004,u.CLOSE_REASON_NOT_PROVIDED=1005,u.CLOSE_REASON_ABNORMAL=1006,u.CLOSE_REASON_INVALID_DATA=1007,u.CLOSE_REASON_POLICY_VIOLATION=1008,u.CLOSE_REASON_MESSAGE_TOO_BIG=1009,u.CLOSE_REASON_EXTENSION_REQUIRED=1010,u.CLOSE_REASON_INTERNAL_SERVER_ERROR=1011,u.CLOSE_REASON_TLS_HANDSHAKE_FAILED=1015,u.CLOSE_DESCRIPTIONS={1000:"Normal connection closure",1001:"Remote peer is going away",1002:"Protocol error",1003:"Unprocessable input",1004:"Reserved",1005:"Reason not provided",1006:"Abnormal closure, no further detail available",1007:"Invalid data received",1008:"Policy violation",1009:"Message too big",1010:"Extension requested by client is required",1011:"Internal Server Error",1015:"TLS Handshake Failed"},n.inherits(u,c),u.prototype._addSocketEventListeners=function(){this.socket.on("error",this.handleSocketError.bind(this)),this.socket.on("end",this.handleSocketEnd.bind(this)),this.socket.on("close",this.handleSocketClose.bind(this)),this.socket.on("drain",this.handleSocketDrain.bind(this)),this.socket.on("pause",this.handleSocketPause.bind(this)),this.socket.on("resume",this.handleSocketResume.bind(this)),this.socket.on("data",this.handleSocketData.bind(this))},u.prototype.setKeepaliveTimer=function(){this._debug("setKeepaliveTimer"),this.config.keepalive&&!this.config.useNativeKeepalive&&(this.clearKeepaliveTimer(),this.clearGracePeriodTimer(),this._keepaliveTimeoutID=setTimeout(this._keepaliveTimerHandler,this.config.keepaliveInterval))},u.prototype.clearKeepaliveTimer=function(){this._keepaliveTimeoutID&&clearTimeout(this._keepaliveTimeoutID)},u.prototype.handleKeepaliveTimer=function(){this._debug("handleKeepaliveTimer"),this._keepaliveTimeoutID=null,this.ping(),this.config.dropConnectionOnKeepaliveTimeout?this.setGracePeriodTimer():this.setKeepaliveTimer()},u.prototype.setGracePeriodTimer=function(){this._debug("setGracePeriodTimer"),this.clearGracePeriodTimer(),this._gracePeriodTimeoutID=setTimeout(this._gracePeriodTimerHandler,this.config.keepaliveGracePeriod)},u.prototype.clearGracePeriodTimer=function(){this._gracePeriodTimeoutID&&clearTimeout(this._gracePeriodTimeoutID)},u.prototype.handleGracePeriodTimer=function(){this._debug("handleGracePeriodTimer"),this._gracePeriodTimeoutID=null,this.drop(u.CLOSE_REASON_ABNORMAL,"Peer not responding.",!0)},u.prototype.handleSocketData=function(e){this._debug("handleSocketData"),this.setKeepaliveTimer(),this.bufferList.write(e),this.processReceivedData()},u.prototype.processReceivedData=function(){if(this._debug("processReceivedData"),this.connected&&!this.inputPaused){var e=this.currentFrame;if(e.addData(this.bufferList)){var t=this;if(e.protocolError)return this._debug("-- protocol error"),void process.nextTick(function(){t.drop(u.CLOSE_REASON_PROTOCOL_ERROR,e.dropReason)});if(e.frameTooLarge)return this._debug("-- frame too large"),void process.nextTick(function(){t.drop(u.CLOSE_REASON_MESSAGE_TOO_BIG,e.dropReason)});if(e.rsv1||e.rsv2||e.rsv3)return this._debug("-- illegal rsv flag"),void process.nextTick(function(){t.drop(u.CLOSE_REASON_PROTOCOL_ERROR,"Unsupported usage of rsv bits without negotiated extension.")});this.assembleFragments||(this._debug("-- emitting frame"),process.nextTick(function(){t.emit("frame",e)})),process.nextTick(function(){t.processFrame(e)}),this.currentFrame=new i(this.maskBytes,this.frameHeader,this.config),this.bufferList.length>0&&s(this.receivedDataHandler)}else this._debug("-- insufficient data for frame")}},u.prototype.handleSocketError=function(e){this._debug("handleSocketError: %j",e),"closed"!==this.state?(this.closeReasonCode=u.CLOSE_REASON_ABNORMAL,this.closeDescription="Socket Error: "+e.syscall+" "+e.code,this.connected=!1,this.state="closed",this.fragmentationSize=0,r.eventEmitterListenerCount(this,"error")>0&&this.emit("error",e),this.socket.destroy(e),this._debug.printOutput()):this._debug("  --- Socket 'error' after 'close'")},u.prototype.handleSocketEnd=function(){this._debug("handleSocketEnd: received socket end.  state = %s",this.state),this.receivedEnd=!0,"closed"!==this.state?"peer_requested_close"!==this.state&&"ending"!==this.state&&(this._debug("  --- UNEXPECTED socket end."),this.socket.end()):this._debug("  --- Socket 'end' after 'close'")},u.prototype.handleSocketClose=function(e){this._debug("handleSocketClose: received socket close"),this.socketHadError=e,this.connected=!1,this.state="closed",-1===this.closeReasonCode&&(this.closeReasonCode=u.CLOSE_REASON_ABNORMAL,this.closeDescription="Connection dropped by remote peer."),this.clearCloseTimer(),this.clearKeepaliveTimer(),this.clearGracePeriodTimer(),this.closeEventEmitted||(this.closeEventEmitted=!0,this._debug("-- Emitting WebSocketConnection close event"),this.emit("close",this.closeReasonCode,this.closeDescription))},u.prototype.handleSocketDrain=function(){this._debug("handleSocketDrain: socket drain event"),this.outputBufferFull=!1,this.emit("drain")},u.prototype.handleSocketPause=function(){this._debug("handleSocketPause: socket pause event"),this.inputPaused=!0,this.emit("pause")},u.prototype.handleSocketResume=function(){this._debug("handleSocketResume: socket resume event"),this.inputPaused=!1,this.emit("resume"),this.processReceivedData()},u.prototype.pause=function(){this._debug("pause: pause requested"),this.socket.pause()},u.prototype.resume=function(){this._debug("resume: resume requested"),this.socket.resume()},u.prototype.close=function(e,t){if(this.connected){if(this._debug("close: Initating clean WebSocket close sequence."),"number"!=typeof e&&(e=u.CLOSE_REASON_NORMAL),!l(e))throw new Error("Close code "+e+" is not valid.");"string"!=typeof t&&(t=u.CLOSE_DESCRIPTIONS[e]),this.closeReasonCode=e,this.closeDescription=t,this.setCloseTimer(),this.sendCloseFrame(this.closeReasonCode,this.closeDescription),this.state="ending",this.connected=!1}},u.prototype.drop=function(e,t,a){this._debug("drop"),"number"!=typeof e&&(e=u.CLOSE_REASON_PROTOCOL_ERROR),"string"!=typeof t&&(t=u.CLOSE_DESCRIPTIONS[e]),this._debug("Forcefully dropping connection. skipCloseFrame: %s, code: %d, description: %s",a,e,t),this.closeReasonCode=e,this.closeDescription=t,this.frameQueue=[],this.fragmentationSize=0,a||this.sendCloseFrame(e,t),this.connected=!1,this.state="closed",this.clearCloseTimer(),this.clearKeepaliveTimer(),this.clearGracePeriodTimer(),this.closeEventEmitted||(this.closeEventEmitted=!0,this._debug("Emitting WebSocketConnection close event"),this.emit("close",this.closeReasonCode,this.closeDescription)),this._debug("Drop: destroying socket"),this.socket.destroy()},u.prototype.setCloseTimer=function(){this._debug("setCloseTimer"),this.clearCloseTimer(),this._debug("Setting close timer"),this.waitingForCloseResponse=!0,this.closeTimer=setTimeout(this._closeTimerHandler,this.closeTimeout)},u.prototype.clearCloseTimer=function(){this._debug("clearCloseTimer"),this.closeTimer&&(this._debug("Clearing close timer"),clearTimeout(this.closeTimer),this.waitingForCloseResponse=!1,this.closeTimer=null)},u.prototype.handleCloseTimer=function(){this._debug("handleCloseTimer"),this.closeTimer=null,this.waitingForCloseResponse&&(this._debug("Close response not received from client.  Forcing socket end."),this.waitingForCloseResponse=!1,this.state="closed",this.socket.end())},u.prototype.processFrame=function(e){if(this._debug("processFrame"),this._debug(" -- frame: %s",e),0!==this.frameQueue.length&&e.opcode>0&&e.opcode<8)this.drop(u.CLOSE_REASON_PROTOCOL_ERROR,"Illegal frame opcode 0x"+e.opcode.toString(16)+" received in middle of fragmented message.");else switch(e.opcode){case 2:this._debug("-- Binary Frame"),this.assembleFragments&&(e.fin?(this._debug("---- Emitting 'message' event"),this.emit("message",{type:"binary",binaryData:e.binaryPayload})):(this.frameQueue.push(e),this.fragmentationSize=e.length));break;case 1:if(this._debug("-- Text Frame"),this.assembleFragments)if(e.fin){if(!o.isValidUTF8(e.binaryPayload))return void this.drop(u.CLOSE_REASON_INVALID_DATA,"Invalid UTF-8 Data Received");this._debug("---- Emitting 'message' event"),this.emit("message",{type:"utf8",utf8Data:e.binaryPayload.toString("utf8")})}else this.frameQueue.push(e),this.fragmentationSize=e.length;break;case 0:if(this._debug("-- Continuation Frame"),this.assembleFragments){if(0===this.frameQueue.length)return void this.drop(u.CLOSE_REASON_PROTOCOL_ERROR,"Unexpected Continuation Frame");if(this.fragmentationSize+=e.length,this.fragmentationSize>this.maxReceivedMessageSize)return void this.drop(u.CLOSE_REASON_MESSAGE_TOO_BIG,"Maximum message size exceeded.");if(this.frameQueue.push(e),e.fin){var t=0,a=new Buffer(this.fragmentationSize),n=this.frameQueue[0].opcode;switch(this.frameQueue.forEach(function(e){e.binaryPayload.copy(a,t),t+=e.binaryPayload.length}),this.frameQueue=[],this.fragmentationSize=0,n){case 2:this.emit("message",{type:"binary",binaryData:a});break;case 1:if(!o.isValidUTF8(a))return void this.drop(u.CLOSE_REASON_INVALID_DATA,"Invalid UTF-8 Data Received");this.emit("message",{type:"utf8",utf8Data:a.toString("utf8")});break;default:return void this.drop(u.CLOSE_REASON_PROTOCOL_ERROR,"Unexpected first opcode in fragmentation sequence: 0x"+n.toString(16))}}}break;case 9:if(this._debug("-- Ping Frame"),this._pingListenerCount>0){var r=!1;this.emit("ping",function(){r=!0},e.binaryPayload),r||this.pong(e.binaryPayload)}else this.pong(e.binaryPayload);break;case 10:this._debug("-- Pong Frame"),this.emit("pong",e.binaryPayload);break;case 8:if(this._debug("-- Close Frame"),this.waitingForCloseResponse)return this._debug("---- Got close response from peer.  Completing closing handshake."),this.clearCloseTimer(),this.waitingForCloseResponse=!1,this.state="closed",void this.socket.end();var c;if(this._debug("---- Closing handshake initiated by peer."),this.state="peer_requested_close",e.invalidCloseFrameLength?(this.closeReasonCode=1005,c=u.CLOSE_REASON_PROTOCOL_ERROR):-1===e.closeStatus||l(e.closeStatus)?(this.closeReasonCode=e.closeStatus,c=u.CLOSE_REASON_NORMAL):(this.closeReasonCode=e.closeStatus,c=u.CLOSE_REASON_PROTOCOL_ERROR),e.binaryPayload.length>1){if(!o.isValidUTF8(e.binaryPayload))return void this.drop(u.CLOSE_REASON_INVALID_DATA,"Invalid UTF-8 Data Received");this.closeDescription=e.binaryPayload.toString("utf8")}else this.closeDescription=u.CLOSE_DESCRIPTIONS[this.closeReasonCode];this._debug("------ Remote peer %s - code: %d - %s - close frame payload length: %d",this.remoteAddress,this.closeReasonCode,this.closeDescription,e.length),this._debug("------ responding to remote peer's close request."),this.sendCloseFrame(c,null),this.connected=!1;break;default:this._debug("-- Unrecognized Opcode %d",e.opcode),this.drop(u.CLOSE_REASON_PROTOCOL_ERROR,"Unrecognized Opcode: 0x"+e.opcode.toString(16))}},u.prototype.send=function(e,t){if(this._debug("send"),Buffer.isBuffer(e))this.sendBytes(e,t);else{if("function"!=typeof e.toString)throw new Error("Data provided must either be a Node Buffer or implement toString()");this.sendUTF(e,t)}},u.prototype.sendUTF=function(e,t){e=new Buffer(e.toString(),"utf8"),this._debug("sendUTF: %d bytes",e.length);var a=new i(this.maskBytes,this.frameHeader,this.config);a.opcode=1,a.binaryPayload=e,this.fragmentAndSend(a,t)},u.prototype.sendBytes=function(e,t){if(this._debug("sendBytes"),!Buffer.isBuffer(e))throw new Error("You must pass a Node Buffer object to WebSocketConnection.prototype.sendBytes()");var a=new i(this.maskBytes,this.frameHeader,this.config);a.opcode=2,a.binaryPayload=e,this.fragmentAndSend(a,t)},u.prototype.ping=function(e){this._debug("ping");var t=new i(this.maskBytes,this.frameHeader,this.config);t.opcode=9,t.fin=!0,e&&(Buffer.isBuffer(e)||(e=new Buffer(e.toString(),"utf8")),e.length>125&&(this._debug("WebSocket: Data for ping is longer than 125 bytes.  Truncating."),e=e.slice(0,124)),t.binaryPayload=e),this.sendFrame(t)},u.prototype.pong=function(e){this._debug("pong");var t=new i(this.maskBytes,this.frameHeader,this.config);t.opcode=10,Buffer.isBuffer(e)&&e.length>125&&(this._debug("WebSocket: Data for pong is longer than 125 bytes.  Truncating."),e=e.slice(0,124)),t.binaryPayload=e,t.fin=!0,this.sendFrame(t)},u.prototype.fragmentAndSend=function(e,t){if(this._debug("fragmentAndSend"),e.opcode>7)throw new Error("You cannot fragment control frames.");var a=this.config.fragmentationThreshold,n=e.binaryPayload.length;if(!this.config.fragmentOutgoingMessages||e.binaryPayload&&n<=a)return e.fin=!0,void this.sendFrame(e,t);for(var r=Math.ceil(n/a),c=0,f=function(e){e?"function"==typeof t&&(t(e),t=null):++c===r&&"function"==typeof t&&t()},o=1;o<=r;o++){var d=new i(this.maskBytes,this.frameHeader,this.config);d.opcode=1===o?e.opcode:0,d.fin=o===r;var s=o===r?n-a*(o-1):a,b=a*(o-1);d.binaryPayload=e.binaryPayload.slice(b,b+s),this.sendFrame(d,f)}},u.prototype.sendCloseFrame=function(e,t,a){if("number"!=typeof e&&(e=u.CLOSE_REASON_NORMAL),this._debug("sendCloseFrame state: %s, reasonCode: %d, description: %s",this.state,e,t),this.state===d||"peer_requested_close"===this.state){var n=new i(this.maskBytes,this.frameHeader,this.config);n.fin=!0,n.opcode=8,n.closeStatus=e,"string"==typeof t&&(n.binaryPayload=new Buffer(t,"utf8")),this.sendFrame(n,a),this.socket.end()}},u.prototype.sendFrame=function(e,t){this._debug("sendFrame"),e.mask=this.maskOutgoingPackets;var a=this.socket.write(e.toBuffer(),t);return this.outputBufferFull=!a,a},e.exports=u},function(e,t,a){e.exports=f;var n=Object.keys||function(e){var t=[];for(var a in e)t.push(a);return t},r=a(18);r.inherits=a(0);var c=a(236),i=a(234);function f(e){if(!(this instanceof f))return new f(e);c.call(this,e),i.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",o)}function o(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}r.inherits(f,c),function(e,t){for(var a=0,n=e.length;a<n;a++)t(e[a],a)}(n(i.prototype),function(e){f.prototype[e]||(f.prototype[e]=i.prototype[e])})},function(e,t,a){var n=a(388).create,r=n("LevelUPError"),c=n("NotFoundError",r);c.prototype.notFound=!0,c.prototype.status=404,e.exports={LevelUPError:r,InitializationError:n("InitializationError",r),OpenError:n("OpenError",r),ReadError:n("ReadError",r),WriteError:n("WriteError",r),NotFoundError:c,EncodingError:n("EncodingError",r)}},function(e,t,a){"use strict";var n=a(500),r=a(498),c=a(496),i=a(495),f=a(44),o=a(494);e.exports=function(e,t){return"function"==typeof e.sublevel&&"function"==typeof e.clone?e.clone(t):function(e,t){return t=f(e.options,t),r(n(e,c,i),[],o,t)}(e,t)}},function(e,t,a){"use strict";var n={UNKNOWN:{errno:-1,message:"unknown error"},OK:{errno:0,message:"success"},EOF:{errno:1,message:"end of file"},EADDRINFO:{errno:2,message:"getaddrinfo error"},EACCES:{errno:3,message:"permission denied"},EAGAIN:{errno:4,message:"resource temporarily unavailable"},EADDRINUSE:{errno:5,message:"address already in use"},EADDRNOTAVAIL:{errno:6,message:"address not available"},EAFNOSUPPORT:{errno:7,message:"address family not supported"},EALREADY:{errno:8,message:"connection already in progress"},EBADF:{errno:9,message:"bad file descriptor"},EBUSY:{errno:10,message:"resource busy or locked"},ECONNABORTED:{errno:11,message:"software caused connection abort"},ECONNREFUSED:{errno:12,message:"connection refused"},ECONNRESET:{errno:13,message:"connection reset by peer"},EDESTADDRREQ:{errno:14,message:"destination address required"},EFAULT:{errno:15,message:"bad address in system call argument"},EHOSTUNREACH:{errno:16,message:"host is unreachable"},EINTR:{errno:17,message:"interrupted system call"},EINVAL:{errno:18,message:"invalid argument"},EISCONN:{errno:19,message:"socket is already connected"},EMFILE:{errno:20,message:"too many open files"},EMSGSIZE:{errno:21,message:"message too long"},ENETDOWN:{errno:22,message:"network is down"},ENETUNREACH:{errno:23,message:"network is unreachable"},ENFILE:{errno:24,message:"file table overflow"},ENOBUFS:{errno:25,message:"no buffer space available"},ENOMEM:{errno:26,message:"not enough memory"},ENOTDIR:{errno:27,message:"not a directory"},EISDIR:{errno:28,message:"illegal operation on a directory"},ENONET:{errno:29,message:"machine is not on the network"},ENOTCONN:{errno:31,message:"socket is not connected"},ENOTSOCK:{errno:32,message:"socket operation on non-socket"},ENOTSUP:{errno:33,message:"operation not supported on socket"},ENOENT:{errno:34,message:"no such file or directory"},ENOSYS:{errno:35,message:"function not implemented"},EPIPE:{errno:36,message:"broken pipe"},EPROTO:{errno:37,message:"protocol error"},EPROTONOSUPPORT:{errno:38,message:"protocol not supported"},EPROTOTYPE:{errno:39,message:"protocol wrong type for socket"},ETIMEDOUT:{errno:40,message:"connection timed out"},ECHARSET:{errno:41,message:"invalid Unicode character"},EAIFAMNOSUPPORT:{errno:42,message:"address family for hostname not supported"},EAISERVICE:{errno:44,message:"servname not supported for ai_socktype"},EAISOCKTYPE:{errno:45,message:"ai_socktype not supported"},ESHUTDOWN:{errno:46,message:"cannot send after transport endpoint shutdown"},EEXIST:{errno:47,message:"file already exists"},ESRCH:{errno:48,message:"no such process"},ENAMETOOLONG:{errno:49,message:"name too long"},EPERM:{errno:50,message:"operation not permitted"},ELOOP:{errno:51,message:"too many symbolic links encountered"},EXDEV:{errno:52,message:"cross-device link not permitted"},ENOTEMPTY:{errno:53,message:"directory not empty"},ENOSPC:{errno:54,message:"no space left on device"},EIO:{errno:55,message:"i/o error"},EROFS:{errno:56,message:"read-only file system"},ENODEV:{errno:57,message:"no such device"},ESPIPE:{errno:58,message:"invalid seek"},ECANCELED:{errno:59,message:"peration canceled"}};function r(e,t){if(!n.hasOwnProperty(e))throw new Error("Programmer error, invalid error code: "+e);Error.call(this);var a=n[e],c=e+", "+a.message;t&&(c+=" '"+t+"'"),this.message=c,this.code=e,this.errno=a.errno,Error.captureStackTrace(this,r)}r.prototype=new Error,e.exports=r},function(e,t,a){"use strict";var n=0,r=256,c=128,i=64,f=32,o=16,d=8,s=4,b=2,u=1;function l(){return process.getuid&&process.getuid()}function p(){return process.getgid&&process.getgid()}function h(){var e=Date.now();this._atime=new Date(e),this._ctime=new Date(e),this._birthtime=new Date(e),this._mtime=new Date(e),this._mode=438,this._uid=l(),this._gid=p(),this._id=++n,this.links=0}h.prototype.canRead=function(){var e=l(),t=p();return 0===e||(e===this._uid?(r&this._mode)===r:t===this._gid?(f&this._mode)===f:(s&this._mode)===s)},h.prototype.canWrite=function(){var e=l(),t=p();return 0===e||(e===this._uid?(c&this._mode)===c:t===this._gid?(o&this._mode)===o:(b&this._mode)===b)},h.prototype.canExecute=function(){var e=l(),t=p();return 0===e||(e===this._uid?(i&this._mode)===i:t===this._gid?(d&this._mode)===d:(u&this._mode)===u)},h.prototype.getATime=function(){return this._atime},h.prototype.setATime=function(e){this._atime=e},h.prototype.getCTime=function(){return this._ctime},h.prototype.setCTime=function(e){this._ctime=e},h.prototype.getBirthtime=function(){return this._birthtime},h.prototype.setBirthtime=function(e){this._birthtime=e},h.prototype.getMTime=function(){return this._mtime},h.prototype.setMTime=function(e){this._mtime=e},h.prototype.getMode=function(){return this._mode},h.prototype.setMode=function(e){this.setCTime(new Date),this._mode=e},h.prototype.getUid=function(){return this._uid},h.prototype.setUid=function(e){this.setCTime(new Date),this._uid=e},h.prototype.getGid=function(){return this._gid},h.prototype.setGid=function(e){this.setCTime(new Date),this._gid=e},h.prototype.getStats=function(){return{dev:8675309,nlink:this.links,uid:this.getUid(),gid:this.getGid(),rdev:0,blksize:4096,ino:this._id,atime:this.getATime(),mtime:this.getMTime(),ctime:this.getCTime(),birthtime:this.getBirthtime()}},h.prototype.toString=function(){return"["+this.constructor.name+"]"},e.exports=h},function(e,t,a){var n=a(3),r=/([a-z\xE0-\xFF])([A-Z\xC0\xDF])/g;e.exports=function(e,t){return null==t&&(t=" "),e=(e=(e=n(e)).replace(r,function(e,a,n){return a+t+n})).toLowerCase()}},function(e,t,a){var n=a(3),r=a(153),c=a(152),i=a(151);e.exports=function(e,t){return e=n(e),null==t&&(t="-"),e=r(e),e=c(e),e=i(e).replace(/ +/g,t).toLowerCase()}},function(e,t,a){var n=a(3),r=a(113),c=a(249),i=a(248);e.exports=function(e,t){return e=n(e),c(i(e,t=t||r),t)}},function(e,t,a){var n=a(3),r=/[^\x20\x2D0-9A-Z\x5Fa-z\xC0-\xD6\xD8-\xF6\xF8-\xFF]/g;e.exports=function(e){return(e=n(e)).replace(r,"")}},function(e,t,a){var n=a(3);e.exports=function(e){return(e=n(e)).search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}},function(e,t,a){var n=a(171);e.exports=function(){return n()>=.5}},function(e,t,a){var n=a(88),r=a(36);e.exports=function(e){var t=1===arguments.length&&r(e)?e:arguments;return t[n(0,t.length-1)]}},function(e,t){var a;e.exports=function(e){return null===e||"null"===e?null:"true"===e||"false"!==e&&(e===a||"undefined"===e?a:""===e||isNaN(e)?e:parseFloat(e))}},function(e,t,a){a(265);e.exports=function(e,t){for(var a=t.split("."),n=a.pop();t=a.shift();)if(null==(e=e[t]))return;return e[n]}},function(e,t,a){var n=a(92),r=a(159);e.exports=function(e){var t,a=[],c=n(e);if(null!=e)if(null==e.length||"String"===c||"Function"===c||"RegExp"===c||e===r)a[a.length]=e;else for(t=e.length;t--;)a[t]=e[t];return a}},function(e,t){e.exports=Function("return this")()},function(e,t){function a(){return a.get()}a.get="function"==typeof Date.now?Date.now:function(){return+new Date},e.exports=a},function(e,t,a){var n=a(115);e.exports=function(e){var t=e.getTimezoneOffset(),a=Math.abs(t),r=n(Math.floor(a/60),2),c=n(a%60,2);return(t>0?"-":"+")+r+c}},function(e,t){e.exports=function(e){return~~e}},function(e,t,a){var n=a(3),r=a(162);e.exports=function(e,t){var a="";if(e=n(e),(t=r(t))<1)return"";for(;t>0;)t%2&&(a+=e),t=Math.floor(t/2),e+=e;return a}},function(e,t,a){var n=a(3),r=a(163);e.exports=function(e,t,a){return e=n(e),a=a||" ",e.length<t?r(a,t-e.length)+e:e}},function(e,t,a){var n=a(92),r=a(68),c=a(116);e.exports=function(e){switch(n(e)){case"Object":return r(i=e)?c({},i):i;case"Array":return e.slice();case"RegExp":return a="",a+=(t=e).multiline?"m":"",a+=t.global?"g":"",a+=t.ignoreCase?"i":"",new RegExp(t.source,a);case"Date":return new Date(+e);default:return e}var t,a,i}},function(e,t,a){var n=a(117);e.exports=function(e){return n(e)&&(e=e.getFullYear()),e%400==0||e%100!=0&&e%4==0}},function(e,t,a){a(117);e.exports=function(e){return(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-Date.UTC(e.getFullYear(),0,1))/864e5+1}},function(e,t,a){var n=a(17);e.exports=function(e){var t=0;return n(e,function(){t++}),t}},function(e,t,a){var n=a(17),r=a(15);e.exports=function(e,t,a){t=r(t,a);var c=!0;return n(e,function(a,n){if(!t(a,n,e))return c=!1,!1}),c}},function(e,t,a){var n=a(39);e.exports=function(e){return n(e,"Function")}},function(e,t){function a(){return a.get()}a.get=Math.random,e.exports=a},function(e,t){e.exports=-2147483648},function(e,t,a){var n=a(15);e.exports=function(e,t,a){if(null!=e&&e.length){if(e.length&&!t)return Math.min.apply(Math,e);t=n(t,a);for(var r,c,i,f=1/0,o=-1,d=e.length;++o<d;)(i=t(c=e[o],o,e))<f&&(f=i,r=c);return r}return-1/0}},function(e,t,a){var n=a(294);e.exports=function(e,t,a){var r=n(e,t,a);return r>=0?e[r]:void 0}},function(e,t,a){var n,r,c=a(70);function i(e,t,a,n){return e.call(n,t[a],a,t)}e.exports=function(e,t,a){var f,o=0;for(f in null==n&&function(){for(var e in r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=!0,{toString:null})n=!1}(),e)if(!1===i(t,e,f,a))break;if(n)for(var d=e.constructor,s=!!d&&e===d.prototype;(f=r[o++])&&("constructor"===f&&(s||!c(e,f))||e[f]===Object.prototype[f]||!1!==i(t,e,f,a)););}},function(e,t){e.exports=function(e){return function(t){return t[e]}}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function e(t){if(t._collected)return;if(t._paused)return t.on("resume",e.bind(null,t));t._collected=!0;t.pause();t.on("data",n);t.on("end",n);var a=[];function n(e){"string"==typeof e&&(e=new Buffer(e)),Buffer.isBuffer(e)&&!e.length||a.push(e)}t.on("entry",c);var r=[];function c(t){e(t),r.push(t)}t.on("proxy",function(e){e.pause()});t.pipe=(i=t.pipe,function(e){var f=0;return function o(){var d=r[f++];if(!d)return t.removeListener("entry",c),t.removeListener("data",n),t.removeListener("end",n),t.pipe=i,e&&t.pipe(e),a.forEach(function(e){e?t.emit("data",e):t.emit("end")}),void t.resume();d.on("end",o),e?e.add(d):t.emit("entry",d)}(),e});var i}},function(e,t,a){e.exports=r;var n=a(5).Stream;function r(){n.call(this)}function c(e,t,a){return e instanceof Error||(e=new Error(e)),e.code=e.code||t,e.path=e.path||a.path,e.fstream_type=e.fstream_type||a.type,e.fstream_path=e.fstream_path||a.path,a._path!==a.path&&(e.fstream_unc_path=e.fstream_unc_path||a._path),a.linkpath&&(e.fstream_linkpath=e.fstream_linkpath||a.linkpath),e.fstream_class=e.fstream_class||a.constructor.name,e.fstream_stack=e.fstream_stack||(new Error).stack.split(/\n/).slice(3).map(function(e){return e.replace(/^ {4}at /,"")}),e}a(0)(r,n),r.prototype.on=function(e,t){return"ready"===e&&this.ready?process.nextTick(t.bind(this)):n.prototype.on.call(this,e,t),this},r.prototype.abort=function(){this._aborted=!0,this.emit("abort")},r.prototype.destroy=function(){},r.prototype.warn=function(e,t){var a=c(e,t,this);this.listeners("warn")?this.emit("warn",a):console.error("%s %s\npath = %s\nsyscall = %s\nfstream_type = %s\nfstream_path = %s\nfstream_unc_path = %s\nfstream_class = %s\nfstream_stack =\n%s\n",t||"UNKNOWN",a.stack,a.path,a.syscall,a.fstream_type,a.fstream_path,a.fstream_unc_path,a.fstream_class,a.fstream_stack.join("\n"))},r.prototype.info=function(e,t){this.emit("info",e,t)},r.prototype.error=function(e,t,a){var n=c(e,t,this);if(a)throw n;this.emit("error",n)}},function(e,t,a){var n=a(2),r=a(22),c=parseInt("0777",8);function i(e,t,a,f){"function"==typeof t?(a=t,t={}):t&&"object"==typeof t||(t={mode:t});var o=t.mode,d=t.fs||r;void 0===o&&(o=c&~process.umask()),f||(f=null);var s=a||function(){};e=n.resolve(e),d.mkdir(e,o,function(a){if(!a)return s(null,f=f||e);switch(a.code){case"ENOENT":i(n.dirname(e),t,function(a,n){a?s(a,n):i(e,t,s,n)});break;default:d.stat(e,function(e,t){e||!t.isDirectory()?s(a,f):s(null,f)})}})}e.exports=i.mkdirp=i.mkdirP=i,i.sync=function e(t,a,i){a&&"object"==typeof a||(a={mode:a});var f=a.mode,o=a.fs||r;void 0===f&&(f=c&~process.umask()),i||(i=null),t=n.resolve(t);try{o.mkdirSync(t,f),i=i||t}catch(r){switch(r.code){case"ENOENT":e(t,a,i=e(n.dirname(t),a,i));break;default:var d;try{d=o.statSync(t)}catch(e){throw r}if(!d.isDirectory())throw r}}return i}},function(e,t,a){"use strict";const n=a(778);e.exports={readJson:n.readFile,readJSON:n.readFile,readJsonSync:n.readFileSync,readJSONSync:n.readFileSync,writeJson:n.writeFile,writeJSON:n.writeFile,writeJsonSync:n.writeFileSync,writeJSONSync:n.writeFileSync,spaces:2}},function(e,t,a){"use strict";const n=a(7),r=a(2),c=a(319).invalidWin32Path,i=parseInt("0777",8);e.exports=function e(t,a,f){a&&"object"==typeof a||(a={mode:a});let o=a.mode;const d=a.fs||n;if("win32"===process.platform&&c(t)){const e=new Error(t+" contains invalid WIN32 path characters.");throw e.code="EINVAL",e}void 0===o&&(o=i&~process.umask()),f||(f=null),t=r.resolve(t);try{d.mkdirSync(t,o),f=f||t}catch(n){switch(n.code){case"ENOENT":if(r.dirname(t)===t)throw n;e(t,a,f=e(r.dirname(t),a,f));break;default:let c;try{c=d.statSync(t)}catch(e){throw n}if(!c.isDirectory())throw n}}return f}},function(e,t,a){"use strict";const n=a(7),r=a(2),c=a(319).invalidWin32Path,i=parseInt("0777",8);e.exports=function e(t,a,f,o){if("function"==typeof a?(f=a,a={}):a&&"object"==typeof a||(a={mode:a}),"win32"===process.platform&&c(t)){const e=new Error(t+" contains invalid WIN32 path characters.");return e.code="EINVAL",f(e)}let d=a.mode;const s=a.fs||n;void 0===d&&(d=i&~process.umask()),o||(o=null),f=f||function(){},t=r.resolve(t),s.mkdir(t,d,n=>{if(!n)return f(null,o=o||t);switch(n.code){case"ENOENT":if(r.dirname(t)===t)return f(n);e(r.dirname(t),a,(n,r)=>{n?f(n,r):e(t,a,f,r)});break;default:s.stat(t,(e,t)=>{e||!t.isDirectory()?f(n,o):f(null,o)})}})}},function(e,t,a){e.exports=a(793)().Promise},function(e,t,a){t.publicEncrypt=a(821),t.privateDecrypt=a(804),t.privateEncrypt=function(e,a){return t.publicEncrypt(e,a,!0)},t.publicDecrypt=function(e,a){return t.privateDecrypt(e,a,!0)}},function(e,t,a){a(831);var n=function(e,t){return parseInt(e.slice(2*t+2,2*t+4),16)},r=function(e){return(e.length-2)/2},c=function(e){for(var t=[],a=2,n=e.length;a<n;a+=2)t.push(parseInt(e.slice(a,a+2),16));return t},i=function(e){for(var t="0x",a=0,n=e.length;a<n;++a){var r=e[a];t+=(r<16?"0":"")+r.toString(16)}return t};e.exports={random:function(e){var t=void 0;t="undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(e)):a(9).randomBytes(e);for(var n="0x",r=0;r<e;++r)n+=("00"+t[r].toString(16)).slice(-2);return n},length:r,concat:function(e,t){return e.concat(t.slice(2))},flatten:function(e){return"0x"+e.reduce(function(e,t){return e+t.slice(2)},"")},slice:function(e,t,a){return"0x"+a.slice(2*e+2,2*t+2)},reverse:function(e){for(var t="0x",a=0,n=r(e);a<n;++a)t+=e.slice(2*(n-a),2*(n-a+1));return t},pad:function e(t,a){return a.length===2*t+2?a:e(t,"0x0"+a.slice(2))},padRight:function e(t,a){return a.length===2*t+2?a:e(t,a+"0")},fromAscii:function(e){for(var t="0x",a=0;a<e.length;++a)t+=("00"+e.charCodeAt(a).toString(16)).slice(-2);return t},toAscii:function(e){for(var t="",a=2;a<e.length;a+=2)t+=String.fromCharCode(parseInt(e.slice(a,a+2),16));return t},fromString:function(e){for(var t=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},a="0x",n=0;n!=e.length;n++){var r=e.charCodeAt(n);if(r<128)a+=t(r);else{if(r<2048)a+=t(r>>6|192);else{if(r>55295&&r<56320){if(++n==e.length)return null;var c=e.charCodeAt(n);if(c<56320||c>57343)return null;a+=t((r=65536+((1023&r)<<10)+(1023&c))>>18|240),a+=t(r>>12&63|128)}else a+=t(r>>12|224);a+=t(r>>6&63|128)}a+=t(63&r|128)}}return a},toString:function(e){for(var t="",a=0,c=r(e);a<c;){var i=n(e,a++);if(i>127){if(i>191&&i<224){if(a>=c)return null;i=(31&i)<<6|63&n(e,a)}else if(i>223&&i<240){if(a+1>=c)return null;i=(15&i)<<12|(63&n(e,a))<<6|63&n(e,++a)}else{if(!(i>239&&i<248))return null;if(a+2>=c)return null;i=(7&i)<<18|(63&n(e,a))<<12|(63&n(e,++a))<<6|63&n(e,++a)}++a}if(i<=65535)t+=String.fromCharCode(i);else{if(!(i<=1114111))return null;i-=65536,t+=String.fromCharCode(i>>10|55296),t+=String.fromCharCode(1023&i|56320)}}return t},fromNumber:function(e){var t=e.toString(16);return t.length%2==0?"0x"+t:"0x0"+t},toNumber:function(e){return parseInt(e.slice(2),16)},fromNat:function(e){return"0x0"===e?"0x":e.length%2==0?e:"0x0"+e.slice(2)},toNat:function(e){return"0"===e[2]?"0x"+e.slice(3):e},fromArray:i,toArray:c,fromUint8Array:function(e){return i([].slice.call(e,0))},toUint8Array:function(e){return new Uint8Array(c(e))}}},function(e,t,a){var n=a(1),r=a(98),c=a(4).EventEmitter,i=a(349),f=a(930),o=a(929).Validation;const d="open";var s="setImmediate"in global?global.setImmediate.bind(global):process.nextTick.bind(process),b=0;function u(e,t,a,n,o){if(this._debug=r.BufferingLogger("websocket:connection",++b),this._debug("constructor"),this._debug.enabled&&function(e,t){if(!e._debug.enabled)return;var a=t.emit;for(var n in t.emit=function(t){e._debug("||| Socket Event  '%s'",t),a.apply(this,arguments)},t)"function"==typeof t[n]&&-1===["emit"].indexOf(n)&&function(a){var n=t[a];t[a]="on"!==a?function(){return e._debug("||| Socket method called:  %s",a),n.apply(this,arguments)}:function(){return e._debug("||| Socket method called:  %s (%s)",a,arguments[0]),n.apply(this,arguments)}}(n)}(this,e),c.call(this),this._pingListenerCount=0,this.on("newListener",function(e){"ping"===e&&this._pingListenerCount++}).on("removeListener",function(e){"ping"===e&&this._pingListenerCount--}),this.config=o,this.socket=e,this.protocol=a,this.extensions=t,this.remoteAddress=e.remoteAddress,this.closeReasonCode=-1,this.closeDescription=null,this.closeEventEmitted=!1,this.maskOutgoingPackets=n,this.maskBytes=new Buffer(4),this.frameHeader=new Buffer(10),this.bufferList=new f,this.currentFrame=new i(this.maskBytes,this.frameHeader,this.config),this.fragmentationSize=0,this.frameQueue=[],this.connected=!0,this.state=d,this.waitingForCloseResponse=!1,this.receivedEnd=!1,this.closeTimeout=this.config.closeTimeout,this.assembleFragments=this.config.assembleFragments,this.maxReceivedMessageSize=this.config.maxReceivedMessageSize,this.outputBufferFull=!1,this.inputPaused=!1,this.receivedDataHandler=this.processReceivedData.bind(this),this._closeTimerHandler=this.handleCloseTimer.bind(this),this.socket.setNoDelay(this.config.disableNagleAlgorithm),this.socket.setTimeout(0),this.config.keepalive&&!this.config.useNativeKeepalive){if("number"!=typeof this.config.keepaliveInterval)throw new Error("keepaliveInterval must be specified and numeric if keepalive is true.");if(this._keepaliveTimerHandler=this.handleKeepaliveTimer.bind(this),this.setKeepaliveTimer(),this.config.dropConnectionOnKeepaliveTimeout){if("number"!=typeof this.config.keepaliveGracePeriod)throw new Error("keepaliveGracePeriod  must be specified and numeric if dropConnectionOnKeepaliveTimeout is true.");this._gracePeriodTimerHandler=this.handleGracePeriodTimer.bind(this)}}else if(this.config.keepalive&&this.config.useNativeKeepalive){if(!("setKeepAlive"in this.socket))throw new Error("Unable to use native keepalive: unsupported by this version of Node.");this.socket.setKeepAlive(!0,this.config.keepaliveInterval)}this.socket.removeAllListeners("error")}function l(e){return!(e<1e3)&&(e>=1e3&&e<=2999?-1!==[1e3,1001,1002,1003,1007,1008,1009,1010,1011].indexOf(e):e>=3e3&&e<=3999||(e>=4e3&&e<=4999||!(e>=5e3)&&void 0))}u.CLOSE_REASON_NORMAL=1e3,u.CLOSE_REASON_GOING_AWAY=1001,u.CLOSE_REASON_PROTOCOL_ERROR=1002,u.CLOSE_REASON_UNPROCESSABLE_INPUT=1003,u.CLOSE_REASON_RESERVED=1004,u.CLOSE_REASON_NOT_PROVIDED=1005,u.CLOSE_REASON_ABNORMAL=1006,u.CLOSE_REASON_INVALID_DATA=1007,u.CLOSE_REASON_POLICY_VIOLATION=1008,u.CLOSE_REASON_MESSAGE_TOO_BIG=1009,u.CLOSE_REASON_EXTENSION_REQUIRED=1010,u.CLOSE_REASON_INTERNAL_SERVER_ERROR=1011,u.CLOSE_REASON_TLS_HANDSHAKE_FAILED=1015,u.CLOSE_DESCRIPTIONS={1000:"Normal connection closure",1001:"Remote peer is going away",1002:"Protocol error",1003:"Unprocessable input",1004:"Reserved",1005:"Reason not provided",1006:"Abnormal closure, no further detail available",1007:"Invalid data received",1008:"Policy violation",1009:"Message too big",1010:"Extension requested by client is required",1011:"Internal Server Error",1015:"TLS Handshake Failed"},n.inherits(u,c),u.prototype._addSocketEventListeners=function(){this.socket.on("error",this.handleSocketError.bind(this)),this.socket.on("end",this.handleSocketEnd.bind(this)),this.socket.on("close",this.handleSocketClose.bind(this)),this.socket.on("drain",this.handleSocketDrain.bind(this)),this.socket.on("pause",this.handleSocketPause.bind(this)),this.socket.on("resume",this.handleSocketResume.bind(this)),this.socket.on("data",this.handleSocketData.bind(this))},u.prototype.setKeepaliveTimer=function(){this._debug("setKeepaliveTimer"),this.config.keepalive&&!this.config.useNativeKeepalive&&(this.clearKeepaliveTimer(),this.clearGracePeriodTimer(),this._keepaliveTimeoutID=setTimeout(this._keepaliveTimerHandler,this.config.keepaliveInterval))},u.prototype.clearKeepaliveTimer=function(){this._keepaliveTimeoutID&&clearTimeout(this._keepaliveTimeoutID)},u.prototype.handleKeepaliveTimer=function(){this._debug("handleKeepaliveTimer"),this._keepaliveTimeoutID=null,this.ping(),this.config.dropConnectionOnKeepaliveTimeout?this.setGracePeriodTimer():this.setKeepaliveTimer()},u.prototype.setGracePeriodTimer=function(){this._debug("setGracePeriodTimer"),this.clearGracePeriodTimer(),this._gracePeriodTimeoutID=setTimeout(this._gracePeriodTimerHandler,this.config.keepaliveGracePeriod)},u.prototype.clearGracePeriodTimer=function(){this._gracePeriodTimeoutID&&clearTimeout(this._gracePeriodTimeoutID)},u.prototype.handleGracePeriodTimer=function(){this._debug("handleGracePeriodTimer"),this._gracePeriodTimeoutID=null,this.drop(u.CLOSE_REASON_ABNORMAL,"Peer not responding.",!0)},u.prototype.handleSocketData=function(e){this._debug("handleSocketData"),this.setKeepaliveTimer(),this.bufferList.write(e),this.processReceivedData()},u.prototype.processReceivedData=function(){if(this._debug("processReceivedData"),this.connected&&!this.inputPaused){var e=this.currentFrame;if(e.addData(this.bufferList)){var t=this;if(e.protocolError)return this._debug("-- protocol error"),void process.nextTick(function(){t.drop(u.CLOSE_REASON_PROTOCOL_ERROR,e.dropReason)});if(e.frameTooLarge)return this._debug("-- frame too large"),void process.nextTick(function(){t.drop(u.CLOSE_REASON_MESSAGE_TOO_BIG,e.dropReason)});if(e.rsv1||e.rsv2||e.rsv3)return this._debug("-- illegal rsv flag"),void process.nextTick(function(){t.drop(u.CLOSE_REASON_PROTOCOL_ERROR,"Unsupported usage of rsv bits without negotiated extension.")});this.assembleFragments||(this._debug("-- emitting frame"),process.nextTick(function(){t.emit("frame",e)})),process.nextTick(function(){t.processFrame(e)}),this.currentFrame=new i(this.maskBytes,this.frameHeader,this.config),this.bufferList.length>0&&s(this.receivedDataHandler)}else this._debug("-- insufficient data for frame")}},u.prototype.handleSocketError=function(e){this._debug("handleSocketError: %j",e),this.closeReasonCode=u.CLOSE_REASON_ABNORMAL,this.closeDescription="Socket Error: "+e.syscall+" "+e.code,this.connected=!1,this.state="closed",this.fragmentationSize=0,r.eventEmitterListenerCount(this,"error")>0&&this.emit("error",e),this.socket.destroy(e),this._debug.printOutput()},u.prototype.handleSocketEnd=function(){this._debug("handleSocketEnd: received socket end.  state = %s",this.state),this.receivedEnd=!0,"closed"!==this.state?"peer_requested_close"!==this.state&&"ending"!==this.state&&(this._debug("  --- UNEXPECTED socket end."),this.socket.end()):this._debug("  --- Socket 'end' after 'close'")},u.prototype.handleSocketClose=function(e){this._debug("handleSocketClose: received socket close"),this.socketHadError=e,this.connected=!1,this.state="closed",-1===this.closeReasonCode&&(this.closeReasonCode=u.CLOSE_REASON_ABNORMAL,this.closeDescription="Connection dropped by remote peer."),this.clearCloseTimer(),this.clearKeepaliveTimer(),this.clearGracePeriodTimer(),this.closeEventEmitted||(this.closeEventEmitted=!0,this._debug("-- Emitting WebSocketConnection close event"),this.emit("close",this.closeReasonCode,this.closeDescription))},u.prototype.handleSocketDrain=function(){this._debug("handleSocketDrain: socket drain event"),this.outputBufferFull=!1,this.emit("drain")},u.prototype.handleSocketPause=function(){this._debug("handleSocketPause: socket pause event"),this.inputPaused=!0,this.emit("pause")},u.prototype.handleSocketResume=function(){this._debug("handleSocketResume: socket resume event"),this.inputPaused=!1,this.emit("resume"),this.processReceivedData()},u.prototype.pause=function(){this._debug("pause: pause requested"),this.socket.pause()},u.prototype.resume=function(){this._debug("resume: resume requested"),this.socket.resume()},u.prototype.close=function(e,t){if(this.connected){if(this._debug("close: Initating clean WebSocket close sequence."),"number"!=typeof e&&(e=u.CLOSE_REASON_NORMAL),!l(e))throw new Error("Close code "+e+" is not valid.");"string"!=typeof t&&(t=u.CLOSE_DESCRIPTIONS[e]),this.closeReasonCode=e,this.closeDescription=t,this.setCloseTimer(),this.sendCloseFrame(this.closeReasonCode,this.closeDescription),this.state="ending",this.connected=!1}},u.prototype.drop=function(e,t,a){this._debug("drop"),"number"!=typeof e&&(e=u.CLOSE_REASON_PROTOCOL_ERROR),"string"!=typeof t&&(t=u.CLOSE_DESCRIPTIONS[e]),this._debug("Forcefully dropping connection. skipCloseFrame: %s, code: %d, description: %s",a,e,t),this.closeReasonCode=e,this.closeDescription=t,this.frameQueue=[],this.fragmentationSize=0,a||this.sendCloseFrame(e,t),this.connected=!1,this.state="closed",this.clearCloseTimer(),this.clearKeepaliveTimer(),this.clearGracePeriodTimer(),this.closeEventEmitted||(this.closeEventEmitted=!0,this._debug("Emitting WebSocketConnection close event"),this.emit("close",this.closeReasonCode,this.closeDescription)),this._debug("Drop: destroying socket"),this.socket.destroy()},u.prototype.setCloseTimer=function(){this._debug("setCloseTimer"),this.clearCloseTimer(),this._debug("Setting close timer"),this.waitingForCloseResponse=!0,this.closeTimer=setTimeout(this._closeTimerHandler,this.closeTimeout)},u.prototype.clearCloseTimer=function(){this._debug("clearCloseTimer"),this.closeTimer&&(this._debug("Clearing close timer"),clearTimeout(this.closeTimer),this.waitingForCloseResponse=!1,this.closeTimer=null)},u.prototype.handleCloseTimer=function(){this._debug("handleCloseTimer"),this.closeTimer=null,this.waitingForCloseResponse&&(this._debug("Close response not received from client.  Forcing socket end."),this.waitingForCloseResponse=!1,this.state="closed",this.socket.end())},u.prototype.processFrame=function(e){if(this._debug("processFrame"),this._debug(" -- frame: %s",e),0!==this.frameQueue.length&&e.opcode>0&&e.opcode<8)this.drop(u.CLOSE_REASON_PROTOCOL_ERROR,"Illegal frame opcode 0x"+e.opcode.toString(16)+" received in middle of fragmented message.");else switch(e.opcode){case 2:this._debug("-- Binary Frame"),this.assembleFragments&&(e.fin?(this._debug("---- Emitting 'message' event"),this.emit("message",{type:"binary",binaryData:e.binaryPayload})):(this.frameQueue.push(e),this.fragmentationSize=e.length));break;case 1:if(this._debug("-- Text Frame"),this.assembleFragments)if(e.fin){if(!o.isValidUTF8(e.binaryPayload))return void this.drop(u.CLOSE_REASON_INVALID_DATA,"Invalid UTF-8 Data Received");this._debug("---- Emitting 'message' event"),this.emit("message",{type:"utf8",utf8Data:e.binaryPayload.toString("utf8")})}else this.frameQueue.push(e),this.fragmentationSize=e.length;break;case 0:if(this._debug("-- Continuation Frame"),this.assembleFragments){if(0===this.frameQueue.length)return void this.drop(u.CLOSE_REASON_PROTOCOL_ERROR,"Unexpected Continuation Frame");if(this.fragmentationSize+=e.length,this.fragmentationSize>this.maxReceivedMessageSize)return void this.drop(u.CLOSE_REASON_MESSAGE_TOO_BIG,"Maximum message size exceeded.");if(this.frameQueue.push(e),e.fin){var t=0,a=new Buffer(this.fragmentationSize),n=this.frameQueue[0].opcode;switch(this.frameQueue.forEach(function(e){e.binaryPayload.copy(a,t),t+=e.binaryPayload.length}),this.frameQueue=[],this.fragmentationSize=0,n){case 2:this.emit("message",{type:"binary",binaryData:a});break;case 1:if(!o.isValidUTF8(a))return void this.drop(u.CLOSE_REASON_INVALID_DATA,"Invalid UTF-8 Data Received");this.emit("message",{type:"utf8",utf8Data:a.toString("utf8")});break;default:return void this.drop(u.CLOSE_REASON_PROTOCOL_ERROR,"Unexpected first opcode in fragmentation sequence: 0x"+n.toString(16))}}}break;case 9:if(this._debug("-- Ping Frame"),this._pingListenerCount>0){var r=!1;this.emit("ping",function(){r=!0},e.binaryPayload),r||this.pong(e.binaryPayload)}else this.pong(e.binaryPayload);break;case 10:this._debug("-- Pong Frame"),this.emit("pong",e.binaryPayload);break;case 8:if(this._debug("-- Close Frame"),this.waitingForCloseResponse)return this._debug("---- Got close response from peer.  Completing closing handshake."),this.clearCloseTimer(),this.waitingForCloseResponse=!1,this.state="closed",void this.socket.end();var c;if(this._debug("---- Closing handshake initiated by peer."),this.state="peer_requested_close",e.invalidCloseFrameLength?(this.closeReasonCode=1005,c=u.CLOSE_REASON_PROTOCOL_ERROR):-1===e.closeStatus||l(e.closeStatus)?(this.closeReasonCode=e.closeStatus,c=u.CLOSE_REASON_NORMAL):(this.closeReasonCode=e.closeStatus,c=u.CLOSE_REASON_PROTOCOL_ERROR),e.binaryPayload.length>1){if(!o.isValidUTF8(e.binaryPayload))return void this.drop(u.CLOSE_REASON_INVALID_DATA,"Invalid UTF-8 Data Received");this.closeDescription=e.binaryPayload.toString("utf8")}else this.closeDescription=u.CLOSE_DESCRIPTIONS[this.closeReasonCode];this._debug("------ Remote peer %s - code: %d - %s - close frame payload length: %d",this.remoteAddress,this.closeReasonCode,this.closeDescription,e.length),this._debug("------ responding to remote peer's close request."),this.sendCloseFrame(c,null),this.connected=!1;break;default:this._debug("-- Unrecognized Opcode %d",e.opcode),this.drop(u.CLOSE_REASON_PROTOCOL_ERROR,"Unrecognized Opcode: 0x"+e.opcode.toString(16))}},u.prototype.send=function(e,t){if(this._debug("send"),Buffer.isBuffer(e))this.sendBytes(e,t);else{if("function"!=typeof e.toString)throw new Error("Data provided must either be a Node Buffer or implement toString()");this.sendUTF(e,t)}},u.prototype.sendUTF=function(e,t){e=new Buffer(e.toString(),"utf8"),this._debug("sendUTF: %d bytes",e.length);var a=new i(this.maskBytes,this.frameHeader,this.config);a.opcode=1,a.binaryPayload=e,this.fragmentAndSend(a,t)},u.prototype.sendBytes=function(e,t){if(this._debug("sendBytes"),!Buffer.isBuffer(e))throw new Error("You must pass a Node Buffer object to WebSocketConnection.prototype.sendBytes()");var a=new i(this.maskBytes,this.frameHeader,this.config);a.opcode=2,a.binaryPayload=e,this.fragmentAndSend(a,t)},u.prototype.ping=function(e){this._debug("ping");var t=new i(this.maskBytes,this.frameHeader,this.config);t.opcode=9,t.fin=!0,e&&(Buffer.isBuffer(e)||(e=new Buffer(e.toString(),"utf8")),e.length>125&&(this._debug("WebSocket: Data for ping is longer than 125 bytes.  Truncating."),e=e.slice(0,124)),t.binaryPayload=e),this.sendFrame(t)},u.prototype.pong=function(e){this._debug("pong");var t=new i(this.maskBytes,this.frameHeader,this.config);t.opcode=10,Buffer.isBuffer(e)&&e.length>125&&(this._debug("WebSocket: Data for pong is longer than 125 bytes.  Truncating."),e=e.slice(0,124)),t.binaryPayload=e,t.fin=!0,this.sendFrame(t)},u.prototype.fragmentAndSend=function(e,t){if(this._debug("fragmentAndSend"),e.opcode>7)throw new Error("You cannot fragment control frames.");var a=this.config.fragmentationThreshold,n=e.binaryPayload.length;if(!this.config.fragmentOutgoingMessages||e.binaryPayload&&n<=a)return e.fin=!0,void this.sendFrame(e,t);for(var r=Math.ceil(n/a),c=0,f=function(e){e?"function"==typeof t&&(t(e),t=null):++c===r&&"function"==typeof t&&t()},o=1;o<=r;o++){var d=new i(this.maskBytes,this.frameHeader,this.config);d.opcode=1===o?e.opcode:0,d.fin=o===r;var s=o===r?n-a*(o-1):a,b=a*(o-1);d.binaryPayload=e.binaryPayload.slice(b,b+s),this.sendFrame(d,f)}},u.prototype.sendCloseFrame=function(e,t,a){if("number"!=typeof e&&(e=u.CLOSE_REASON_NORMAL),this._debug("sendCloseFrame state: %s, reasonCode: %d, description: %s",this.state,e,t),this.state===d||"peer_requested_close"===this.state){var n=new i(this.maskBytes,this.frameHeader,this.config);n.fin=!0,n.opcode=8,n.closeStatus=e,"string"==typeof t&&(n.binaryPayload=new Buffer(t,"utf8")),this.sendFrame(n,a),this.socket.end()}},u.prototype.sendFrame=function(e,t){this._debug("sendFrame"),e.mask=this.maskOutgoingPackets;var a=this.socket.write(e.toBuffer(),t);return this.outputBufferFull=!a,a},e.exports=u},function(e,t,a){var n;(function(){var a=this,r=a._,c=Array.prototype,i=Object.prototype,f=Function.prototype,o=c.push,d=c.slice,s=i.toString,b=i.hasOwnProperty,u=Array.isArray,l=Object.keys,p=f.bind,h=Object.create,m=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};void 0!==e&&e.exports&&(t=e.exports=v),t._=v,v.VERSION="1.8.3";var g=function(e,t,a){if(void 0===t)return e;switch(null==a?3:a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,r){return e.call(t,a,n,r)};case 4:return function(a,n,r,c){return e.call(t,a,n,r,c)}}return function(){return e.apply(t,arguments)}},y=function(e,t,a){return null==e?v.identity:v.isFunction(e)?g(e,t,a):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return y(e,t,1/0)};var _=function(e,t){return function(a){var n=arguments.length;if(n<2||null==a)return a;for(var r=1;r<n;r++)for(var c=arguments[r],i=e(c),f=i.length,o=0;o<f;o++){var d=i[o];t&&void 0!==a[d]||(a[d]=c[d])}return a}},w=function(e){if(!v.isObject(e))return{};if(h)return h(e);m.prototype=e;var t=new m;return m.prototype=null,t},A=function(e){return function(t){return null==t?void 0:t[e]}},x=Math.pow(2,53)-1,k=A("length"),E=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=x};function S(e){return function(t,a,n,r){a=g(a,r,4);var c=!E(t)&&v.keys(t),i=(c||t).length,f=e>0?0:i-1;return arguments.length<3&&(n=t[c?c[f]:f],f+=e),function(t,a,n,r,c,i){for(;c>=0&&c<i;c+=e){var f=r?r[c]:c;n=a(n,t[f],f,t)}return n}(t,a,n,c,f,i)}}v.each=v.forEach=function(e,t,a){var n,r;if(t=g(t,a),E(e))for(n=0,r=e.length;n<r;n++)t(e[n],n,e);else{var c=v.keys(e);for(n=0,r=c.length;n<r;n++)t(e[c[n]],c[n],e)}return e},v.map=v.collect=function(e,t,a){t=y(t,a);for(var n=!E(e)&&v.keys(e),r=(n||e).length,c=Array(r),i=0;i<r;i++){var f=n?n[i]:i;c[i]=t(e[f],f,e)}return c},v.reduce=v.foldl=v.inject=S(1),v.reduceRight=v.foldr=S(-1),v.find=v.detect=function(e,t,a){var n;if(void 0!==(n=E(e)?v.findIndex(e,t,a):v.findKey(e,t,a))&&-1!==n)return e[n]},v.filter=v.select=function(e,t,a){var n=[];return t=y(t,a),v.each(e,function(e,a,r){t(e,a,r)&&n.push(e)}),n},v.reject=function(e,t,a){return v.filter(e,v.negate(y(t)),a)},v.every=v.all=function(e,t,a){t=y(t,a);for(var n=!E(e)&&v.keys(e),r=(n||e).length,c=0;c<r;c++){var i=n?n[c]:c;if(!t(e[i],i,e))return!1}return!0},v.some=v.any=function(e,t,a){t=y(t,a);for(var n=!E(e)&&v.keys(e),r=(n||e).length,c=0;c<r;c++){var i=n?n[c]:c;if(t(e[i],i,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,a,n){return E(e)||(e=v.values(e)),("number"!=typeof a||n)&&(a=0),v.indexOf(e,t,a)>=0},v.invoke=function(e,t){var a=d.call(arguments,2),n=v.isFunction(t);return v.map(e,function(e){var r=n?t:e[t];return null==r?r:r.apply(e,a)})},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,a){var n,r,c=-1/0,i=-1/0;if(null==t&&null!=e)for(var f=0,o=(e=E(e)?e:v.values(e)).length;f<o;f++)(n=e[f])>c&&(c=n);else t=y(t,a),v.each(e,function(e,a,n){((r=t(e,a,n))>i||r===-1/0&&c===-1/0)&&(c=e,i=r)});return c},v.min=function(e,t,a){var n,r,c=1/0,i=1/0;if(null==t&&null!=e)for(var f=0,o=(e=E(e)?e:v.values(e)).length;f<o;f++)(n=e[f])<c&&(c=n);else t=y(t,a),v.each(e,function(e,a,n){((r=t(e,a,n))<i||r===1/0&&c===1/0)&&(c=e,i=r)});return c},v.shuffle=function(e){for(var t,a=E(e)?e:v.values(e),n=a.length,r=Array(n),c=0;c<n;c++)(t=v.random(0,c))!==c&&(r[c]=r[t]),r[t]=a[c];return r},v.sample=function(e,t,a){return null==t||a?(E(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,a){return t=y(t,a),v.pluck(v.map(e,function(e,a,n){return{value:e,index:a,criteria:t(e,a,n)}}).sort(function(e,t){var a=e.criteria,n=t.criteria;if(a!==n){if(a>n||void 0===a)return 1;if(a<n||void 0===n)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,a,n){var r={};return a=y(a,n),v.each(t,function(n,c){var i=a(n,c,t);e(r,n,i)}),r}};v.groupBy=T(function(e,t,a){v.has(e,a)?e[a].push(t):e[a]=[t]}),v.indexBy=T(function(e,t,a){e[a]=t}),v.countBy=T(function(e,t,a){v.has(e,a)?e[a]++:e[a]=1}),v.toArray=function(e){return e?v.isArray(e)?d.call(e):E(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:E(e)?e.length:v.keys(e).length},v.partition=function(e,t,a){t=y(t,a);var n=[],r=[];return v.each(e,function(e,a,c){(t(e,a,c)?n:r).push(e)}),[n,r]},v.first=v.head=v.take=function(e,t,a){if(null!=e)return null==t||a?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,a){return d.call(e,0,Math.max(0,e.length-(null==t||a?1:t)))},v.last=function(e,t,a){if(null!=e)return null==t||a?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,a){return d.call(e,null==t||a?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var C=function(e,t,a,n){for(var r=[],c=0,i=n||0,f=k(e);i<f;i++){var o=e[i];if(E(o)&&(v.isArray(o)||v.isArguments(o))){t||(o=C(o,t,a));var d=0,s=o.length;for(r.length+=s;d<s;)r[c++]=o[d++]}else a||(r[c++]=o)}return r};function O(e){return function(t,a,n){a=y(a,n);for(var r=k(t),c=e>0?0:r-1;c>=0&&c<r;c+=e)if(a(t[c],c,t))return c;return-1}}function R(e,t,a){return function(n,r,c){var i=0,f=k(n);if("number"==typeof c)e>0?i=c>=0?c:Math.max(c+f,i):f=c>=0?Math.min(c+1,f):c+f+1;else if(a&&c&&f)return n[c=a(n,r)]===r?c:-1;if(r!=r)return(c=t(d.call(n,i,f),v.isNaN))>=0?c+i:-1;for(c=e>0?i:f-1;c>=0&&c<f;c+=e)if(n[c]===r)return c;return-1}}v.flatten=function(e,t){return C(e,t,!1)},v.without=function(e){return v.difference(e,d.call(arguments,1))},v.uniq=v.unique=function(e,t,a,n){v.isBoolean(t)||(n=a,a=t,t=!1),null!=a&&(a=y(a,n));for(var r=[],c=[],i=0,f=k(e);i<f;i++){var o=e[i],d=a?a(o,i,e):o;t?(i&&c===d||r.push(o),c=d):a?v.contains(c,d)||(c.push(d),r.push(o)):v.contains(r,o)||r.push(o)}return r},v.union=function(){return v.uniq(C(arguments,!0,!0))},v.intersection=function(e){for(var t=[],a=arguments.length,n=0,r=k(e);n<r;n++){var c=e[n];if(!v.contains(t,c)){for(var i=1;i<a&&v.contains(arguments[i],c);i++);i===a&&t.push(c)}}return t},v.difference=function(e){var t=C(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(t,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,k).length||0,a=Array(t),n=0;n<t;n++)a[n]=v.pluck(e,n);return a},v.object=function(e,t){for(var a={},n=0,r=k(e);n<r;n++)t?a[e[n]]=t[n]:a[e[n][0]]=e[n][1];return a},v.findIndex=O(1),v.findLastIndex=O(-1),v.sortedIndex=function(e,t,a,n){for(var r=(a=y(a,n,1))(t),c=0,i=k(e);c<i;){var f=Math.floor((c+i)/2);a(e[f])<r?c=f+1:i=f}return c},v.indexOf=R(1,v.findIndex,v.sortedIndex),v.lastIndexOf=R(-1,v.findLastIndex),v.range=function(e,t,a){null==t&&(t=e||0,e=0),a=a||1;for(var n=Math.max(Math.ceil((t-e)/a),0),r=Array(n),c=0;c<n;c++,e+=a)r[c]=e;return r};var j=function(e,t,a,n,r){if(!(n instanceof t))return e.apply(a,r);var c=w(e.prototype),i=e.apply(c,r);return v.isObject(i)?i:c};v.bind=function(e,t){if(p&&e.bind===p)return p.apply(e,d.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var a=d.call(arguments,2),n=function(){return j(e,n,t,this,a.concat(d.call(arguments)))};return n},v.partial=function(e){var t=d.call(arguments,1),a=function(){for(var n=0,r=t.length,c=Array(r),i=0;i<r;i++)c[i]=t[i]===v?arguments[n++]:t[i];for(;n<arguments.length;)c.push(arguments[n++]);return j(e,a,this,this,c)};return a},v.bindAll=function(e){var t,a,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)e[a=arguments[t]]=v.bind(e[a],e);return e},v.memoize=function(e,t){var a=function(n){var r=a.cache,c=""+(t?t.apply(this,arguments):n);return v.has(r,c)||(r[c]=e.apply(this,arguments)),r[c]};return a.cache={},a},v.delay=function(e,t){var a=d.call(arguments,2);return setTimeout(function(){return e.apply(null,a)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,a){var n,r,c,i=null,f=0;a||(a={});var o=function(){f=!1===a.leading?0:v.now(),i=null,c=e.apply(n,r),i||(n=r=null)};return function(){var d=v.now();f||!1!==a.leading||(f=d);var s=t-(d-f);return n=this,r=arguments,s<=0||s>t?(i&&(clearTimeout(i),i=null),f=d,c=e.apply(n,r),i||(n=r=null)):i||!1===a.trailing||(i=setTimeout(o,s)),c}},v.debounce=function(e,t,a){var n,r,c,i,f,o=function(){var d=v.now()-i;d<t&&d>=0?n=setTimeout(o,t-d):(n=null,a||(f=e.apply(c,r),n||(c=r=null)))};return function(){c=this,r=arguments,i=v.now();var d=a&&!n;return n||(n=setTimeout(o,t)),d&&(f=e.apply(c,r),c=r=null),f}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var a=t,n=e[t].apply(this,arguments);a--;)n=e[a].call(this,n);return n}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var a;return function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=null),a}},v.once=v.partial(v.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function B(e,t){var a=M.length,n=e.constructor,r=v.isFunction(n)&&n.prototype||i,c="constructor";for(v.has(e,c)&&!v.contains(t,c)&&t.push(c);a--;)(c=M[a])in e&&e[c]!==r[c]&&!v.contains(t,c)&&t.push(c)}v.keys=function(e){if(!v.isObject(e))return[];if(l)return l(e);var t=[];for(var a in e)v.has(e,a)&&t.push(a);return F&&B(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var a in e)t.push(a);return F&&B(e,t),t},v.values=function(e){for(var t=v.keys(e),a=t.length,n=Array(a),r=0;r<a;r++)n[r]=e[t[r]];return n},v.mapObject=function(e,t,a){t=y(t,a);for(var n,r=v.keys(e),c=r.length,i={},f=0;f<c;f++)i[n=r[f]]=t(e[n],n,e);return i},v.pairs=function(e){for(var t=v.keys(e),a=t.length,n=Array(a),r=0;r<a;r++)n[r]=[t[r],e[t[r]]];return n},v.invert=function(e){for(var t={},a=v.keys(e),n=0,r=a.length;n<r;n++)t[e[a[n]]]=a[n];return t},v.functions=v.methods=function(e){var t=[];for(var a in e)v.isFunction(e[a])&&t.push(a);return t.sort()},v.extend=_(v.allKeys),v.extendOwn=v.assign=_(v.keys),v.findKey=function(e,t,a){t=y(t,a);for(var n,r=v.keys(e),c=0,i=r.length;c<i;c++)if(t(e[n=r[c]],n,e))return n},v.pick=function(e,t,a){var n,r,c={},i=e;if(null==i)return c;v.isFunction(t)?(r=v.allKeys(i),n=g(t,a)):(r=C(arguments,!1,!1,1),n=function(e,t,a){return t in a},i=Object(i));for(var f=0,o=r.length;f<o;f++){var d=r[f],s=i[d];n(s,d,i)&&(c[d]=s)}return c},v.omit=function(e,t,a){if(v.isFunction(t))t=v.negate(t);else{var n=v.map(C(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(n,t)}}return v.pick(e,t,a)},v.defaults=_(v.allKeys,!0),v.create=function(e,t){var a=w(e);return t&&v.extendOwn(a,t),a},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var a=v.keys(t),n=a.length;if(null==e)return!n;for(var r=Object(e),c=0;c<n;c++){var i=a[c];if(t[i]!==r[i]||!(i in r))return!1}return!0};var N=function(e,t,a,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var r=s.call(e);if(r!==s.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var c="[object Array]"===r;if(!c){if("object"!=typeof e||"object"!=typeof t)return!1;var i=e.constructor,f=t.constructor;if(i!==f&&!(v.isFunction(i)&&i instanceof i&&v.isFunction(f)&&f instanceof f)&&"constructor"in e&&"constructor"in t)return!1}a=a||[],n=n||[];for(var o=a.length;o--;)if(a[o]===e)return n[o]===t;if(a.push(e),n.push(t),c){if((o=e.length)!==t.length)return!1;for(;o--;)if(!N(e[o],t[o],a,n))return!1}else{var d,b=v.keys(e);if(o=b.length,v.keys(t).length!==o)return!1;for(;o--;)if(d=b[o],!v.has(t,d)||!N(e[d],t[d],a,n))return!1}return a.pop(),n.pop(),!0};v.isEqual=function(e,t){return N(e,t)},v.isEmpty=function(e){return null==e||(E(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=u||function(e){return"[object Array]"===s.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return s.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===s.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&b.call(e,t)},v.noConflict=function(){return a._=r,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=A,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,a){var n=Array(Math.max(0,e));t=g(t,a,1);for(var r=0;r<e;r++)n[r]=t(r);return n},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=v.invert(I),L=function(e){var t=function(t){return e[t]},a="(?:"+v.keys(e).join("|")+")",n=RegExp(a),r=RegExp(a,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(r,t):e}};v.escape=L(I),v.unescape=L(P),v.result=function(e,t,a){var n=null==e?void 0:e[t];return void 0===n&&(n=a),v.isFunction(n)?n.call(e):n};var D=0;v.uniqueId=function(e){var t=++D+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+U[e]};v.template=function(e,t,a){!t&&a&&(t=a),t=v.defaults({},t,v.templateSettings);var n=RegExp([(t.escape||z).source,(t.interpolate||z).source,(t.evaluate||z).source].join("|")+"|$","g"),r=0,c="__p+='";e.replace(n,function(t,a,n,i,f){return c+=e.slice(r,f).replace(H,q),r=f+t.length,a?c+="'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":n?c+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(c+="';\n"+i+"\n__p+='"),t}),c+="';\n",t.variable||(c="with(obj||{}){\n"+c+"}\n"),c="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+c+"return __p;\n";try{var i=new Function(t.variable||"obj","_",c)}catch(e){throw e.source=c,e}var f=function(e){return i.call(this,e,v)},o=t.variable||"obj";return f.source="function("+o+"){\n"+c+"}",f},v.chain=function(e){var t=v(e);return t._chain=!0,t};var V=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var a=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),V(this,a.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];v.prototype[e]=function(){var a=this._wrapped;return t.apply(a,arguments),"shift"!==e&&"splice"!==e||0!==a.length||delete a[0],V(this,a)}}),v.each(["concat","join","slice"],function(e){var t=c[e];v.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(t,[]))||(e.exports=n)}).call(this)},function(e,t,a){var n=a(21);function r(e,t,a,n,r,c,i){this.tx=e,this.block=t,this.logs=a,this.gasUsed=n,this.contractAddress=r,this.status=c,this.logsBloom=i,this.transactionIndex=0;for(var f=0;f<t.transactions.length;f++){if(t.transactions[f].hash().equals(e.hash())){this.transactionIndex=f;break}}}r.prototype.toJSON=function(){return null!=this.data?data:{transactionHash:n.hex(this.tx.hash()),transactionIndex:n.hex(this.transactionIndex),blockHash:n.hex(this.block.hash()),blockNumber:n.hex(this.block.header.number),gasUsed:n.hex(this.gasUsed),cumulativeGasUsed:n.hex(this.block.header.gasUsed),contractAddress:null!=this.contractAddress?n.hex(this.contractAddress):null,logs:this.logs.map(function(e){return e.toJSON()}),status:n.hex(this.status),logsBloom:n.hex(this.logsBloom)}},e.exports=r},function(e,t,a){var n=a(21);function r(e){var t=this;Object.keys(e).forEach(function(a){t[a]=e[a]})}r.prototype.toJSON=function(){return{logIndex:this.logIndex,transactionIndex:n.hex(this.transactionIndex),transactionHash:n.hex(this.transactionHash),blockHash:n.hex(this.block.hash()),blockNumber:n.hex(this.block.header.number),address:n.hex(this.address),data:n.hex(this.data),topics:this.topics,type:"mined"}},e.exports=r},function(e,t,a){var n=a(9);!n||n.pbkdf2Sync&&-1!==n.pbkdf2Sync.toString().indexOf("keylen, digest")?(t.pbkdf2Sync=n.pbkdf2Sync,t.pbkdf2=n.pbkdf2):(t.pbkdf2=a(979),t.pbkdf2Sync=a(363))},function(e,t,a){var n=a(1).inherits,r=a(21);function c(e,t){Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.results={},this.hashes=[],this.combine(e,t)}n(c,Error),c.prototype.combine=function(e,t){if(e instanceof c)for(var a=e,n=Object.keys(a.results),i=0;i<n.length;i++){var f=n[i];this.results[f]=a.results[f],Array.prototype.push.apply(this.hashes,a.hashes)}else{var o=t.results;for(i=0;i<e.length;i++){var d=e[i],s=o[i];if(1!=s.vm.exception){var b=r.hex(d.hash());this.hashes.push(b),this.results[b]={error:s.vm.exceptionError.error||s.vm.exceptionError,program_counter:s.vm.runState.programCounter}}}}if(1==this.hashes.length)this.message="VM Exception while processing transaction: "+this.results[this.hashes[0]].error;else{this.message="Multiple VM Exceptions while processing transactions: \n\n";for(i=0;i<this.hashes.length;i++){b=this.hashes[i];this.message+=b+": "+this.results[b].error+"\n"}}},c.prototype.count=function(){return Object.keys(this.results).length},c.fromResults=function(e,t){var a=new c(e,t);return 0==a.count()?null:a},e.exports=c},function(e,t,a){const n=a(1004);e.exports=n},function(e){e.exports={genesisGasLimit:{v:5e3,d:"Gas limit of the Genesis block."},genesisDifficulty:{v:17179869184,d:"Difficulty of the Genesis block."},genesisNonce:{v:"0x0000000000000042",d:"the geneis nonce"},genesisExtraData:{v:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa",d:"extra data "},genesisHash:{v:"0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3",d:"genesis hash"},genesisStateRoot:{v:"0xd7f8974fb5ac78d9ac099b9ad5018bedc2ce0a72dad1827a1709da30580f0544",d:"the genesis state root"},minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be."},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations."},minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be."},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations."},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not."},maximumExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis."},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs."},stackLimit:{v:1024,d:"Maximum size of VM stack allowed."},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack."},tierStepGas:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them."},expGas:{v:10,d:"Once per EXP instuction."},expByteGas:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction."},sha3Gas:{v:30,d:"Once per SHA3 operation."},sha3WordGas:{v:6,d:"Once per word of the SHA3 operation's data."},sloadGas:{v:50,d:"Once per SLOAD operation."},sstoreSetGas:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero."},sstoreResetGas:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero."},sstoreRefundGas:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero."},jumpdestGas:{v:1,d:"Refunded gas, once per SSTORE operation if the zeroness changes to zero."},logGas:{v:375,d:"Per LOG* operation."},logDataGas:{v:8,d:"Per byte in a LOG* operation's data."},logTopicGas:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas."},createGas:{v:32e3,d:"Once per CREATE operation & contract-creation transaction."},callGas:{v:40,d:"Once per CALL operation & message call transaction."},callStipend:{v:2300,d:"Free gas given at beginning of call."},callValueTransferGas:{v:9e3,d:"Paid for CALL when the value transfor is non-zero."},callNewAccountGas:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior."},suicideRefundGas:{v:24e3,d:"Refunded following a suicide operation."},memoryGas:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL."},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation."},createDataGas:{v:200,d:""},txGas:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions."},txCreation:{v:32e3,d:"the cost of creating a contract via tx"},txDataZeroGas:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions."},txDataNonZeroGas:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions."},copyGas:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added."},ecrecoverGas:{v:3e3,d:""},sha256Gas:{v:60,d:""},sha256WordGas:{v:12,d:""},ripemd160Gas:{v:600,d:""},ripemd160WordGas:{v:120,d:""},identityGas:{v:15,d:""},identityWordGas:{v:3,d:""},modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation."},ecAddGas:{v:500,d:"Gas costs for curve addition precompile."},ecMulGas:{v:4e4,d:"Gas costs for curve multiplication precompile."},ecPairingGas:{v:1e5,d:"Base gas costs for curve pairing precompile."},ecPairingWordGas:{v:8e4,d:"Gas costs regarding curve pairing precompile input length."},minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},homeSteadForkNumber:{v:115e4,d:"the block that the Homestead fork started at"},homesteadRepriceForkNumber:{v:2463e3,d:"the block that the Homestead Reprice (EIP150) fork started at"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},freeBlockPeriod:{v:2}}},function(e,t,a){e.exports=a(1020)},function(e,t,a){e.exports=f;var n=Object.keys||function(e){var t=[];for(var a in e)t.push(a);return t},r=a(18);r.inherits=a(0);var c=a(373),i=a(371);function f(e){if(!(this instanceof f))return new f(e);c.call(this,e),i.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",o)}function o(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}r.inherits(f,c),function(e,t){for(var a=0,n=e.length;a<n;a++)t(e[a],a)}(n(i.prototype),function(e){f.prototype[e]||(f.prototype[e]=i.prototype[e])})},function(e,t,a){const n=a(47),r=a(16);function c(e,t,a){if(Array.isArray(e))this.parseNode(e);else if(this.type=e,"branch"===e){var n=t;this.raw=Array.apply(null,Array(17)),n&&n.forEach(function(e){this.set.apply(this,e)})}else this.raw=Array(2),this.setValue(a),this.setKey(t)}function i(e,t){return e.length%2?e.unshift(1):(e.unshift(0),e.unshift(0)),t&&(e[0]+=2),e}function f(e){return e=e[0]%2?e.slice(1):e.slice(2)}function o(e){return e[0]>1}function d(e){for(var t=new Buffer(e),a=[],n=0;n<t.length;n++){var r=2*n;a[r]=t[n]>>4,a[++r]=t[n]%16}return a}function s(e){for(var t=new Buffer(e.length/2),a=0;a<t.length;a++){var n=2*a;t[a]=(e[n]<<4)+e[++n]}return t}function b(e){return 17===e.length?"branch":2===e.length?o(d(e[0]))?"leaf":"extention":void 0}e.exports=c,c.isRawNode=function(e){return Array.isArray(e)&&!Buffer.isBuffer(e)},c.addHexPrefix=i,c.removeHexPrefix=f,c.isTerminator=o,c.stringToNibbles=d,c.nibblesToBuffer=s,c.getNodeType=b,Object.defineProperty(c.prototype,"value",{get:function(){return this.getValue()},set:function(e){this.setValue(e)}}),Object.defineProperty(c.prototype,"key",{get:function(){return this.getKey()},set:function(e){this.setKey(e)}}),c.prototype.parseNode=function(e){this.raw=e,this.type=b(e)},c.prototype.setValue=function(e,t){"branch"!==this.type?this.raw[1]=e:(1===arguments.length&&(t=e,e=16),this.raw[e]=t)},c.prototype.getValue=function(e){if("branch"!==this.type)return this.raw[1];0===arguments.length&&(e=16);var t=this.raw[e];return null!==t&&void 0!==t&&0!==t.length?t:void 0},c.prototype.setKey=function(e){"branch"!==this.type&&(e=i(e=Buffer.isBuffer(e)?d(e):e.slice(0),"leaf"===this.type),this.raw[0]=s(e))},c.prototype.getKey=function(){if("branch"!==this.type){var e=this.raw[0];return e=f(d(e))}},c.prototype.serialize=function(){return n.encode(this.raw)},c.prototype.hash=function(){return r.sha3(this.serialize())},c.prototype.toString=function(){var e=this.type;return e+=": [",this.raw.forEach(function(t){Buffer.isBuffer(t)?e+=t.toString("hex")+", ":e+=t?"object, ":"empty, "}),e=e.slice(0,-2),e+="]"},c.prototype.getChildren=function(){var e=[];switch(this.type){case"leaf":break;case"extention":e.push([this.key,this.getValue()]);break;case"branch":for(var t=0;t<16;t++){var a=this.getValue(t);a&&e.push([[t],a])}}return e}},function(e,t,a){var n;!function(){var a,r={};function c(){}function i(e){return e}function f(e){return!!e}function o(e){return!e}var d="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;function s(e){return function(){if(null===e)throw new Error("Callback was already called.");e.apply(this,arguments),e=null}}function b(e){return function(){null!==e&&(e.apply(this,arguments),e=null)}}null!=d&&(a=d.async),r.noConflict=function(){return d.async=a,r};var u=Object.prototype.toString,l=Array.isArray||function(e){return"[object Array]"===u.call(e)};function p(e){return l(e)||"number"==typeof e.length&&e.length>=0&&e.length%1==0}function h(e,t){for(var a=-1,n=e.length;++a<n;)t(e[a],a,e)}function m(e,t){for(var a=-1,n=e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}function v(e){return m(Array(e),function(e,t){return t})}function g(e,t){for(var a=0;a<e.length;a++)if(e[a]===t)return a;return-1}var y=Object.keys||function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t};function _(e){var t,a,n=-1;return p(e)?(t=e.length,function(){return++n<t?n:null}):(a=y(e),t=a.length,function(){return++n<t?a[n]:null})}function w(e,t){return t=null==t?e.length-1:+t,function(){for(var a=Math.max(arguments.length-t,0),n=Array(a),r=0;r<a;r++)n[r]=arguments[r+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n)}}}function A(e){return function(t,a,n){return e(t,n)}}var x="function"==typeof setImmediate&&setImmediate,k=x?function(e){x(e)}:function(e){setTimeout(e,0)};function E(e){return function(t,a,n){n=b(n||c);var r=_(t=t||[]);if(e<=0)return n(null);var i=!1,f=0,o=!1;!function c(){if(i&&f<=0)return n(null);for(;f<e&&!o;){var d=r();if(null===d)return i=!0,void(f<=0&&n(null));f+=1,a(t[d],d,s(function(e){f-=1,e?(n(e),o=!0):c()}))}}()}}function S(e){return function(t,a,n){return e(r.eachOf,t,a,n)}}function T(e){return function(t,a,n,r){return e(E(a),t,n,r)}}function C(e){return function(t,a,n){return e(r.eachOfSeries,t,a,n)}}function O(e,t,a,n){n=b(n||c);var r=p(t=t||[])?[]:{};e(t,function(e,t,n){a(e,function(e,a){r[t]=a,n(e)})},function(e){n(e,r)})}function R(e,t,a,n){var r=[];e(t,function(e,t,n){a(e,function(a){a&&r.push({index:t,value:e}),n()})},function(){n(m(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function j(e,t,a,n){R(e,t,function(e,t){a(e,function(e){t(!e)})},n)}function F(e,t,a){return function(n,r,c,i){function f(){i&&i(a(!1,void 0))}function o(e,n,r){if(!i)return r();c(e,function(n){i&&t(n)&&(i(a(!0,e)),i=c=!1),r()})}arguments.length>3?e(n,r,o,f):(i=c,c=r,e(n,o,f))}}function M(e,t){return t}function B(e,t,a){a=a||c;var n=p(t)?[]:{};e(t,function(e,t,a){e(w(function(e,r){r.length<=1&&(r=r[0]),n[t]=r,a(e)}))},function(e){a(e,n)})}function N(e,t,a,n){var r=[];e(t,function(e,t,n){a(e,function(e,t){r=r.concat(t||[]),n(e)})},function(e){n(e,r)})}function I(e,t,a){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");function n(e,t,a,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(e.started=!0,l(t)||(t=[t]),0===t.length&&e.idle())return r.setImmediate(function(){e.drain()});h(t,function(t){var r={data:t,callback:n||c};a?e.tasks.unshift(r):e.tasks.push(r),e.tasks.length===e.concurrency&&e.saturated()}),r.setImmediate(e.process)}function i(e,t){return function(){f-=1;var a=!1,n=arguments;h(t,function(e){h(o,function(t,n){t!==e||a||(o.splice(n,1),a=!0)}),e.callback.apply(e,n)}),e.tasks.length+f===0&&e.drain(),e.process()}}var f=0,o=[],d={tasks:[],concurrency:t,payload:a,saturated:c,empty:c,drain:c,started:!1,paused:!1,push:function(e,t){n(d,e,!1,t)},kill:function(){d.drain=c,d.tasks=[]},unshift:function(e,t){n(d,e,!0,t)},process:function(){for(;!d.paused&&f<d.concurrency&&d.tasks.length;){var t=d.payload?d.tasks.splice(0,d.payload):d.tasks.splice(0,d.tasks.length),a=m(t,function(e){return e.data});0===d.tasks.length&&d.empty(),f+=1,o.push(t[0]);var n=s(i(d,t));e(a,n)}},length:function(){return d.tasks.length},running:function(){return f},workersList:function(){return o},idle:function(){return d.tasks.length+f===0},pause:function(){d.paused=!0},resume:function(){if(!1!==d.paused){d.paused=!1;for(var e=Math.min(d.concurrency,d.tasks.length),t=1;t<=e;t++)r.setImmediate(d.process)}}};return d}function P(e){return w(function(t,a){t.apply(null,a.concat([w(function(t,a){"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&h(a,function(t){console[e](t)}))})]))})}function L(e){return function(t,a,n){e(v(t),a,n)}}function D(e){return w(function(t,a){var n=w(function(a){var n=this,r=a.pop();return e(t,function(e,t,r){e.apply(n,a.concat([r]))},r)});return a.length?n.apply(this,a):n})}function z(e){return w(function(t){var a=t.pop();t.push(function(){var e=arguments;n?r.setImmediate(function(){a.apply(null,e)}):a.apply(null,e)});var n=!0;e.apply(this,t),n=!1})}"object"==typeof process&&"function"==typeof process.nextTick?r.nextTick=process.nextTick:r.nextTick=k,r.setImmediate=x?k:r.nextTick,r.forEach=r.each=function(e,t,a){return r.eachOf(e,A(t),a)},r.forEachSeries=r.eachSeries=function(e,t,a){return r.eachOfSeries(e,A(t),a)},r.forEachLimit=r.eachLimit=function(e,t,a,n){return E(t)(e,A(a),n)},r.forEachOf=r.eachOf=function(e,t,a){a=b(a||c);for(var n,r=_(e=e||[]),i=0;null!=(n=r());)i+=1,t(e[n],n,s(f));function f(e){i--,e?a(e):null===n&&i<=0&&a(null)}0===i&&a(null)},r.forEachOfSeries=r.eachOfSeries=function(e,t,a){a=b(a||c);var n=_(e=e||[]),i=n();!function c(){var f=!0;if(null===i)return a(null);t(e[i],i,s(function(e){if(e)a(e);else{if(null===(i=n()))return a(null);f?r.setImmediate(c):c()}})),f=!1}()},r.forEachOfLimit=r.eachOfLimit=function(e,t,a,n){E(t)(e,a,n)},r.map=S(O),r.mapSeries=C(O),r.mapLimit=T(O),r.inject=r.foldl=r.reduce=function(e,t,a,n){r.eachOfSeries(e,function(e,n,r){a(t,e,function(e,a){t=a,r(e)})},function(e){n(e,t)})},r.foldr=r.reduceRight=function(e,t,a,n){var c=m(e,i).reverse();r.reduce(c,t,a,n)},r.transform=function(e,t,a,n){3===arguments.length&&(n=a,a=t,t=l(e)?[]:{}),r.eachOf(e,function(e,n,r){a(t,e,n,r)},function(e){n(e,t)})},r.select=r.filter=S(R),r.selectLimit=r.filterLimit=T(R),r.selectSeries=r.filterSeries=C(R),r.reject=S(j),r.rejectLimit=T(j),r.rejectSeries=C(j),r.any=r.some=F(r.eachOf,f,i),r.someLimit=F(r.eachOfLimit,f,i),r.all=r.every=F(r.eachOf,o,o),r.everyLimit=F(r.eachOfLimit,o,o),r.detect=F(r.eachOf,i,M),r.detectSeries=F(r.eachOfSeries,i,M),r.detectLimit=F(r.eachOfLimit,i,M),r.sortBy=function(e,t,a){function n(e,t){var a=e.criteria,n=t.criteria;return a<n?-1:a>n?1:0}r.map(e,function(e,a){t(e,function(t,n){t?a(t):a(null,{value:e,criteria:n})})},function(e,t){if(e)return a(e);a(null,m(t.sort(n),function(e){return e.value}))})},r.auto=function(e,t,a){"function"==typeof arguments[1]&&(a=t,t=null),a=b(a||c);var n=y(e),i=n.length;if(!i)return a(null);t||(t=i);var f={},o=0,d=!1,s=[];function u(e){s.unshift(e)}function p(){i--,h(s.slice(0),function(e){e()})}u(function(){i||a(null,f)}),h(n,function(n){if(!d){for(var c,i=l(e[n])?e[n]:[e[n]],b=w(function(e,t){if(o--,t.length<=1&&(t=t[0]),e){var c={};s=function(e,t){c[t]=e},h(y(i=f),function(e){s(i[e],e)}),c[n]=t,d=!0,a(e,c)}else f[n]=t,r.setImmediate(p);var i,s}),m=i.slice(0,i.length-1),v=m.length;v--;){if(!(c=e[m[v]]))throw new Error("Has nonexistent dependency in "+m.join(", "));if(l(c)&&g(c,n)>=0)throw new Error("Has cyclic dependencies")}_()?(o++,i[i.length-1](b,f)):u(function e(){_()&&(o++,(t=g(s,e))>=0&&s.splice(t,1),i[i.length-1](b,f));var t})}function _(){return o<t&&(e=function(e,t){return e&&f.hasOwnProperty(t)},a=!0,h(m,function(t,n,r){a=e(a,t,n,r)}),a)&&!f.hasOwnProperty(n);var e,a}})},r.retry=function(e,t,a){var n=5,c=0,i=[],f={times:n,interval:c};var o=arguments.length;if(o<1||o>3)throw new Error("Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)");function d(e,t){function a(e,a){return function(n){e(function(e,t){n(!e||a,{err:e,result:t})},t)}}function n(e){return function(t){setTimeout(function(){t(null)},e)}}for(;f.times;){var c=!(f.times-=1);i.push(a(f.task,c)),!c&&f.interval>0&&i.push(n(f.interval))}r.series(i,function(t,a){a=a[a.length-1],(e||f.callback)(a.err,a.result)})}return o<=2&&"function"==typeof e&&(a=t,t=e),"function"!=typeof e&&function(e,t){if("number"==typeof t)e.times=parseInt(t,10)||n;else{if("object"!=typeof t)throw new Error("Unsupported argument type for 'times': "+typeof t);e.times=parseInt(t.times,10)||n,e.interval=parseInt(t.interval,10)||c}}(f,e),f.callback=a,f.task=t,f.callback?d():d},r.waterfall=function(e,t){if(t=b(t||c),!l(e)){var a=new Error("First argument to waterfall must be an array of functions");return t(a)}if(!e.length)return t();!function e(a){return w(function(n,r){if(n)t.apply(null,[n].concat(r));else{var c=a.next();c?r.push(e(c)):r.push(t),z(a).apply(null,r)}})}(r.iterator(e))()},r.parallel=function(e,t){B(r.eachOf,e,t)},r.parallelLimit=function(e,t,a){B(E(t),e,a)},r.series=function(e,t){B(r.eachOfSeries,e,t)},r.iterator=function(e){return function t(a){function n(){return e.length&&e[a].apply(null,arguments),n.next()}return n.next=function(){return a<e.length-1?t(a+1):null},n}(0)},r.apply=w(function(e,t){return w(function(a){return e.apply(null,t.concat(a))})}),r.concat=S(N),r.concatSeries=C(N),r.whilst=function(e,t,a){if(a=a||c,e()){var n=w(function(r,c){r?a(r):e.apply(this,c)?t(n):a.apply(null,[null].concat(c))});t(n)}else a(null)},r.doWhilst=function(e,t,a){var n=0;return r.whilst(function(){return++n<=1||t.apply(this,arguments)},e,a)},r.until=function(e,t,a){return r.whilst(function(){return!e.apply(this,arguments)},t,a)},r.doUntil=function(e,t,a){return r.doWhilst(e,function(){return!t.apply(this,arguments)},a)},r.during=function(e,t,a){a=a||c;var n=w(function(t,n){t?a(t):(n.push(r),e.apply(this,n))}),r=function(e,r){e?a(e):r?t(n):a(null)};e(r)},r.doDuring=function(e,t,a){var n=0;r.during(function(e){n++<1?e(null,!0):t.apply(this,arguments)},e,a)},r.queue=function(e,t){return I(function(t,a){e(t[0],a)},t,1)},r.priorityQueue=function(e,t){function a(e,t){return e.priority-t.priority}var n=r.queue(e,t);return n.push=function(e,t,i){!function(e,t,n,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(e.started=!0,l(t)||(t=[t]),0===t.length)return r.setImmediate(function(){e.drain()});h(t,function(t){var f={data:t,priority:n,callback:"function"==typeof i?i:c};e.tasks.splice(function(e,t,a){for(var n=-1,r=e.length-1;n<r;){var c=n+(r-n+1>>>1);a(t,e[c])>=0?n=c:r=c-1}return n}(e.tasks,f,a)+1,0,f),e.tasks.length===e.concurrency&&e.saturated(),r.setImmediate(e.process)})}(n,e,t,i)},delete n.unshift,n},r.cargo=function(e,t){return I(e,1,t)},r.log=P("log"),r.dir=P("dir"),r.memoize=function(e,t){var a={},n={},c=Object.prototype.hasOwnProperty;t=t||i;var f=w(function(i){var f=i.pop(),o=t.apply(null,i);c.call(a,o)?r.setImmediate(function(){f.apply(null,a[o])}):c.call(n,o)?n[o].push(f):(n[o]=[f],e.apply(null,i.concat([w(function(e){a[o]=e;var t=n[o];delete n[o];for(var r=0,c=t.length;r<c;r++)t[r].apply(null,e)})])))});return f.memo=a,f.unmemoized=e,f},r.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},r.times=L(r.map),r.timesSeries=L(r.mapSeries),r.timesLimit=function(e,t,a,n){return r.mapLimit(v(e),t,a,n)},r.seq=function(){var e=arguments;return w(function(t){var a=this,n=t[t.length-1];"function"==typeof n?t.pop():n=c,r.reduce(e,t,function(e,t,n){t.apply(a,e.concat([w(function(e,t){n(e,t)})]))},function(e,t){n.apply(a,[e].concat(t))})})},r.compose=function(){return r.seq.apply(null,Array.prototype.reverse.call(arguments))},r.applyEach=D(r.eachOf),r.applyEachSeries=D(r.eachOfSeries),r.forever=function(e,t){var a=s(t||c),n=z(e);!function e(t){if(t)return a(t);n(e)}()},r.ensureAsync=z,r.constant=w(function(e){var t=[null].concat(e);return function(e){return e.apply(this,t)}}),r.wrapSync=r.asyncify=function(e){return w(function(t){var a,n,r,c=t.pop();try{a=e.apply(this,t)}catch(e){return c(e)}("function"===(r=typeof(n=a))||"object"===r&&n)&&"function"==typeof a.then?a.then(function(e){c(null,e)}).catch(function(e){c(e.message?e:new Error(e))}):c(null,a)})},"object"==typeof e&&e.exports?e.exports=r:void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},function(e,t,a){var n=a(4).EventEmitter,r=a(1).inherits,c=a(1).deprecate,i=a(44),f=a(397),o=a(1060),d=a(1057),s=a(1052),b=a(1051),u=a(1049),l=a(101),p=a(387),h=l.WriteError,m=l.ReadError,v=l.NotFoundError,g=l.OpenError,y=l.EncodingError,_=l.InitializationError,w=l.LevelUPError,A=p.getOptions,x=p.defaultOptions,k=p.dispatchError;function E(e,t){return"function"==typeof e?e:t}function S(e,t,a){if(!(this instanceof S))return new S(e,t,a);var r;if(n.call(this),this.setMaxListeners(1/0),"function"==typeof e?((t="object"==typeof t?t:{}).db=e,e=null):"object"==typeof e&&"function"==typeof e.db&&(t=e,e=null),"function"==typeof t&&(a=t,t={}),(!t||"function"!=typeof t.db)&&"string"!=typeof e){if(r=new _("Must provide a location for the database"),a)return process.nextTick(function(){a(r)});throw r}t=A(t),this.options=i(x,t),this._codec=new b(this.options),this._status="new",f(this,"location",e,"e"),this.open(a)}function T(e,t,a){if(!e._isOpening()&&!e.isOpen())return k(e,new m("Database is not open"),a),!0}function C(e,t,a){k(e,new h(t),a)}function O(e,t,a){k(e,new m(t),a)}function R(e){return function(t,a){u()[e](t,a||function(){})}}r(S,n),S.prototype.open=function(e){var t,a,n=this;if(this.isOpen())return e&&process.nextTick(function(){e(null,n)}),this;if(this._isOpening())return e&&this.once("open",function(){e(null,n)});if(this.emit("opening"),this._status="opening",this.db=new o(this.location),"function"!=typeof this.options.db&&"function"!=typeof u)throw new w("missing db factory, you need to set options.db");t=this.options.db||u(),(a=t(this.location)).open(this.options,function(t){if(t)return k(n,new g(t),e);n.db.setDb(a),n.db=a,n._status="open",e&&e(null,n),n.emit("open"),n.emit("ready")})},S.prototype.close=function(e){var t=this;if(this.isOpen())this._status="closing",this.db.close(function(){t._status="closed",t.emit("closed"),e&&e.apply(null,arguments)}),this.emit("closing"),this.db=new o(this.location);else{if("closed"===this._status&&e)return process.nextTick(e);"closing"===this._status&&e?this.once("closed",e):this._isOpening()&&this.once("open",function(){t.close(e)})}},S.prototype.isOpen=function(){return"open"===this._status},S.prototype._isOpening=function(){return"opening"===this._status},S.prototype.isClosed=function(){return/^clos/.test(this._status)},S.prototype.get=function(e,t,a){var n,r=this;if(!T(this,0,a=E(t,a))){if(null===e||void 0===e||"function"!=typeof a)return O(this,"get() requires key and callback arguments",a);t=p.getOptions(t),n=this._codec.encodeKey(e,t),t.asBuffer=this._codec.valueAsBuffer(t),this.db.get(n,t,function(n,c){if(n)return n=/notfound/i.test(n)||n.notFound?new v("Key not found in database ["+e+"]",n):new m(n),k(r,n,a);if(a){try{c=r._codec.decodeValue(c,t)}catch(e){return a(new y(e))}a(null,c)}})}},S.prototype.put=function(e,t,a,n){var r,c,i=this;if(n=E(a,n),null===e||void 0===e)return C(this,"put() requires a key argument",n);T(this,0,n)||(a=A(a),r=this._codec.encodeKey(e,a),c=this._codec.encodeValue(t,a),this.db.put(r,c,a,function(a){if(a)return k(i,new h(a),n);i.emit("put",e,t),n&&n()}))},S.prototype.del=function(e,t,a){var n,r=this;if(a=E(t,a),null===e||void 0===e)return C(this,"del() requires a key argument",a);T(this,0,a)||(t=A(t),n=this._codec.encodeKey(e,t),this.db.del(n,t,function(t){if(t)return k(r,new h(t),a);r.emit("del",e),a&&a()}))},S.prototype.batch=function(e,t,a){var n,r=this;return arguments.length?(a=E(t,a),Array.isArray(e)?void(T(this,0,a)||(t=A(t),n=(n=r._codec.encodeBatch(e,t)).map(function(e){return e.type||void 0===e.key||void 0===e.value||(e.type="put"),e}),this.db.batch(n,t,function(t){if(t)return k(r,new h(t),a);r.emit("batch",e),a&&a()}))):C(this,"batch() requires an array argument",a)):new s(this,this._codec)},S.prototype.approximateSize=c(function(e,t,a,n){var r,c,i=this;if(n=E(a,n),a=A(a),null===e||void 0===e||null===t||void 0===t||"function"!=typeof n)return O(this,"approximateSize() requires start, end and callback arguments",n);r=this._codec.encodeKey(e,a),c=this._codec.encodeKey(t,a),this.db.approximateSize(r,c,function(e,t){if(e)return k(i,new g(e),n);n&&n(null,t)})},"db.approximateSize() is deprecated. Use db.db.approximateSize() instead"),S.prototype.readStream=S.prototype.createReadStream=function(e){return(e=i({keys:!0,values:!0},this.options,e)).keyEncoding=e.keyEncoding,e.valueEncoding=e.valueEncoding,(e=this._codec.encodeLtgt(e)).keyAsBuffer=this._codec.keyAsBuffer(e),e.valueAsBuffer=this._codec.valueAsBuffer(e),"number"!=typeof e.limit&&(e.limit=-1),new d(this.db.iterator(e),i(e,{decoder:this._codec.createStreamDecoder(e)}))},S.prototype.keyStream=S.prototype.createKeyStream=function(e){return this.createReadStream(i(e,{keys:!0,values:!1}))},S.prototype.valueStream=S.prototype.createValueStream=function(e){return this.createReadStream(i(e,{keys:!1,values:!0}))},S.prototype.toString=function(){return"LevelUP"},e.exports=S,e.exports.errors=a(101),e.exports.destroy=c(R("destroy"),"levelup.destroy() is deprecated. Use leveldown.destroy() instead"),e.exports.repair=c(R("repair"),"levelup.repair() is deprecated. Use leveldown.repair() instead")},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,a){var n=a(411),r=a(1111),c=a(1110),i="[object Null]",f="[object Undefined]",o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?f:i:o&&o in Object(e)?r(e):c(e)}},function(e,t,a){var n=a(1112),r=a(407);e.exports=function(e){return null!=e&&r(e.length)&&!n(e)}},function(e,t){e.exports=function(){}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a(1114)),r=c(a(403));function c(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(n.default,1),e.exports=t.default},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,a){var n=a(30),r=a(29),c=a(141),i=a(207),f=a(58).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=c?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||f(t,e,{value:i.f(e)})}},function(e,t,a){t.f=a(28)},function(e,t,a){"use strict";var n=a(140);e.exports.f=function(e){return new function(e){var t,a;this.promise=new e(function(e,n){if(void 0!==t||void 0!==a)throw TypeError("Bad Promise constructor");t=e,a=n}),this.resolve=n(t),this.reject=n(a)}(e)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,a){var n=a(30),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t,a){var n=a(210)("keys"),r=a(138);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,a){var n=a(428),r=a(209);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t,a){var n=a(45),r=a(1168),c=a(209),i=a(211)("IE_PROTO"),f=function(){},o=function(){var e,t=a(215)("iframe"),n=c.length;for(t.style.display="none",a(426).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),o=e.F;n--;)delete o.prototype[c[n]];return o()};e.exports=Object.create||function(e,t){var a;return null!==e?(f.prototype=n(e),a=new f,f.prototype=null,a[i]=e):a=o(),void 0===t?a:r(a,t)}},function(e,t,a){var n=a(57);e.exports=function(e,t){if(!n(e))return e;var a,r;if(t&&"function"==typeof(a=e.toString)&&!n(r=a.call(e)))return r;if("function"==typeof(a=e.valueOf)&&!n(r=a.call(e)))return r;if(!t&&"function"==typeof(a=e.toString)&&!n(r=a.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,a){var n=a(57),r=a(30).document,c=n(r)&&n(r.createElement);e.exports=function(e){return c?r.createElement(e):{}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var a=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:a)(e)}},function(e,t,a){"use strict";var n=a(436),r=a(435);function c(e){var t=e;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function i(e){return"0x"+c(e.toString(16))}e.exports={arrayContainsArray:function(e,t,a){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(a)?"some":"every"](function(t){return e.indexOf(t)>=0})},intToBuffer:function(e){var t=i(e);return new Buffer(t.slice(2),"hex")},getBinarySize:function(e){if("string"!=typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return Buffer.byteLength(e,"utf8")},isHexPrefixed:n,stripHexPrefix:r,padToEven:c,intToHex:i,fromAscii:function(e){for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+c(new Buffer(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",a=0,n=e.length;for("0x"===e.substring(0,2)&&(a=2);a<n;a+=2){var r=parseInt(e.substr(a,2),16);t+=String.fromCharCode(r)}return t},toUtf8:function(e){return new Buffer(c(r(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,a){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],r=0;r<e.length;r++){var c=e[r][t];if(a&&!c)c="";else if("string"!=typeof c)throw new Error("invalid abi");n.push(c)}return n},isHexString:function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}}},function(e,t,a){var n=t;n.utils=a(42),n.common=a(109),n.sha=a(1189),n.ripemd=a(1185),n.hmac=a(1184),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(e,t,a){var n=a(82),r=n.extend,c=a(1),i=a(4).EventEmitter,f=a(53),o=a(76),d=a(41),s=a(9),b=a(143),u=["(",")","<",">","@",",",";",":","\\",'"',"/","[","]","?","=","{","}"," ",String.fromCharCode(9)];function l(e){var t;(i.call(this),this.config={maxReceivedFrameSize:1048576,maxReceivedMessageSize:8388608,fragmentOutgoingMessages:!0,fragmentationThreshold:16384,webSocketVersion:13,assembleFragments:!0,disableNagleAlgorithm:!0,closeTimeout:5e3,tlsOptions:{}},e)&&(e.tlsOptions?(t=e.tlsOptions,delete e.tlsOptions):t={},r(this.config,e),r(this.config.tlsOptions,t));switch(this._req=null,this.config.webSocketVersion){case 8:case 13:break;default:throw new Error("Requested webSocketVersion is not supported. Allowed values are 8 and 13.")}}c.inherits(l,i),l.prototype.connect=function(e,t,a,c,i){var s=this;if("string"==typeof t&&(t=t.length>0?[t]:[]),t instanceof Array||(t=[]),this.protocols=t,this.origin=a,this.url="string"==typeof e?d.parse(e):e,!this.url.protocol)throw new Error("You must specify a full WebSocket URL, including protocol.");if(!this.url.host)throw new Error("You must specify a full WebSocket URL, including hostname. Relative URLs are not supported.");this.secure="wss:"===this.url.protocol,this.protocols.forEach(function(e){for(var t=0;t<e.length;t++){var a=e.charCodeAt(t),n=e.charAt(t);if(a<33||a>126||-1!==u.indexOf(n))throw new Error('Protocol list contains invalid character "'+String.fromCharCode(a)+'"')}});this.url.port||(this.url.port={"ws:":"80","wss:":"443"}[this.url.protocol]);for(var b=new Buffer(16),l=0;l<16;l++)b[l]=Math.round(255*Math.random());this.base64nonce=b.toString("base64");var p=this.url.hostname;("ws:"===this.url.protocol&&"80"!==this.url.port||"wss:"===this.url.protocol&&"443"!==this.url.port)&&(p+=":"+this.url.port);var h,m=c||{};function v(e){s._req=null,s.emit("connectFailed",e)}r(m,{Upgrade:"websocket",Connection:"Upgrade","Sec-WebSocket-Version":this.config.webSocketVersion.toString(10),"Sec-WebSocket-Key":this.base64nonce,Host:m.Host||p}),this.protocols.length>0&&(m["Sec-WebSocket-Protocol"]=this.protocols.join(", ")),this.origin&&(13===this.config.webSocketVersion?m.Origin=this.origin:8===this.config.webSocketVersion&&(m["Sec-WebSocket-Origin"]=this.origin)),h=this.url.pathname?this.url.path:this.url.path?"/"+this.url.path:"/";var g={agent:!1};if(i&&r(g,i),r(g,{hostname:this.url.hostname,port:this.url.port,method:"GET",path:h,headers:m}),this.secure)for(var y in s.config.tlsOptions)s.config.tlsOptions.hasOwnProperty(y)&&(g[y]=s.config.tlsOptions[y]);var _=this._req=(this.secure?o:f).request(g);_.on("upgrade",function(e,t,a){s._req=null,_.removeListener("error",v),s.socket=t,s.response=e,s.firstDataChunk=a,s.validateHandshake()}),_.on("error",v),_.on("response",function(e){if(s._req=null,n.eventEmitterListenerCount(s,"httpResponse")>0)s.emit("httpResponse",e,s),e.socket&&e.socket.end();else{var t=[];for(var a in e.headers)t.push(a+": "+e.headers[a]);s.failHandshake("Server responded with a non-101 status: "+e.statusCode+" "+e.statusMessage+"\nResponse Headers Follow:\n"+t.join("\n")+"\n")}}),_.end()},l.prototype.validateHandshake=function(){var e=this.response.headers;if(this.protocols.length>0){if(this.protocol=e["sec-websocket-protocol"],!this.protocol)return void this.failHandshake("Expected a Sec-WebSocket-Protocol header.");if(-1===this.protocols.indexOf(this.protocol))return void this.failHandshake("Server did not respond with a requested protocol.")}if(e.connection&&"upgrade"===e.connection.toLocaleLowerCase())if(e.upgrade&&"websocket"===e.upgrade.toLocaleLowerCase()){var t=s.createHash("sha1");t.update(this.base64nonce+"258EAFA5-E914-47DA-95CA-C5AB0DC85B11");var a=t.digest("base64");e["sec-websocket-accept"]?e["sec-websocket-accept"]===a?this.succeedHandshake():this.failHandshake("Sec-WebSocket-Accept header from server didn't match expected value of "+a):this.failHandshake("Expected Sec-WebSocket-Accept header from server")}else this.failHandshake("Expected an Upgrade: websocket header from the server");else this.failHandshake("Expected a Connection: Upgrade header from the server")},l.prototype.failHandshake=function(e){this.socket&&this.socket.writable&&this.socket.end(),this.emit("connectFailed",new Error(e))},l.prototype.succeedHandshake=function(){var e=new b(this.socket,[],this.protocol,!0,this.config);e.webSocketVersion=this.config.webSocketVersion,e._addSocketEventListeners(),this.emit("connect",e),this.firstDataChunk.length>0&&e.handleSocketData(this.firstDataChunk),this.firstDataChunk=null},l.prototype.abort=function(){this._req&&this._req.abort()},e.exports=l},function(e,t,a){var n=a(460).BufferUtil;const r=1;function c(e,t,a){this.maskBytes=e,this.frameHeader=t,this.config=a,this.maxReceivedFrameSize=a.maxReceivedFrameSize,this.protocolError=!1,this.frameTooLarge=!1,this.invalidCloseFrameLength=!1,this.parseState=r,this.closeStatus=-1}c.prototype.addData=function(e){if(this.parseState===r&&e.length>=2){e.joinInto(this.frameHeader,0,0,2),e.advance(2);var t=this.frameHeader[0],a=this.frameHeader[1];if(this.fin=Boolean(128&t),this.rsv1=Boolean(64&t),this.rsv2=Boolean(32&t),this.rsv3=Boolean(16&t),this.mask=Boolean(128&a),this.opcode=15&t,this.length=127&a,this.opcode>=8){if(this.length>125)return this.protocolError=!0,this.dropReason="Illegal control frame longer than 125 bytes.",!0;if(!this.fin)return this.protocolError=!0,this.dropReason="Control frames must not be fragmented.",!0}126===this.length?this.parseState=2:127===this.length?this.parseState=3:this.parseState=4}if(2===this.parseState)e.length>=2&&(e.joinInto(this.frameHeader,2,0,2),e.advance(2),this.length=this.frameHeader.readUInt16BE(2,!0),this.parseState=4);else if(3===this.parseState&&e.length>=8){e.joinInto(this.frameHeader,2,0,8),e.advance(8);var c=[this.frameHeader.readUInt32BE(2,!0),this.frameHeader.readUInt32BE(6,!0)];if(0!==c[0])return this.protocolError=!0,this.dropReason="Unsupported 64-bit length frame received",!0;this.length=c[1],this.parseState=4}if(4===this.parseState&&(this.mask?e.length>=4&&(e.joinInto(this.maskBytes,0,0,4),e.advance(4),this.parseState=5):this.parseState=5),5===this.parseState){if(this.length>this.maxReceivedFrameSize)return this.frameTooLarge=!0,this.dropReason="Frame size of "+this.length.toString(10)+" bytes exceeds maximum accepted frame size",!0;if(0===this.length)return this.binaryPayload=new Buffer(0),this.parseState=6,!0;if(e.length>=this.length)return this.binaryPayload=e.take(this.length),e.advance(this.length),this.mask&&n.unmask(this.binaryPayload,this.maskBytes),8===this.opcode&&(1===this.length&&(this.binaryPayload=new Buffer(0),this.invalidCloseFrameLength=!0),this.length>=2&&(this.closeStatus=this.binaryPayload.readUInt16BE(0,!0),this.binaryPayload=this.binaryPayload.slice(2))),this.parseState=6,!0}return!1},c.prototype.throwAwayPayload=function(e){return e.length>=this.length&&(e.advance(this.length),this.parseState=6,!0)},c.prototype.toBuffer=function(e){var t,a,r,c=2,i=0,f=0;this.fin&&(i|=128),this.rsv1&&(i|=64),this.rsv2&&(i|=32),this.rsv3&&(i|=16),this.mask&&(f|=128),i|=15&this.opcode,8===this.opcode?(this.length=2,this.binaryPayload&&(this.length+=this.binaryPayload.length),(a=new Buffer(this.length)).writeUInt16BE(this.closeStatus,0,!0),this.length>2&&this.binaryPayload.copy(a,2)):this.binaryPayload?(a=this.binaryPayload,this.length=a.length):this.length=0,this.length<=125?f|=127&this.length:this.length>125&&this.length<=65535?(f|=126,c+=2):this.length>65535&&(f|=127,c+=8);var o=new Buffer(this.length+c+(this.mask?4:0));return o[0]=i,o[1]=f,r=2,this.length>125&&this.length<=65535?(o.writeUInt16BE(this.length,r,!0),r+=2):this.length>65535&&(o.writeUInt32BE(0,r,!0),o.writeUInt32BE(this.length,r+4,!0),r+=8),this.mask?(t=e?0:4294967295*Math.random()|0,this.maskBytes.writeUInt32BE(t,0,!0),this.maskBytes.copy(o,r),r+=4,a&&n.mask(a,this.maskBytes,o,r,this.length)):a&&a.copy(o,r),o},c.prototype.toString=function(){return"Opcode: "+this.opcode+", fin: "+this.fin+", length: "+this.length+", hasPayload: "+Boolean(this.binaryPayload)+", masked: "+this.mask},e.exports=c},function(e,t,a){for(var n=a(9),r=a(1),c=a(41),i=a(4).EventEmitter,f=a(143),o=/,\s*/,d=/;\s*/,s=/[\r\n]/g,b=/,\s*/,u=["(",")","<",">","@",",",";",":","\\",'"',"/","[","]","?","=","{","}"," ",String.fromCharCode(9)],l=[String.fromCharCode(127)],p=0;p<31;p++)l.push(String.fromCharCode(p));var h=/([\x00-\x20\x22\x28\x29\x2c\x2f\x3a-\x3f\x40\x5b-\x5e\x7b\x7d\x7f])/,m=/[^\x21\x23-\x2b\x2d-\x3a\x3c-\x5b\x5d-\x7e]/,v=/^"[^"]*"$/,g=/[\x00-\x20\x3b]/g,y=/[;,] */,_={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",406:"Not Acceptable",407:"Proxy Authorization Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Long",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function w(e,t,a){i.call(this),this.socket=e,this.httpRequest=t,this.resource=t.url,this.remoteAddress=e.remoteAddress,this.remoteAddresses=[this.remoteAddress],this.serverConfig=a,this._socketIsClosing=!1,this._socketCloseHandler=this._handleSocketCloseBeforeAccept.bind(this),this.socket.on("end",this._socketCloseHandler),this.socket.on("close",this._socketCloseHandler),this._resolved=!1}function A(e){process.nextTick(function(){e.drop(1006,"TCP connection lost before handshake completed.",!0)})}r.inherits(w,i),w.prototype.readHandshake=function(){var e=this,t=this.httpRequest;if(this.resourceURL=c.parse(this.resource,!0),this.host=t.headers.host,!this.host)throw new Error("Client must provide a Host header.");if(this.key=t.headers["sec-websocket-key"],!this.key)throw new Error("Client must provide a value for Sec-WebSocket-Key.");if(this.webSocketVersion=parseInt(t.headers["sec-websocket-version"],10),!this.webSocketVersion||isNaN(this.webSocketVersion))throw new Error("Client must provide a value for Sec-WebSocket-Version.");switch(this.webSocketVersion){case 8:case 13:break;default:var a=new Error("Unsupported websocket client version: "+this.webSocketVersion+"Only versions 8 and 13 are supported.");throw a.httpCode=426,a.headers={"Sec-WebSocket-Version":"13"},a}13===this.webSocketVersion?this.origin=t.headers.origin:8===this.webSocketVersion&&(this.origin=t.headers["sec-websocket-origin"]);var n=t.headers["sec-websocket-protocol"];(this.protocolFullCaseMap={},this.requestedProtocols=[],n)&&n.split(o).forEach(function(t){var a=t.toLocaleLowerCase();e.requestedProtocols.push(a),e.protocolFullCaseMap[a]=t});if(!this.serverConfig.ignoreXForwardedFor&&t.headers["x-forwarded-for"]){var r=this.remoteAddress;this.remoteAddresses=t.headers["x-forwarded-for"].split(b),this.remoteAddresses.push(r),this.remoteAddress=this.remoteAddresses[0]}var i=t.headers["sec-websocket-extensions"];this.requestedExtensions=this.parseExtensions(i);var f=t.headers.cookie;this.cookies=this.parseCookies(f)},w.prototype.parseExtensions=function(e){if(!e||0===e.length)return[];var t=e.toLocaleLowerCase().split(o);return t.forEach(function(e,t,a){var n=e.split(d),r=n[0],c=n.slice(1);c.forEach(function(e,t,a){var n=e.split("="),r={name:n[0],value:n[1]};a.splice(t,1,r)});var i={name:r,params:c};a.splice(t,1,i)}),t},w.prototype.parseCookies=function(e){if(!e||"string"!=typeof e)return[];var t=[];return e.split(y).forEach(function(e){var a=e.indexOf("=");if(-1!==a){var n=e.substr(0,a).trim(),r=e.substr(++a,e.length).trim();'"'===r[0]&&(r=r.slice(1,-1)),t.push({name:n,value:decodeURIComponent(r)})}else t.push({name:e,value:null})}),t},w.prototype.accept=function(e,t,a){var r;this._verifyResolution(),e?void 0===(r=this.protocolFullCaseMap[e.toLocaleLowerCase()])&&(r=e):r=e,this.protocolFullCaseMap=null;var c=n.createHash("sha1");c.update(this.key+"258EAFA5-E914-47DA-95CA-C5AB0DC85B11");var i="HTTP/1.1 101 Switching Protocols\r\nUpgrade: websocket\r\nConnection: Upgrade\r\nSec-WebSocket-Accept: "+c.digest("base64")+"\r\n";if(r){for(var o=0;o<r.length;o++){var d=r.charCodeAt(o),b=r.charAt(o);if(d<33||d>126||-1!==u.indexOf(b))throw this.reject(500),new Error('Illegal character "'+String.fromCharCode(b)+'" in subprotocol.')}if(-1===this.requestedProtocols.indexOf(e))throw this.reject(500),new Error("Specified protocol was not requested by the client.");r=r.replace(s,""),i+="Sec-WebSocket-Protocol: "+r+"\r\n"}if(this.requestedProtocols=null,t&&(t=t.replace(s,""),13===this.webSocketVersion?i+="Origin: "+t+"\r\n":8===this.webSocketVersion&&(i+="Sec-WebSocket-Origin: "+t+"\r\n")),a){if(!Array.isArray(a))throw this.reject(500),new Error('Value supplied for "cookies" argument must be an array.');var l={};a.forEach(function(e){if(!e.name||!e.value)throw this.reject(500),new Error('Each cookie to set must at least provide a "name" and "value"');if(e.name=e.name.replace(g,""),e.value=e.value.replace(g,""),l[e.name])throw this.reject(500),new Error("You may not specify the same cookie name twice.");l[e.name]=!0;var t=e.name.match(h);if(t)throw this.reject(500),new Error("Illegal character "+t[0]+" in cookie name");if(t=e.value.match(v)?e.value.slice(1,-1).match(m):e.value.match(m))throw this.reject(500),new Error("Illegal character "+t[0]+" in cookie value");var a=[e.name+"="+e.value];if(e.path){if(t=e.path.match(g))throw this.reject(500),new Error("Illegal character "+t[0]+" in cookie path");a.push("Path="+e.path)}if(e.domain){if("string"!=typeof e.domain)throw this.reject(500),new Error("Domain must be specified and must be a string.");if(t=e.domain.match(g))throw this.reject(500),new Error("Illegal character "+t[0]+" in cookie domain");a.push("Domain="+e.domain.toLowerCase())}if(e.expires){if(!(e.expires instanceof Date))throw this.reject(500),new Error('Value supplied for cookie "expires" must be a vaild date object');a.push("Expires="+e.expires.toGMTString())}if(e.maxage){var n=e.maxage;if("string"==typeof n&&(n=parseInt(n,10)),isNaN(n)||n<=0)throw this.reject(500),new Error('Value supplied for cookie "maxage" must be a non-zero number');n=Math.round(n),a.push("Max-Age="+n.toString(10))}if(e.secure){if("boolean"!=typeof e.secure)throw this.reject(500),new Error('Value supplied for cookie "secure" must be of type boolean');a.push("Secure")}if(e.httponly){if("boolean"!=typeof e.httponly)throw this.reject(500),new Error('Value supplied for cookie "httponly" must be of type boolean');a.push("HttpOnly")}i+="Set-Cookie: "+a.join(";")+"\r\n"}.bind(this))}this._resolved=!0,this.emit("requestResolved",this),i+="\r\n";var p=new f(this.socket,[],e,!1,this.serverConfig);p.webSocketVersion=this.webSocketVersion,p.remoteAddress=this.remoteAddress,p.remoteAddresses=this.remoteAddresses;var y=this;return this._socketIsClosing?A(p):this.socket.write(i,"ascii",function(e){e?A(p):(y._removeSocketCloseListeners(),p._addSocketEventListeners())}),this.emit("requestAccepted",p),p},w.prototype.reject=function(e,t,a){this._verifyResolution(),this._resolved=!0,this.emit("requestResolved",this),"number"!=typeof e&&(e=403);var n="HTTP/1.1 "+e+" "+_[e]+"\r\nConnection: close\r\n";if(t&&(n+="X-WebSocket-Reject-Reason: "+(t=t.replace(s,""))+"\r\n"),a)for(var r in a){var c=a[r].toString().replace(s,"");n+=r.replace(s,"")+": "+c+"\r\n"}n+="\r\n",this.socket.end(n,"ascii"),this.emit("requestRejected",this)},w.prototype._handleSocketCloseBeforeAccept=function(){this._socketIsClosing=!0,this._removeSocketCloseListeners()},w.prototype._removeSocketCloseListeners=function(){this.socket.removeListener("end",this._socketCloseHandler),this.socket.removeListener("close",this._socketCloseHandler)},w.prototype._verifyResolution=function(){if(this._resolved)throw new Error("WebSocketRequest may only be accepted or rejected one time.")},e.exports=w},function(e,t,a){var n=a(21),r=a(111);e.exports={toJSON:function(e,t){return{number:n.rpcQuantityHexString(e.header.number),hash:n.hex(e.hash()),parentHash:n.hex(e.header.parentHash),mixHash:"0x"+new Array(32).fill("10").join(""),nonce:n.rpcDataHexString(n.hex(e.header.nonce),16),sha3Uncles:n.hex(e.header.uncleHash),logsBloom:n.hex(e.header.bloom),transactionsRoot:n.hex(e.header.transactionsTrie),stateRoot:n.hex(e.header.stateRoot),receiptsRoot:n.hex(e.header.receiptTrie),miner:n.hex(e.header.coinbase),difficulty:n.hex(e.header.difficulty),totalDifficulty:n.hex(e.header.difficulty),extraData:n.rpcDataHexString(n.hex(e.header.extraData)),size:n.hex(1e3),gasLimit:n.hex(e.header.gasLimit),gasUsed:n.hex(e.header.gasUsed),timestamp:n.hex(e.header.timestamp),transactions:e.transactions.map(function(a){return t?r.toJSON(a,e):n.hex(a.hash())}),uncles:[]}}}},function(e,t,a){a(21);var n=a(225),r=a(19),c=a(102);e.exports={encode:function(e,t){var a=e.toJSON(!0);r.map(e.transactions,function(e,t){n.encode(e,t)},function(e,n){if(e)return t(e);a.transactions=n,t(null,a)})},decode:function(e,t){var a=e.transactions;e.transactions=[];var i=new c(e);r.eachSeries(a,function(e,t){n.decode(e,function(e,a){if(e)return t(e);i.transactions.push(a),t()})},function(e){if(e)return t(e);t(null,i)})}}},function(e,t,a){var n=a(21),r=a(16),c=a(134);e.exports={encode:function(e,t){var a=e.toJSON(!0);a.from=n.hex(e.from),a.hash=n.hex(e.hash()),t(null,a)},decode:function(e,t){t(null,new c({nonce:r.toBuffer(e.nonce),value:r.toBuffer(e.value),to:r.toBuffer(e.to),from:r.toBuffer(e.from),gasLimit:r.toBuffer(e.gasLimit),gasPrice:r.toBuffer(e.gasPrice),data:r.toBuffer(e.data),v:r.toBuffer(e.v),r:r.toBuffer(e.r),s:r.toBuffer(e.s)}))}}},function(e,t){function a(e){this._db=e,this._operations=[],this._written=!1}a.prototype._serializeKey=function(e){return this._db._serializeKey(e)},a.prototype._serializeValue=function(e){return this._db._serializeValue(e)},a.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},a.prototype.put=function(e,t){this._checkWritten();var a=this._db._checkKey(e,"key",this._db._isBuffer);if(a)throw a;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},a.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},a.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},a.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=a},function(e,t){function a(e){this.db=e,this._ended=!1,this._nexting=!1}a.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next(function(){t._nexting=!1,e.apply(null,arguments)}):void process.nextTick(function(){t._nexting=!1,e()}))},a.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=a},function(e,t,a){var n=a(44),r=a(227),c=a(226);function i(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}i.prototype.open=function(e,t){var a=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,function(e){if(e)return a.status=n,t(e);a.status="open",t()})):(this.status="open",process.nextTick(t))},i.prototype.close=function(e){var t=this,a=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close(function(n){if(n)return t.status=a,e(n);t.status="closed",e()})):(this.status="closed",process.nextTick(e))},i.prototype.get=function(e,t,a){var n;if("function"==typeof t&&(a=t),"function"!=typeof a)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?a(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,a):void process.nextTick(function(){a(new Error("NotFound"))}))},i.prototype.put=function(e,t,a,n){var r;if("function"==typeof a&&(n=a),"function"!=typeof n)throw new Error("put() requires a callback argument");return(r=this._checkKey(e,"key"))?n(r):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof a&&(a={}),"function"==typeof this._put?this._put(e,t,a,n):void process.nextTick(n))},i.prototype.del=function(e,t,a){var n;if("function"==typeof t&&(a=t),"function"!=typeof a)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?a(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,a):void process.nextTick(a))},i.prototype.batch=function(e,t,a){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(a=t),"function"==typeof e&&(a=e),"function"!=typeof a)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return a(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,r,c=0,i=e.length;c<i;c++)if("object"==typeof(n=e[c])){if(r=this._checkKey(n.type,"type"))return a(r);if(r=this._checkKey(n.key,"key"))return a(r)}if("function"==typeof this._batch)return this._batch(e,t,a);process.nextTick(a)},i.prototype.approximateSize=function(e,t,a){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof a)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,a);process.nextTick(function(){a(null,0)})},i.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach(function(a){e[a]&&t._isBuffer(e[a])&&0===e[a].length&&delete e[a]}),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},i.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new r(this)},i.prototype._chainedBatch=function(){return new c(this)},i.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},i.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},i.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},i.prototype._checkKey=function(e,t){return null===e||void 0===e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=i},function(e,t){function a(e){this._db=e,this._operations=[],this._written=!1}a.prototype._serializeKey=function(e){return this._db._serializeKey(e)},a.prototype._serializeValue=function(e){return this._db._serializeValue(e)},a.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},a.prototype.put=function(e,t){this._checkWritten();var a=this._db._checkKey(e,"key",this._db._isBuffer);if(a)throw a;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},a.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},a.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},a.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=a},function(e,t){function a(e){this.db=e,this._ended=!1,this._nexting=!1}a.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next(function(){t._nexting=!1,e.apply(null,arguments)}):void process.nextTick(function(){t._nexting=!1,e()}))},a.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=a},function(e,t,a){var n=a(44),r=a(230),c=a(229);function i(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}i.prototype.open=function(e,t){var a=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,function(e){if(e)return a.status=n,t(e);a.status="open",t()})):(this.status="open",process.nextTick(t))},i.prototype.close=function(e){var t=this,a=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close(function(n){if(n)return t.status=a,e(n);t.status="closed",e()})):(this.status="closed",process.nextTick(e))},i.prototype.get=function(e,t,a){var n;if("function"==typeof t&&(a=t),"function"!=typeof a)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?a(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,a):void process.nextTick(function(){a(new Error("NotFound"))}))},i.prototype.put=function(e,t,a,n){var r;if("function"==typeof a&&(n=a),"function"!=typeof n)throw new Error("put() requires a callback argument");return(r=this._checkKey(e,"key"))?n(r):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof a&&(a={}),"function"==typeof this._put?this._put(e,t,a,n):void process.nextTick(n))},i.prototype.del=function(e,t,a){var n;if("function"==typeof t&&(a=t),"function"!=typeof a)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?a(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,a):void process.nextTick(a))},i.prototype.batch=function(e,t,a){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(a=t),"function"==typeof e&&(a=e),"function"!=typeof a)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return a(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,r,c=0,i=e.length;c<i;c++)if("object"==typeof(n=e[c])){if(r=this._checkKey(n.type,"type"))return a(r);if(r=this._checkKey(n.key,"key"))return a(r)}if("function"==typeof this._batch)return this._batch(e,t,a);process.nextTick(a)},i.prototype.approximateSize=function(e,t,a){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof a)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,a);process.nextTick(function(){a(null,0)})},i.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach(function(a){e[a]&&t._isBuffer(e[a])&&0===e[a].length&&delete e[a]}),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},i.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new r(this)},i.prototype._chainedBatch=function(){return new c(this)},i.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},i.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},i.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},i.prototype._checkKey=function(e,t){return null===e||void 0===e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=i},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var a=arguments[t];for(var n in a)a.hasOwnProperty(n)&&(e[n]=a[n])}return e}},function(e,t,a){e.exports=i;var n=a(144),r=a(18);function c(e,t){this.afterTransform=function(e,a){return function(e,t,a){var n=e._transformState;n.transforming=!1;var r=n.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==a&&void 0!==a&&e.push(a);r&&r(t);var c=e._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&e._read(c.highWaterMark)}(t,e,a)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e){if(!(this instanceof i))return new i(e);n.call(this,e);this._transformState=new c(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){f(t,e)}):f(t)})}function f(e,t){if(t)return e.emit("error",t);var a=e._writableState,n=(e._readableState,e._transformState);if(a.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}r.inherits=a(0),r.inherits(i,n),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,a){throw new Error("not implemented")},i.prototype._write=function(e,t,a){var n=this._transformState;if(n.writecb=a,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,a){e.exports=f;var n=a(23).Buffer;f.WritableState=i;var r=a(18);r.inherits=a(0);var c=a(5);function i(e,t){var a=(e=e||{}).highWaterMark;this.highWaterMark=a||0===a?a:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var a=e._writableState,n=a.sync,r=a.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(a),t)!function(e,t,a,n,r){a?process.nextTick(function(){r(n)}):r(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,0,n,t,r);else{var c=s(e,a);c||a.bufferProcessing||!a.buffer.length||function(e,t){t.bufferProcessing=!0;for(var a=0;a<t.buffer.length;a++){var n=t.buffer[a],r=n.chunk,c=n.encoding,i=n.callback,f=t.objectMode?1:r.length;if(o(e,t,f,r,c,i),t.writing){a++;break}}t.bufferProcessing=!1,a<t.buffer.length?t.buffer=t.buffer.slice(a):t.buffer.length=0}(e,a),n?process.nextTick(function(){d(e,a,c,r)}):d(e,a,c,r)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function f(e){var t=a(144);if(!(this instanceof f||this instanceof t))return new f(e);this._writableState=new i(e,this),this.writable=!0,c.call(this)}function o(e,t,a,n,r,c){t.writelen=a,t.writecb=c,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1}function d(e,t,a,n){a||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),n(),a&&b(e,t)}function s(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function b(e,t){var a=s(0,t);return a&&(t.finished=!0,e.emit("finish")),a}r.inherits(f,c),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(e,t,a){var r=this._writableState,c=!1;return"function"==typeof t&&(a=t,t=null),n.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof a&&(a=function(){}),r.ended?function(e,t,a){var n=new Error("write after end");e.emit("error",n),process.nextTick(function(){a(n)})}(this,0,a):function(e,t,a,r){var c=!0;if(!n.isBuffer(a)&&"string"!=typeof a&&null!==a&&void 0!==a&&!t.objectMode){var i=new TypeError("Invalid non-string/buffer chunk");e.emit("error",i),process.nextTick(function(){r(i)}),c=!1}return c}(this,r,e,a)&&(c=function(e,t,a,r,c){a=function(e,t,a){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new n(t,a)),t}(t,a,r),n.isBuffer(a)&&(r="buffer");var i=t.objectMode?1:a.length;t.length+=i;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);t.writing?t.buffer.push(new function(e,t,a){this.chunk=e,this.encoding=t,this.callback=a}(a,r,c)):o(e,t,i,a,r,c);return f}(this,r,e,t,a)),c},f.prototype._write=function(e,t,a){a(new Error("not implemented"))},f.prototype.end=function(e,t,a){var n=this._writableState;"function"==typeof e?(a=e,e=null,t=null):"function"==typeof t&&(a=t,t=null),void 0!==e&&null!==e&&this.write(e,t),n.ending||n.finished||function(e,t,a){t.ending=!0,b(e,t),a&&(t.finished?process.nextTick(a):e.once("finish",a));t.ended=!0}(this,n,a)}},function(e,t,a){var n=a(23).Buffer,r=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var c=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!r(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=i)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function i(e){return e.toString(this.encoding)}function f(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function o(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}c.prototype.write=function(e){for(var t="";this.charLength;){var a=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,a),this.charReceived+=a,this.charReceived<this.charLength)return"";if(e=e.slice(a,e.length),!((r=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var r;n=(t+=e.toString(this.encoding,0,n)).length-1;if((r=t.charCodeAt(n))>=55296&&r<=56319){var c=this.surrogateSize;return this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,c,0,c),e.copy(this.charBuffer,0,0,c),t.substring(0,n)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var a=e[e.length-t];if(1==t&&a>>5==6){this.charLength=2;break}if(t<=2&&a>>4==14){this.charLength=3;break}if(t<=3&&a>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var a=this.charReceived,n=this.charBuffer,r=this.encoding;t+=n.slice(0,a).toString(r)}return t}},function(e,t,a){e.exports=s;var n=a(492),r=a(23).Buffer;s.ReadableState=d;var c=a(4).EventEmitter;c.listenerCount||(c.listenerCount=function(e,t){return e.listeners(t).length});var i,f=a(5),o=a(18);function d(e,t){var n=(e=e||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(i||(i=a(235).StringDecoder),this.decoder=new i(e.encoding),this.encoding=e.encoding)}function s(e){if(!(this instanceof s))return new s(e);this._readableState=new d(e,this),this.readable=!0,f.call(this)}function b(e,t,a,n,c){var i=function(e,t){var a=null;r.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk"));return a}(t,a);if(i)e.emit("error",i);else if(null===a||void 0===a)t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var a=t.decoder.end();a&&a.length&&(t.buffer.push(a),t.length+=t.objectMode?1:a.length)}t.ended=!0,t.length>0?p(e):_(e)}(e,t);else if(t.objectMode||a&&a.length>0)if(t.ended&&!c){var f=new Error("stream.push() after EOF");e.emit("error",f)}else if(t.endEmitted&&c){f=new Error("stream.unshift() after end event");e.emit("error",f)}else!t.decoder||c||n||(a=t.decoder.write(a)),t.length+=t.objectMode?1:a.length,c?t.buffer.unshift(a):(t.reading=!1,t.buffer.push(a)),t.needReadable&&p(e),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(function(){!function(e,t){var a=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),a!==t.length);)a=t.length;t.readingMore=!1}(e,t)}))}(e,t);else c||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}o.inherits=a(0),o.inherits(s,f),s.prototype.push=function(e,t){var a=this._readableState;return"string"!=typeof e||a.objectMode||(t=t||a.defaultEncoding)!==a.encoding&&(e=new r(e,t),t=""),b(this,a,e,t,!1)},s.prototype.unshift=function(e){return b(this,this._readableState,e,"",!0)},s.prototype.setEncoding=function(e){i||(i=a(235).StringDecoder),this._readableState.decoder=new i(e),this._readableState.encoding=e};var u=8388608;function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=u)e=u;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function p(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?process.nextTick(function(){h(e)}):h(e))}function h(e){e.emit("readable")}function m(e){var t,a=e._readableState;function n(e,n,r){!1===e.write(t)&&a.awaitDrain++}for(a.awaitDrain=0;a.pipesCount&&null!==(t=e.read());)if(1===a.pipesCount?n(a.pipes):w(a.pipes,n),e.emit("data",t),a.awaitDrain>0)return;if(0===a.pipesCount)return a.flowing=!1,void(c.listenerCount(e,"data")>0&&g(e));a.ranOut=!0}function v(){this._readableState.ranOut&&(this._readableState.ranOut=!1,m(this))}function g(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var a=t||!1,n=!1;e.readable=!0,e.pipe=f.prototype.pipe,e.on=e.addListener=f.prototype.on,e.on("readable",function(){var t;for(n=!0;!a&&null!==(t=e.read());)e.emit("data",t);null===t&&(n=!1,e._readableState.needReadable=!0)}),e.pause=function(){a=!0,this.emit("pause")},e.resume=function(){a=!1,n?process.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function y(e,t){var a,n=t.buffer,c=t.length,i=!!t.decoder,f=!!t.objectMode;if(0===n.length)return null;if(0===c)a=null;else if(f)a=n.shift();else if(!e||e>=c)a=i?n.join(""):r.concat(n,c),n.length=0;else{if(e<n[0].length)a=(b=n[0]).slice(0,e),n[0]=b.slice(e);else if(e===n[0].length)a=n.shift();else{a=i?"":new r(e);for(var o=0,d=0,s=n.length;d<s&&o<e;d++){var b=n[0],u=Math.min(e-o,b.length);i?a+=b.slice(0,u):b.copy(a,o,0,u),u<b.length?n[0]=b.slice(u):n.shift(),o+=u}}}return a}function _(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function w(e,t){for(var a=0,n=e.length;a<n;a++)t(e[a],a)}s.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var a,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p(this),null;if(0===(e=l(e,t))&&t.ended)return a=null,t.length>0&&t.decoder&&(a=y(e,t),t.length-=a.length),0===t.length&&_(this),a;var r=t.needReadable;return t.length-e<=t.highWaterMark&&(r=!0),(t.ended||t.reading)&&(r=!1),r&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=l(n,t)),null===(a=e>0?y(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&_(this),a},s.prototype._read=function(e){this.emit("error",new Error("not implemented"))},s.prototype.pipe=function(e,t){var a=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1;var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?o:s;function f(e){e===a&&s()}function o(){e.end()}r.endEmitted?process.nextTick(i):a.once("end",i),e.on("unpipe",f);var d=function(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&m(e)}}(a);function s(){e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("drain",d),e.removeListener("error",b),e.removeListener("unpipe",f),a.removeListener("end",o),a.removeListener("end",s),e._writableState&&!e._writableState.needDrain||d()}function b(t){p(),e.removeListener("error",b),0===c.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",l),p()}function l(){e.removeListener("close",u),p()}function p(){a.unpipe(e)}return e.on("drain",d),e._events&&e._events.error?n(e._events.error)?e._events.error.unshift(b):e._events.error=[b,e._events.error]:e.on("error",b),e.once("close",u),e.once("finish",l),e.emit("pipe",a),r.flowing||(this.on("readable",v),r.flowing=!0,process.nextTick(function(){m(a)})),e},s.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",v),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var a=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",v),t.flowing=!1;for(var r=0;r<n;r++)a[r].emit("unpipe",this);return this}return-1===(r=function(e,t){for(var a=0,n=e.length;a<n;a++)if(e[a]===t)return a;return-1}(t.pipes,e))?this:(t.pipes.splice(r,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},s.prototype.on=function(e,t){var a=f.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||g(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&p(this):this.read(0))}return a},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){g(this),this.read(0),this.emit("resume")},s.prototype.pause=function(){g(this,!0),this.emit("pause")},s.prototype.wrap=function(e){var t=this._readableState,a=!1,n=this;for(var r in e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(r){(t.decoder&&(r=t.decoder.write(r)),!t.objectMode||null!==r&&void 0!==r)&&((t.objectMode||r&&r.length)&&(n.push(r)||(a=!0,e.pause())))}),e)"function"==typeof e[r]&&void 0===this[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));return w(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){a&&(a=!1,e.resume())},n},s._fromList=y},function(e,t){var a=["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le"];e.exports=function(){function e(e){return void 0===e||null===e||Buffer.isBuffer(e)}var t={};return t.utf8=t["utf-8"]={encode:function(t){return e(t)?t:String(t)},decode:function(e){return e},buffer:!1,type:"utf8"},t.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},t.binary={encode:function(t){return e(t)?t:new Buffer(t)},decode:function(e){return e},buffer:!0,type:"binary"},a.forEach(function(a){t[a]||(t[a]={encode:function(t){return e(t)?t:new Buffer(t,a)},decode:function(e){return e.toString(a)},buffer:!0,type:a})}),t}()},function(e,t){function a(e,t){return Object.hasOwnProperty.call(e,t)}function n(e){return void 0!==e&&""!==e}function a(e,t){return Object.hasOwnProperty.call(e,t)}function r(e,t){return Object.hasOwnProperty.call(e,t)&&t}t.compare=function(e,t){if(Buffer.isBuffer(e)){for(var a=Math.min(e.length,t.length),n=0;n<a;n++){var r=e[n]-t[n];if(r)return r}return e.length-t.length}return e<t?-1:e>t?1:0};var c=t.lowerBoundKey=function(e){return r(e,"gt")||r(e,"gte")||r(e,"min")||(e.reverse?r(e,"end"):r(e,"start"))||void 0},i=t.lowerBound=function(e){var t=c(e);return t&&e[t]},f=t.lowerBoundInclusive=function(e){return!a(e,"gt")},o=t.upperBoundInclusive=function(e){return!a(e,"lt")},d=t.lowerBoundExclusive=function(e){return!f(e)},s=t.upperBoundExclusive=function(e){return!o(e)},b=t.upperBoundKey=function(e){return r(e,"lt")||r(e,"lte")||r(e,"max")||(e.reverse?r(e,"start"):r(e,"end"))||void 0},u=t.upperBound=function(e){var t=b(e);return t&&e[t]};function l(e){return e}t.toLtgt=function(e,n,r,c,i){n=n||{},r=r||l;var f=arguments.length>3,o=t.lowerBoundKey(e),d=t.upperBoundKey(e);return o?"gt"===o?n.gt=r(e.gt,!1):n.gte=r(e[o],!1):f&&(n.gte=r(c,!1)),d?"lt"===d?n.lt=r(e.lt,!0):n.lte=r(e[d],!0):f&&(n.lte=r(i,!0)),null!=e.reverse&&(n.reverse=!!e.reverse),a(n,"max")&&delete n.max,a(n,"min")&&delete n.min,a(n,"start")&&delete n.start,a(n,"end")&&delete n.end,n},t.contains=function(e,a,r){r=r||t.compare;var c=i(e);if(n(c)&&((f=r(a,c))<0||0===f&&d(e)))return!1;var f,o=u(e);if(n(o)&&((f=r(a,o))>0||0===f&&s(e)))return!1;return!0},t.filter=function(e,a){return function(n){return t.contains(e,n,a)}}},function(e,t,a){var n=a(238);function r(e){return Array.isArray(e)||Buffer.isBuffer(e)}function c(e){return"string"==typeof e||"number"==typeof e}function i(e,t){return Object.hasOwnProperty.call(e,t)}function f(e,t){if(r(e)&&r(t)){for(var a=Math.min(e.length,t.length),n=0;n<a;n++){var i=f(e[n],t[n]);if(i)return i}return e.length-t.length}if(c(e)&&c(t))return e<t?-1:e>t?1:0;throw new Error("items not comparable:"+JSON.stringify(e)+" "+JSON.stringify(t))}function o(e,t){if(e.length>t.length)return!1;var a=e.length-1,n=e[a],c=t[a];if(typeof n!=typeof c)return!1;if("string"==typeof n&&0!=c.indexOf(n))return!1;for(1==e.length&&r(n)&&a++;a--;)if(f(e[a],t[a]))return!1;return!0}(t=e.exports=function(e,t,a){return a=a||f,r(e)?o(e,t):n.contains(e,t,a)}).compare=f,t.prefix=o,t.addPrefix=function(e,t){var a=n.toLtgt(t,null,function(t){return[e,t]});return i(a,"gte")||i(a,"lte")?a:[e]}},function(e,t,a){a(508);var n=function(e,t){return parseInt(e.slice(2*t+2,2*t+4),16)},r=function(e){return(e.length-2)/2},c=function(e){for(var t=[],a=2,n=e.length;a<n;a+=2)t.push(parseInt(e.slice(a,a+2),16));return t},i=function(e){for(var t="0x",a=0,n=e.length;a<n;++a){var r=e[a];t+=(r<16?"0":"")+r.toString(16)}return t};e.exports={random:function(e){var t=void 0;t="undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?window.crypto.getRandomValues(new Uint8Array(e)):a(9).randomBytes(e);for(var n="0x",r=0;r<e;++r)n+=("00"+t[r].toString(16)).slice(-2);return n},length:r,concat:function(e,t){return e.concat(t.slice(2))},flatten:function(e){return"0x"+e.reduce(function(e,t){return e+t.slice(2)},"")},slice:function(e,t,a){return"0x"+a.slice(2*e+2,2*t+2)},reverse:function(e){for(var t="0x",a=0,n=r(e);a<n;++a)t+=e.slice(2*(n-a),2*(n-a+1));return t},pad:function e(t,a){return a.length===2*t+2?a:e(t,"0x0"+a.slice(2))},padRight:function e(t,a){return a.length===2*t+2?a:e(t,a+"0")},fromAscii:function(e){for(var t="0x",a=0;a<e.length;++a)t+=("00"+e.charCodeAt(a).toString(16)).slice(-2);return t},toAscii:function(e){for(var t="",a=2;a<e.length;a+=2)t+=String.fromCharCode(parseInt(e.slice(a,a+2),16));return t},fromString:function(e){for(var t=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},a="0x",n=0;n!=e.length;n++){var r=e.charCodeAt(n);if(r<128)a+=t(r);else{if(r<2048)a+=t(r>>6|192);else{if(r>55295&&r<56320){if(++n==e.length)return null;var c=e.charCodeAt(n);if(c<56320||c>57343)return null;a+=t((r=65536+((1023&r)<<10)+(1023&c))>>18|240),a+=t(r>>12&63|128)}else a+=t(r>>12|224);a+=t(r>>6&63|128)}a+=t(63&r|128)}}return a},toString:function(e){for(var t="",a=0,c=r(e);a<c;){var i=n(e,a++);if(i>127){if(i>191&&i<224){if(a>=c)return null;i=(31&i)<<6|63&n(e,a)}else if(i>223&&i<240){if(a+1>=c)return null;i=(15&i)<<12|(63&n(e,a))<<6|63&n(e,++a)}else{if(!(i>239&&i<248))return null;if(a+2>=c)return null;i=(7&i)<<18|(63&n(e,a))<<12|(63&n(e,++a))<<6|63&n(e,++a)}++a}if(i<=65535)t+=String.fromCharCode(i);else{if(!(i<=1114111))return null;i-=65536,t+=String.fromCharCode(i>>10|55296),t+=String.fromCharCode(1023&i|56320)}}return t},fromNumber:function(e){var t=e.toString(16);return t.length%2==0?"0x"+t:"0x0"+t},toNumber:function(e){return parseInt(e.slice(2),16)},fromNat:function(e){return"0x0"===e?"0x":e.length%2==0?e:"0x0"+e.slice(2)},toNat:function(e){return"0"===e[2]?"0x"+e.slice(3):e},fromArray:i,toArray:c,fromUint8Array:function(e){return i([].slice.call(e,0))},toUint8Array:function(e){return new Uint8Array(c(e))}}},function(e,t){e.exports=function(e,t,a){var n=t.toLowerCase();e[t]||e[n]||(e[t]=a)}},function(e,t,a){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var a,i,f=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var d in a=Object(arguments[o]))r.call(a,d)&&(f[d]=a[d]);if(n){i=n(a);for(var s=0;s<i.length;s++)c.call(a,i[s])&&(f[i[s]]=a[i[s]])}}return f}},function(e,t,a){"use strict";var n=a(99),r=a(2),c=a(245),i=a(246),f=a(147),o=a(244),d="win32"===process.platform;function s(e){var t=r._makeLong(r.resolve(e)).split(r.sep);if(t.shift(),d){t.shift();var a="\\\\"+t.shift()+"\\"+t.shift().toLowerCase();t.unshift(a)}return""===t[t.length-1]&&t.pop(),t}function b(e){var t=!("createCwd"in(e=e||{}))||e.createCwd,a=!("createTmp"in e)||e.createTmp,r=new c,i=[];t&&i.push(process.cwd()),a&&i.push(n.tmpdir&&n.tmpdir()||n.tmpDir()),i.forEach(function(e){var t,a,n,i,f=s(e),o=r;for(t=0,a=f.length;t<a;++t)if(n=f[t],i=o.getItem(n)){if(!(i instanceof c))throw new Error("Failed to create directory: "+e);o=i}else o=o.addItem(n,new c)}),this._root=r}function u(e,t,a){var n;if("string"==typeof a||Buffer.isBuffer(a))(n=new i).setContent(a);else if("function"==typeof a)n=a();else{if("object"!=typeof a)throw new Error("Unsupported type: "+typeof a+" of item "+t);for(var r in n=new c,a)u(n,r,a[r])}n instanceof c&&0===n.list().length&&e.getItem(t)instanceof c||e.addItem(t,n)}b.prototype.getRoot=function(){return this._root},b.prototype.getItem=function(e){for(var t,a=s(e),n=s(process.cwd()),i=this._root,d="/",b=0,u=a.length;b<u;++b){for(t=a[b];i instanceof o;)d=r.resolve(r.dirname(d),i.getPath()),i=this.getItem(d);if(i){if(i instanceof c&&t!==n[b]&&!i.canExecute())throw new f("EACCES",e);i=i.getItem(t)}if(!i)break;d=r.resolve(d,t)}return i},b.create=function(e,t){var a=new b(t);for(var n in e){var r,i,f,o,d=s(n),l=a._root;for(r=0,i=d.length-1;r<i;++r)if(f=d[r],o=l.getItem(f)){if(!(o instanceof c))throw new Error("Failed to create directory: "+n);l=o}else l=l.addItem(f,new c);u(l,d[r],e[n])}return a},b.file=function(e){return e=e||{},function(){var t=new i;return e.hasOwnProperty("content")&&t.setContent(e.content),e.hasOwnProperty("mode")?t.setMode(e.mode):t.setMode(438),e.hasOwnProperty("uid")&&t.setUid(e.uid),e.hasOwnProperty("gid")&&t.setGid(e.gid),e.hasOwnProperty("atime")&&t.setATime(e.atime),e.hasOwnProperty("ctime")&&t.setCTime(e.ctime),e.hasOwnProperty("mtime")&&t.setMTime(e.mtime),e.hasOwnProperty("birthtime")&&t.setBirthtime(e.birthtime),t}},b.symlink=function(e){return e=e||{},function(){var t=new o;if(e.hasOwnProperty("mode")?t.setMode(e.mode):t.setMode(438),e.hasOwnProperty("uid")&&t.setUid(e.uid),e.hasOwnProperty("gid")&&t.setGid(e.gid),!e.hasOwnProperty("path"))throw new Error('Missing "path" property');return t.setPath(e.path),e.hasOwnProperty("atime")&&t.setATime(e.atime),e.hasOwnProperty("ctime")&&t.setCTime(e.ctime),e.hasOwnProperty("mtime")&&t.setMTime(e.mtime),e.hasOwnProperty("birthtime")&&t.setBirthtime(e.birthtime),t}},b.directory=function(e){return e=e||{},function(){var t=new c;if(e.hasOwnProperty("mode")&&t.setMode(e.mode),e.hasOwnProperty("uid")&&t.setUid(e.uid),e.hasOwnProperty("gid")&&t.setGid(e.gid),e.hasOwnProperty("items"))for(var a in e.items)u(t,a,e.items[a]);return e.hasOwnProperty("atime")&&t.setATime(e.atime),e.hasOwnProperty("ctime")&&t.setCTime(e.ctime),e.hasOwnProperty("mtime")&&t.setMTime(e.mtime),e.hasOwnProperty("birthtime")&&t.setBirthtime(e.birthtime),t}},(e.exports=b).getPathParts=s},function(e,t,a){"use strict";var n=a(1),r=a(148),c=a(73);function i(){r.call(this),this._path=void 0}n.inherits(i,r),i.prototype.setPath=function(e){this._path=e},i.prototype.getPath=function(){return this._path},i.prototype.getStats=function(){var e=this._path.length,t=r.prototype.getStats.call(this);return t.mode=this.getMode()|c.S_IFLNK,t.size=e,t.blocks=Math.ceil(e/512),t},e.exports=i},function(e,t,a){"use strict";var n=a(1),r=a(148),c=a(73);function i(){r.call(this),this._items={},this._mode=511}n.inherits(i,r),i.prototype.addItem=function(e,t){if(this._items.hasOwnProperty(e))throw new Error("Item with the same name already exists: "+e);return this._items[e]=t,++t.links,t instanceof i&&(++t.links,++this.links),this.setMTime(new Date),t},i.prototype.getItem=function(e){var t=null;return this._items.hasOwnProperty(e)&&(t=this._items[e]),t},i.prototype.removeItem=function(e){if(!this._items.hasOwnProperty(e))throw new Error("Item does not exist in directory: "+e);var t=this._items[e];return delete this._items[e],--t.links,t instanceof i&&(--t.links,--this.links),this.setMTime(new Date),t},i.prototype.list=function(){return Object.keys(this._items).sort()},i.prototype.getStats=function(){var e=r.prototype.getStats.call(this);return e.mode=this.getMode()|c.S_IFDIR,e.size=1,e.blocks=1,e},e.exports=i},function(e,t,a){"use strict";var n=a(1),r=a(148),c=new Buffer(0),i=a(73);function f(){r.call(this),this._content=c}n.inherits(f,r),f.prototype.getContent=function(){return this.setATime(new Date),this._content},f.prototype.setContent=function(e){if("string"==typeof e)e=new Buffer(e);else if(!Buffer.isBuffer(e))throw new Error("File content must be a string or buffer");this._content=e;var t=Date.now();this.setCTime(new Date(t)),this.setMTime(new Date(t))},f.prototype.getStats=function(){var e=this._content.length,t=r.prototype.getStats.call(this);return t.mode=this.getMode()|i.S_IFREG,t.size=e,t.blocks=Math.ceil(e/512),t},e.exports=f},function(e,t,a){"use strict";var n=a(11),r=n.maybeWrapAsError,c=a(38),i=c.TimeoutError,f=c.OperationalError,o=n.haveGetters,d=a(83);var s,b=/^(?:name|message|stack|cause)$/;function u(e){var t;if(function(e){return e instanceof Error&&d.getPrototypeOf(e)===Error.prototype}(e)){(t=new f(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var a=d.keys(e),r=0;r<a.length;++r){var c=a[r];b.test(c)||(t[c]=e[c])}return t}return n.markAsOriginatingFromRejection(e),e}function l(e){return function(t,a){if(null!==e){if(t){var n=u(r(t));e._attachExtraTrace(n),e._reject(n)}else if(arguments.length>2){for(var c=arguments.length,i=new Array(c-1),f=1;f<c;++f)i[f-1]=arguments[f];e._fulfill(i)}else e._fulfill(a);e=null}}}if(s=o?function(e){this.promise=e}:function(e){this.promise=e,this.asCallback=l(e),this.callback=this.asCallback},o){var p={get:function(){return l(this.promise)}};d.defineProperty(s.prototype,"asCallback",p),d.defineProperty(s.prototype,"callback",p)}s._nodebackForPromise=l,s.prototype.toString=function(){return"[object PromiseResolver]"},s.prototype.resolve=s.prototype.fulfill=function(e){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(e)},s.prototype.reject=function(e){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(e)},s.prototype.progress=function(e){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(e)},s.prototype.cancel=function(e){this.promise.cancel(e)},s.prototype.timeout=function(){this.reject(new i("timeout"))},s.prototype.isResolved=function(){return this.promise.isResolved()},s.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=s},function(e,t,a){var n=a(3),r=a(113);e.exports=function(e,t){e=n(e),t=t||r;for(var a,c,i=e.length-1,f=t.length,o=!0;o&&i>=0;)for(o=!1,a=-1,c=e.charAt(i);++a<f;)if(c===t[a]){o=!0,i--;break}return i>=0?e.substring(0,i+1):""}},function(e,t,a){var n=a(3),r=a(113);e.exports=function(e,t){e=n(e),t=t||r;for(var a,c,i=0,f=e.length,o=t.length,d=!0;d&&i<f;)for(d=!1,a=-1,c=e.charAt(i);++a<o;)if(c===t[a]){d=!0,i++;break}return i>=f?"":e.substr(i,f)}},function(e,t,a){var n=a(3),r=a(151);e.exports=function(e,t,a,c){return e=n(e),a=a||"...",t=c?t+1:t,(e=r(e)).length<=t?e:(e=e.substr(0,t-a.length),(e=c?e.substr(0,e.lastIndexOf(" ")):r(e))+a)}},function(e,t,a){var n=a(3),r=a(153),c=a(152),i=a(84),f=a(112);e.exports=function(e){return e=n(e),e=r(e),e=c(e).replace(/[\-_]/g," ").replace(/\s[a-z]/g,i).replace(/\s+/g,"").replace(/^[A-Z]/g,f)}},function(e,t,a){var n=a(155),r="0123456789abcdef".split("");e.exports=function(e){e=e&&e>0?e:6;for(var t="";e--;)t+=n(r);return t}},function(e,t,a){var n=a(156),r=a(36),c=a(70);e.exports=function(e,t){for(var a,i,f,o,d=(e||"").replace("?","").split("&"),s=-1,b={};i=d[++s];)a=i.indexOf("="),o=i.substring(0,a),f=decodeURIComponent(i.substring(a+1)),!1!==t&&(f=n(f)),c(b,o)?r(b[o])?b[o].push(f):b[o]=[b[o],f]:b[o]=f;return b}},function(e,t,a){var n=a(60);e.exports=function(e,t){return t?(n(t.split("."),function(t){e[t]||(e[t]={}),e=e[t]}),e):e}},function(e,t,a){var n=a(17),r=a(15);e.exports=function(e,t,a){t=r(t,a);var c={};return n(e,function(e,a,n){c[a]=t(e,a,n)}),c}},function(e,t,a){var n,r=a(157);e.exports=function(e,t){return r(e,t)!==n}},function(e,t,a){var n=a(17),r=a(15);e.exports=function(e,t,a){t=r(t,a);var c={};return n(e,function(e,a,n){t(e,a,n)&&(c[a]=e)}),c}},function(e,t,a){var n=a(175);e.exports=function(e){var t=[];return n(e,function(e,a){"function"==typeof e&&t.push(a)}),t.sort()}},function(e,t){e.exports=function(e){var t=e%100;if(t>=10&&t<=20)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}},function(e,t,a){var n=a(86);e.exports=function(e,t){e=n(e);var a=Math.pow(10,t);return+(Math.round(e*a)/a).toFixed(t)}},function(e,t){e.exports=function(e,t,a){if(e<t||e>a)throw new RangeError("value ("+e+") must be between "+t+" and "+a);return e===a?1:(e-t)/(a-t)}},function(e,t){e.exports=function(e,t,a){return t+(a-t)*e}},function(e,t){e.exports=function(e,t,a){return e<t?t:e>a?a:e}},function(e,t,a){var n=a(39);e.exports=function(e){return n(e,"String")}},function(e,t){e.exports=function(e){switch(typeof e){case"string":case"number":case"boolean":return!0}return null==e}},function(e,t){e.exports=function(e){return"number"==typeof e&&e!=e}},function(e,t,a){var n=a(70),r=a(169),c=a(87),i=a(89);function f(e,t){return n(this,t)}e.exports=function(e,t,a){return a=a||i,c(e)&&c(t)?r(e,function(e){return function(t,a){return n(this,a)&&e(t,this[a])}}(a),t)&&r(t,f,e):a(e,t)}},function(e,t,a){var n=a(165),r=a(17),c=a(92),i=a(68);function f(e,t){switch(c(e)){case"Object":return function(e,t){if(i(e)){var a={};return r(e,function(e,a){this[a]=f(e,t)},a),a}return t?t(e):e}(e,t);case"Array":return function(e,t){var a=[],n=-1,r=e.length;for(;++n<r;)a[n]=f(e[n],t);return a}(e,t);default:return n(e)}}e.exports=f},function(e,t,a){var n=a(116);e.exports=function(e,t){function a(){}return a.prototype=e,n(new a,t)}},function(e,t,a){var n=a(25);function r(e){var t=n(arguments,1);return function(){for(var a=t.concat(n(arguments)),c=a.length;c--;)a[c]===r._&&(a[c]=a.splice(-1)[0]);return e.apply(this,a)}}r._={},e.exports=r},function(e,t,a){var n=a(25);e.exports=function(e,t,a){var r=n(arguments,2);return function(){return e.apply(t,r.concat(n(arguments)))}}},function(e,t,a){var n=a(25);e.exports=function(e,t,a){var r=n(arguments,3);return setTimeout(function(){e.apply(a,r)},t)}},function(e,t,a){e.exports={awaitDelay:a(658),bind:a(271),compose:a(657),constant:a(656),debounce:a(655),func:a(654),identity:a(177),makeIterator_:a(15),partial:a(270),prop:a(176),series:a(653),throttle:a(652),timeout:a(272),times:a(651),wrap:a(650)}},function(e,t,a){var n=a(167);e.exports=function(e,t){t=null==t?0:t;var a=n(e),r=6-t-(7+e.getDay()-t)%7;return Math.floor((a+r)/7)}},function(e,t,a){var n=a(161);e.exports=function(e){var t=/\(([A-Z]{3,4})\)/.exec(e.toString());return t?t[1]:n(e)}},function(e,t,a){var n=a(165);e.exports=function(e,t){switch(e=n(e),t){case"year":e.setMonth(0);case"month":e.setDate(1);case"week":case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0);break;default:throw new Error('"'+t+'" is not a valid period')}if("week"===t){var a=e.getDay(),r=e.getDate();a&&(a>=r&&e.setDate(0),e.setDate(e.getDate()-e.getDay()))}return e}},function(e,t,a){var n=a(116),r=a(663),c=n({},r,{set:function(e){n(c,e)}});e.exports=c},function(e,t){function a(e){switch(e){case"ms":case"millisecond":return 1;case"s":case"second":return 1e3;case"m":case"minute":return 6e4;case"h":case"hour":return 36e5;case"d":case"day":return 864e5;case"w":case"week":return 6048e5;default:throw new Error('"'+e+'" is not a valid unit')}}e.exports=function(e,t,n){return n=n||"ms",e*a(t)/a(n)}},function(e,t,a){var n=a(166);e.exports=function(e){return n(e)?366:365}},function(e,t,a){var n=a(117),r=a(166),c=[31,28,31,30,31,30,31,31,30,31,30,31];e.exports=function(e,t){return n(e)&&(t=e.getMonth()),1===t&&r(e)?29:c[t]}},function(e,t,a){var n=a(17),r=a(168);e.exports=function(e,t,a,c){var i=arguments.length>2;if(!r(e)&&!i)throw new Error("reduce of empty object with no initial value");return n(e,function(e,n,r){i?a=t.call(c,a,e,n,r):(a=e,i=!0)}),a}},function(e,t,a){var n=a(173),r=a(118);e.exports=function(e,t){return n(r(e),t)}},function(e,t,a){var n=a(122),r=a(118);e.exports=function(e,t){return n(r(e),t)}},function(e,t,a){var n=a(87),r=a(118),c=a(123),i=a(15);e.exports=function(e,t,a){return t=i(t,a),n(e)&&null==e.length&&(e=r(e)),c(e,function(e,a,n){return t(e,a,n)})}},function(e,t,a){var n=a(119),r=a(15);e.exports=function(e,t,a){var c;return t=r(t,a),n(e,function(e,a,n){if(t(e,a,n))return c=e,!0}),c}},function(e,t,a){var n=a(43),r=a(60),c=a(17);e.exports=n(r,c)},function(e,t,a){var n=a(286),r=a(15);e.exports=function(e,t,a){t=r(t,a);var c=[];return e?(n(e,function(e,a,n){t(e,a,n)&&(c[c.length]=e)}),c):c}},function(e,t,a){var n=a(119);e.exports=function(e,t){return n(e,function(e){return e===t})}},function(e,t){function a(e,t){return e<t?-1:e>t?1:0}e.exports=function e(t,n){return null==t?[]:t.length<2?t:(null==n&&(n=a),r=~~(t.length/2),function(e,t,a){for(var n=[];e.length&&t.length;)a(e[0],t[0])<=0?n.push(e.shift()):n.push(t.shift());return e.length&&n.push.apply(n,e),t.length&&n.push.apply(n,t),n}(e(t.slice(0,r),n),e(t.slice(r,t.length),n),n));var r}},function(e,t){e.exports=function(e,t,a){var n=arguments.length>2,r=a;if(null==e||!e.length){if(n)return a;throw new Error("reduce of empty array with no initial value")}for(var c=-1,i=e.length;++c<i;)n?r=t(r,e[c],c,e):(r=e[c],n=!0);return r}},function(e,t,a){var n=a(171),r=a(172),c=a(121);e.exports=function(e,t){return(e=null==e?r:e)+((t=null==t?c:t)-e)*n()}},function(e,t,a){var n=a(61);function r(e){return null!=e&&""!==e}e.exports=function(e,t){return t=t||"",n(e,r).join(t)}},function(e,t,a){var n=a(15);e.exports=function(e,t,a){if(t=n(t,a),null==e)return-1;for(var r=e.length;--r>=0;)if(t(e[r],r,e))return r;return-1}},function(e,t,a){var n=a(15);e.exports=function(e,t,a){if(t=n(t,a),null==e)return-1;for(var r=-1,c=e.length;++r<c;)if(t(e[r],r,e))return r;return-1}},function(e,t,a){var n=a(89),r=a(36),c=a(124);e.exports=function(e,t,a){return a=a||n,r(e)&&r(t)?e.length===t.length&&c(e,function(e){return function(t,a){return a in this&&e(t,this[a])}}(a),t):a(e,t)}},function(e,t,a){var n=a(90),r=a(61),c=a(125),i=a(69),f=a(25);e.exports=function(e){var t=f(arguments,1);return r(n(e),function(e){return!c(t,function(t){return i(t,e)})})}},function(e,t,a){var n=a(17),r=a(36);function c(e,t){for(var a=-1,n=e.length;++a<n;)if(i(e[a],t))return!0;return!1}function i(e,t){return e&&"object"==typeof e?r(e)&&r(t)?function(e,t){for(var a=-1,n=t.length;++a<n;)if(!c(e,t[a]))return!1;return!0}(e,t):function(e,t){var a=!0;return n(t,function(t,n){if(!i(e[n],t))return a=!1}),a}(e,t):e===t}e.exports=i},function(e,t,a){e.exports=o;var n=a(0),r=a(309);n(o,r);var c=a(49),i=a(2),f=a(128);function o(e){var t=this;if(!(t instanceof o))return new o(e);t.fields=e;var a={path:("PaxHeader"+i.join("/",e.path||"")).replace(/\\/g,"/").substr(0,100),mode:e.mode||438,uid:e.uid||0,gid:e.gid||0,size:0,mtime:e.mtime||Date.now()/1e3,type:"x",linkpath:"",ustar:"ustar\0",ustarver:"00",uname:e.uname||"",gname:e.gname||"",devmaj:e.devmaj||0,devmin:e.devmin||0};r.call(t,a),t.props=a,t._meta=!0}function d(e,t,a){if(e.charAt(0)===e.charAt(0).toLowerCase()){var n=e.split(".")[0];c.knownExtended[n]||(e="NODETAR."+e)}if(a&&e.charAt(0)!==e.charAt(0).toLowerCase())return[];"number"==typeof val&&(val=val.toString(10));var r=new Buffer(" "+e+"="+t+"\n"),i=Math.floor(Math.log(r.length)/Math.log(10))+1;r.length+i>=Math.pow(10,i)&&(i+=1);var f=i+r.length,o=new Buffer(""+f);if(o.length+r.length!==f)throw new Error("Bad length calculation\nlen="+f+"\nlenBuf="+JSON.stringify(o.toString())+"\nlenBuf.length="+o.length+"\ndigits="+i+"\ns="+JSON.stringify(r.toString())+"\ns.length="+r.length);return[o,r]}o.prototype.end=function(){var e=this;if(!e._ended){if(e._ended=!0,e._encodeFields(),0===e.props.size)return e._ready=!0,void e._stream.end();e._stream.write(f.encode(e.props)),e.body.forEach(function(t){e._stream.write(t)}),e._ready=!0,this._stream.end()}},o.prototype._encodeFields=function(){this.body=[],this.fields.prefix&&(this.fields.path=this.fields.prefix+"/"+this.fields.path,this.fields.prefix=""),function e(t,a,n,r){Object.keys(t).forEach(function(i){var f=t[i];c.numeric[i];if(a&&(i=a+"."+i),i!==t.type||!0!==f){switch(i){case"mode":case"cksum":case"ustar":case"ustarver":case"prefix":case"basename":case"dirname":case"needExtended":case"block":case"filter":return;case"rdev":if(0===f)return;break;case"nlink":case"dev":case"ino":i="SCHILY."+i}if(f&&"object"==typeof f&&!Buffer.isBuffer(f))e(f,i,n,r);else{if(null===f||void 0===f)return;n.push.apply(n,d(i,f,r))}}});return n}(this.fields,"",this.body,this.fields.noProprietary);var e=this;this.body.forEach(function(t){e.props.size+=t.length})}},function(e,t,a){e.exports=i;var n=a(5).Stream,r=a(0),c=a(10).ok;process.env.DEBUG&&console.error;function i(e,t){if(this.writable=this.readable=!0,this._opt=t||{},this._chunkSize=e||512,this._offset=0,this._buffer=[],this._bufferLength=0,this._opt.nopad)this._zeroes=!1;else{this._zeroes=new Buffer(this._chunkSize);for(var a=0;a<this._chunkSize;a++)this._zeroes[a]=0}}r(i,n),i.prototype.write=function(e){if(this._ended)throw new Error("BlockStream: write after end");if(e&&!Buffer.isBuffer(e)&&(e=new Buffer(e+"")),e.length&&(this._buffer.push(e),this._bufferLength+=e.length),this._bufferLength>=this._chunkSize){if(this._paused)return this._needDrain=!0,!1;this._emitChunk()}return!0},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){return this._paused=!1,this._emitChunk()},i.prototype.end=function(e){"function"==typeof e&&(cb=e,e=null),e&&this.write(e),this._ended=!0,this.flush()},i.prototype.flush=function(){this._emitChunk(!0)},i.prototype._emitChunk=function(e){if(e&&this._zeroes){var t=this._bufferLength%this._chunkSize;0!==t&&(t=this._chunkSize-t),t>0&&(this._buffer.push(this._zeroes.slice(0,t)),this._bufferLength+=t)}if(!this._emitting&&!this._paused){this._emitting=!0;for(var a=0;this._bufferLength>=this._chunkSize&&(e||!this._paused);){for(var n=0,r=this._chunkSize;r>0&&(e||!this._paused);){var i=(s=this._buffer[a]).length-this._offset;o||i<r?(o=o||new Buffer(this._chunkSize),s.copy(o,n,this._offset,this._offset+Math.min(i,r))):o=s.length===r&&0===this._offset?s:s.slice(this._offset,this._offset+r),i>r?(this._offset+=r,r=0):(r-=i,n+=i,a++,this._offset=0)}this._bufferLength-=this._chunkSize,c(o.length===this._chunkSize),this.emit("data",o),o=null}if(this._buffer=this._buffer.slice(a),this._paused)return this._needsDrain=!0,void(this._emitting=!1);var f=this._buffer.length;if(e&&!this._zeroes&&f){if(1===f)this._offset?this.emit("data",this._buffer[0].slice(this._offset)):this.emit("data",this._buffer[0]);else{r=this._bufferLength;for(var o=new Buffer(r),d=(n=0,0);d<f;d++){var s;i=(s=this._buffer[d]).length-this._offset;s.copy(o,n,this._offset),this._offset=0,n+=i,this._bufferLength-=i}this.emit("data",o)}this._buffer.length=0,this._bufferLength=0,this._offset=0}this._needDrain&&(this._needDrain=!1,this.emit("drain")),0===this._bufferLength&&this._ended&&!this._endEmitted&&(this._endEmitted=!0,this.emit("end")),this._emitting=!1}}},function(e,t,a){e.exports=o;var n=a(94),r=a(126),c=a(0),i=a(178),f=a(22);function o(e){if(!(this instanceof o))throw new Error("ProxyWriter must be called as constructor.");this.props=e,this._needDrain=!1,n.call(this,e)}c(o,n),o.prototype._stat=function(){var e=this,t=e.props,a=t.follow?"stat":"lstat";f[a](t.path,function(a,c){var i;i=a||!c?"File":r(c),t[i]=!0,t.type=e.type=i,e._old=c,e._addProxy(n(t,c))})},o.prototype._addProxy=function(e){var t=this;if(t._proxy)return t.error("proxy already set");t._proxy=e,["ready","error","close","pipe","drain","warn"].forEach(function(a){e.on(a,t.emit.bind(t,a))}),t.emit("proxy",e),t._buffer.forEach(function(t){e[t[0]].apply(e,t[1])}),t._buffer.length=0,t._needsDrain&&t.emit("drain")},o.prototype.add=function(e){return i(e),this._proxy?this._proxy.add(e):(this._buffer.push(["add",[e]]),this._needDrain=!0,!1)},o.prototype.write=function(e){return this._proxy?this._proxy.write(e):(this._buffer.push(["write",[e]]),this._needDrain=!0,!1)},o.prototype.end=function(e){return this._proxy?this._proxy.end(e):(this._buffer.push(["end",[e]]),!1)}},function(e,t,a){e.exports=i;var n=a(7),r=a(94),c={};function i(e){if(!(this instanceof i))throw new Error("FileWriter must be called as constructor.");if("File"!==e.type||!e.File)throw new Error("Non-file type "+e.type);this._buffer=[],this._bytesWritten=0,r.call(this,e)}a(0)(i,r),i.prototype._create=function(){var e=this;if(!e._stream){var t={};e.props.flags&&(t.flags=e.props.flags),t.mode=r.filemode,e._old&&e._old.blksize&&(t.bufferSize=e._old.blksize),e._stream=n.createWriteStream(e._path,t),e._stream.on("open",function(){e.ready=!0,e._buffer.forEach(function(t){t===c?e._stream.end():e._stream.write(t)}),e.emit("ready"),e.emit("drain")}),e._stream.on("error",function(t){e.emit("error",t)}),e._stream.on("drain",function(){e.emit("drain")}),e._stream.on("close",function(){e._finish()})}},i.prototype.write=function(e){if(this._bytesWritten+=e.length,!this.ready){if(!Buffer.isBuffer(e)&&"string"!=typeof e)throw new Error("invalid write data");return this._buffer.push(e),!1}var t=this._stream.write(e);return!1===t&&this._stream._queue?this._stream._queue.length<=2:t},i.prototype.end=function(e){return e&&this.write(e),this.ready?this._stream.end():(this._buffer.push(c),!1)},i.prototype._finish=function(){"number"==typeof this.size&&this._bytesWritten!==this.size&&this.error("Did not get expected byte count.\nexpect: "+this.size+"\nactual: "+this._bytesWritten),r.prototype._finish.call(this)}},function(e,t,a){e.exports=o;var n=a(7),r=a(94),c=a(0),i=a(2),f=a(304);function o(e){if(!(this instanceof o))throw new Error("LinkWriter must be called as constructor.");if(!("Link"===e.type&&e.Link||"SymbolicLink"===e.type&&e.SymbolicLink))throw new Error("Non-link type "+e.type);""===e.linkpath&&(e.linkpath="."),e.linkpath||this.error("Need linkpath property to create "+e.type),r.call(this,e)}function d(e,t,a){f(e._path,function(r){if(r)return e.error(r);!function(e,t,a){n[a](t,e._path,function(t){if(t){if("ENOENT"!==t.code&&"EACCES"!==t.code&&"EPERM"!==t.code||"win32"!==process.platform)return e.error(t);e.ready=!0,e.emit("ready"),e.emit("end"),e.emit("close"),e.end=e._finish=function(){}}s(e)})}(e,t,a)})}function s(e){e.ready=!0,e.emit("ready"),e._ended&&!e._finished&&e._finish()}c(o,r),o.prototype._create=function(){var e=this,t="Link"===e.type||"win32"===process.platform,a=t?"link":"symlink",r=t?i.resolve(e.dirname,e.linkpath):e.linkpath;if(t)return d(e,r,a);n.readlink(e._path,function(t,n){if(n&&n===r)return s(e);d(e,r,a)})},o.prototype.end=function(){this._ended=!0,this.ready&&(this._finished=!0,this._finish())}},function(e,t,a){e.exports=o;var n=a(94),r=a(0),c=a(180),i=a(2),f=a(178);function o(e){this instanceof o||this.error("DirWriter must be called as constructor.",null,!0),"Directory"===e.type&&e.Directory||this.error("Non-directory type "+e.type+" "+JSON.stringify(e),null,!0),n.call(this,e)}r(o,n),o.prototype._create=function(){var e=this;c(e._path,n.dirmode,function(t){if(t)return e.error(t);e.ready=!0,e.emit("ready"),e._process()})},o.prototype.write=function(){return!0},o.prototype.end=function(){this._ended=!0,this._process()},o.prototype.add=function(e){return f(e),!this.ready||this._currentEntry?(this._buffer.push(e),!1):this._ended?this.error("add after end"):(this._buffer.push(e),this._process(),0===this._buffer.length)},o.prototype._process=function(){var e=this;if(!e._processing){var t=e._buffer.shift();if(!t)return e.emit("drain"),void(e._ended&&e._finish());e._processing=!0,e.emit("entry",t);var a,r=t;do{if((a=r._path||r.path)===e.root._path||a===e._path||a&&0===a.indexOf(e._path))return e._processing=!1,t._collected&&t.pipe(),e._process();r=r.parent}while(r);var c={parent:e,root:e.root||e,type:t.type,depth:e.depth+1};a=t._path||t.path||t.props.path,t.parent&&(a=a.substr(t.parent._path.length+1)),c.path=i.join(e.path,i.join("/",a)),c.filter=e.filter,Object.keys(t.props).forEach(function(e){c.hasOwnProperty(e)||(c[e]=t.props[e])});var f=e._currentChild=new n(c);f.on("ready",function(){t.pipe(f),t.resume()}),f.on("error",function(t){f._swallowErrors?(e.warn(t),f.emit("end"),f.emit("close")):e.emit("error",t)}),f.on("close",function(){if(o)return;o=!0,e._currentChild=null,e._processing=!1,e._process()});var o=!1}}},function(e,t,a){e.exports=d,d.sync=u;var n=a(10),r=a(2),c=a(22),i=0;t.EMFILE_MAX=1e3,t.BUSYTRIES_MAX=3;var f="win32"===process.platform;function o(e){["unlink","chmod","stat","rmdir","readdir"].forEach(function(t){e[t]=e[t]||c[t],e[t+="Sync"]=e[t]||c[t]})}function d(e,a,r){if("function"==typeof a&&(r=a,a={}),n(e),n(a),n("function"==typeof r),o(a),!r)throw new Error("No callback passed to rimraf()");var c=0;s(e,a,function n(o){if(o){if(f&&("EBUSY"===o.code||"ENOTEMPTY"===o.code)&&c<t.BUSYTRIES_MAX)return c++,setTimeout(function(){s(e,a,n)},100*c);if("EMFILE"===o.code&&i<t.EMFILE_MAX)return setTimeout(function(){s(e,a,n)},i++);"ENOENT"===o.code&&(o=null)}i=0,r(o)})}function s(e,t,a){n(e),n(t),n("function"==typeof a),t.unlink(e,function(r){if(r){if("ENOENT"===r.code)return a(null);if("EPERM"===r.code)return f?function(e,t,a,r){n(e),n(t),n("function"==typeof r),a&&n(a instanceof Error);t.chmod(e,666,function(n){n?r("ENOENT"===n.code?null:a):t.stat(e,function(n,c){n?r("ENOENT"===n.code?null:a):c.isDirectory()?b(e,t,a,r):t.unlink(e,r)})})}(e,t,r,a):b(e,t,r,a);if("EISDIR"===r.code)return b(e,t,r,a)}return a(r)})}function b(e,t,a,c){n(e),n(t),a&&n(a instanceof Error),n("function"==typeof c),t.rmdir(e,function(i){!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?i&&"ENOTDIR"===i.code?c(a):c(i):function(e,t,a){n(e),n(t),n("function"==typeof a),t.readdir(e,function(n,c){if(n)return a(n);var i,f=c.length;if(0===f)return t.rmdir(e,a);c.forEach(function(n){d(r.join(e,n),t,function(n){if(!i)return n?a(i=n):void(0==--f&&t.rmdir(e,a))})})})}(e,t,c)})}function u(e,t){o(t=t||{}),n(e),n(t);try{t.unlinkSync(e)}catch(a){if("ENOENT"===a.code)return;if("EPERM"===a.code)return f?function(e,t,a){n(e),n(t),a&&n(a instanceof Error);try{t.chmodSync(e,666)}catch(e){if("ENOENT"===e.code)return;throw a}try{var r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw a}r.isDirectory()?l(e,t,a):t.unlinkSync(e)}(e,t,a):l(e,t,a);if("EISDIR"!==a.code)throw a;l(e,t,a)}}function l(e,t,a){n(e),n(t),a&&n(a instanceof Error);try{t.rmdirSync(e)}catch(c){if("ENOENT"===c.code)return;if("ENOTDIR"===c.code)throw a;"ENOTEMPTY"!==c.code&&"EEXIST"!==c.code&&"EPERM"!==c.code||function(e,t){n(e),n(t),t.readdirSync(e).forEach(function(a){u(r.join(e,a),t)}),t.rmdirSync(e,t)}(e,t)}}},function(e,t,a){e.exports=f;var n=a(71),r=a(126),c=a(0),i=a(7);function f(e){if(!(this instanceof f))throw new Error("ProxyReader must be called as constructor.");this.props=e,this._buffer=[],this.ready=!1,n.call(this,e)}c(f,n),f.prototype._stat=function(){var e=this,t=e.props,a=t.follow?"stat":"lstat";i[a](t.path,function(a,c){var i;i=a||!c?"File":r(c),t[i]=!0,t.type=e.type=i,e._old=c,e._addProxy(n(t,c))})},f.prototype._addProxy=function(e){var t=this;if(t._proxyTarget)return t.error("proxy already set");t._proxyTarget=e,e._proxy=t,["error","data","end","close","linkpath","entry","entryEnd","child","childEnd","warn","stat"].forEach(function(a){e.on(a,t.emit.bind(t,a))}),t.emit("proxy",e),e.on("ready",function(){t.ready=!0,t.emit("ready")});var a=t._buffer;t._buffer.length=0,a.forEach(function(t){e[t[0]].apply(e,t[1])})},f.prototype.pause=function(){return!!this._proxyTarget&&this._proxyTarget.pause()},f.prototype.resume=function(){return!!this._proxyTarget&&this._proxyTarget.resume()}},function(e,t,a){e.exports=o;var n=a(7),r=a(0),c=a(71),i={EOF:!0},f={CLOSE:!0};function o(e){if(!(this instanceof o))throw new Error("FileReader must be called as constructor.");if(!("Link"===e.type&&e.Link||"File"===e.type&&e.File))throw new Error("Non-file type "+e.type);this._buffer=[],this._bytesEmitted=0,c.call(this,e)}r(o,c),o.prototype._getStream=function(){var e=this,t=e._stream=n.createReadStream(e._path,e.props);e.props.blksize&&(t.bufferSize=e.props.blksize),t.on("open",e.emit.bind(e,"open")),t.on("data",function(t){e._bytesEmitted+=t.length,t.length&&(e._paused||e._buffer.length?(e._buffer.push(t),e._read()):e.emit("data",t))}),t.on("end",function(){e._paused||e._buffer.length?(e._buffer.push(i),e._read()):e.emit("end"),e._bytesEmitted!==e.props.size&&e.error("Didn't get expected byte count\nexpect: "+e.props.size+"\nactual: "+e._bytesEmitted)}),t.on("close",function(){e._paused||e._buffer.length?(e._buffer.push(f),e._read()):e.emit("close")}),t.on("error",function(t){e.emit("error",t)}),e._read()},o.prototype._read=function(){if(!this._paused){if(!this._stream)return this._getStream();if(this._buffer.length){for(var e=this._buffer,t=0,a=e.length;t<a;t++){var n=e[t];if(n===i?this.emit("end"):n===f?this.emit("close"):this.emit("data",n),this._paused)return void(this._buffer=e.slice(t))}this._buffer.length=0}}},o.prototype.pause=function(e){this._paused||(e=e||this,this._paused=!0,this._stream&&this._stream.pause(),this.emit("pause",e))},o.prototype.resume=function(e){this._paused&&(e=e||this,this.emit("resume",e),this._paused=!1,this._stream&&this._stream.resume(),this._read())}},function(e,t,a){e.exports=o;var n=a(7),r=a(0),c=a(2),i=a(71),f=a(10).ok;function o(e){if(!(this instanceof o))throw new Error("DirReader must be called as constructor.");if("Directory"!==e.type||!e.Directory)throw new Error("Non-directory type "+e.type);this.entries=null,this._index=-1,this._paused=!1,this._length=-1,e.sort&&(this.sort=e.sort),i.call(this,e)}r(o,i),o.prototype._getEntries=function(){var e=this;e._gotEntries||(e._gotEntries=!0,n.readdir(e._path,function(t,a){if(t)return e.error(t);function n(){e._length=e.entries.length,"function"==typeof e.sort&&(e.entries=e.entries.sort(e.sort.bind(e))),e._read()}e.entries=a,e.emit("entries",a),e._paused?e.once("resume",n):n()}))},o.prototype._read=function(){var e=this;if(!e.entries)return e._getEntries();if(!(e._paused||e._currentEntry||e._aborted))if(e._index++,e._index>=e.entries.length)e._ended||(e._ended=!0,e.emit("end"),e.emit("close"));else{var t=c.resolve(e._path,e.entries[e._index]);f(t!==e._path),f(e.entries[e._index]),e._currentEntry=t,n[e.props.follow?"stat":"lstat"](t,function(a,n){if(a)return e.error(a);var r=e._proxy||e;n.path=t,n.basename=c.basename(t),n.dirname=c.dirname(t);var f=e.getChildProps.call(r,n);f.path=t,f.basename=c.basename(t),f.dirname=c.dirname(t);var o=i(f,n);e._currentEntry=o,o.on("pause",function(t){e._paused||o._disowned||e.pause(t)}),o.on("resume",function(t){e._paused&&!o._disowned&&e.resume(t)}),o.on("stat",function(t){e.emit("_entryStat",o,t),o._aborted||(o._paused?o.once("resume",function(){e.emit("entryStat",o,t)}):e.emit("entryStat",o,t))}),o.on("ready",function t(){if(e._paused)return o.pause(e),e.once("resume",t);"Socket"===o.type?e.emit("socket",o):e.emitEntry(o)});var d=!1;function s(){d||(d=!0,e.emit("childEnd",o),e.emit("entryEnd",o),e._currentEntry=null,e._paused||e._read())}o.on("close",s),o.on("disown",s),o.on("error",function(t){o._swallowErrors?(e.warn(t),o.emit("end"),o.emit("close")):e.emit("error",t)}),["child","childEnd","warn"].forEach(function(t){o.on(t,e.emit.bind(e,t))})})}},o.prototype.disown=function(e){e.emit("beforeDisown"),e._disowned=!0,e.parent=e.root=null,e===this._currentEntry&&(this._currentEntry=null),e.emit("disown")},o.prototype.getChildProps=function(){return{depth:this.depth+1,root:this.root||this,parent:this,follow:this.follow,filter:this.filter,sort:this.props.sort,hardlinks:this.props.hardlinks}},o.prototype.pause=function(e){this._paused||(e=e||this,this._paused=!0,this._currentEntry&&this._currentEntry.pause&&this._currentEntry.pause(e),this.emit("pause",e))},o.prototype.resume=function(e){this._paused&&(e=e||this,this._paused=!1,this.emit("resume",e),this._paused||(this._currentEntry?this._currentEntry.resume&&this._currentEntry.resume(e):this._read()))},o.prototype.emitEntry=function(e){this.emit("entry",e),this.emit("child",e)}},function(e,t,a){e.exports=i;var n=a(7),r=a(0),c=a(71);function i(e){if(!(this instanceof i))throw new Error("LinkReader must be called as constructor.");if(!("Link"===e.type&&e.Link||"SymbolicLink"===e.type&&e.SymbolicLink))throw new Error("Non-link type "+e.type);c.call(this,e)}r(i,c),i.prototype._stat=function(e){var t=this;n.readlink(t._path,function(a,n){if(a)return t.error(a);t.linkpath=t.props.linkpath=n,t.emit("linkpath",n),c.prototype._stat.call(t,e)})},i.prototype._read=function(){this._paused||this._ended||(this.emit("end"),this.emit("close"),this._ended=!0)}},function(e,t,a){e.exports=d;a(49);var n,r=a(128),c=(a(127),a(0)),i=a(299),f=a(5).Stream,o={};function d(e){var t=this;if(!(t instanceof d))return new d(e);f.apply(this),t.writable=!0,t.readable=!0,t._stream=new i(512),t._stream.on("data",function(e){t.emit("data",e)}),t._stream.on("drain",function(){t.emit("drain")}),t._stream.on("end",function(){t.emit("end"),t.emit("close")}),t.props=e,"Directory"===e.type&&(e.size=0),e.ustar="ustar\0",e.ustarver="00",t.path=e.path,t._buffer=[],t._didHeader=!1,t._meta=!1,t.on("pipe",function(){t._process()})}c(d,f),d.prototype.write=function(e){return this._ended?this.emit("error",new Error("write after end")):(this._buffer.push(e),this._process(),this._needDrain=this._buffer.length>0,!this._needDrain)},d.prototype.end=function(e){e&&this._buffer.push(e),this._buffer.push(o),this._ended=!0,this._process(),this._needDrain=this._buffer.length>0},d.prototype.pause=function(){this._paused=!0,this.emit("pause")},d.prototype.resume=function(){this._paused=!1,this.emit("resume"),this._process()},d.prototype.add=function(e){return this.parent?(this._ended||this.end(),this.parent.add(e)):this.emit("error",new Error("no parent"))},d.prototype._header=function(){if(!this._didHeader){this._didHeader=!0;var e=r.encode(this.props);if(this.props.needExtended&&!this._meta){var t=this;(n=n||a(298))(this.props).on("data",function(e){t.emit("data",e)}).on("error",function(e){t.emit("error",e)}).end()}this.emit("data",e),this.emit("header")}},d.prototype._process=function(){if(this._didHeader||this._meta||this._header(),!this._paused&&!this._processing){this._processing=!0;for(var e=this._buffer,t=0;t<e.length;t++){var a=e[t];if(a===o?this._stream.end():this._stream.write(a),this._paused)return this._processing=!1,void(t<e.length&&(this._needDrain=!0,this._buffer=e.slice(t+1)))}this._buffer.length=0,this._processing=!1,this.emit("drain")}},d.prototype.destroy=function(){}},function(e,t){e.exports=__webpack_require__(96)},function(e,t,a){"use strict";const n=a(5).PassThrough,r=a(310),c=a(726);e.exports=(e=>{if(-1===["gzip","deflate"].indexOf(e.headers["content-encoding"]))return e;const t=r.createUnzip(),a=new n;return c(e,a),t.on("error",e=>{"Z_BUF_ERROR"!==e.code?a.emit("error",e):a.end()}),e.pipe(t).pipe(a),a})},function(e,t,a){"use strict";e.exports=function(e,t){if(e.timeoutTimer)return e;var a=isNaN(t)?t:{socket:t,connect:t},n=e._headers?" to "+e._headers.host:"";function r(){e.timeoutTimer&&(clearTimeout(e.timeoutTimer),e.timeoutTimer=null)}function c(){r(),void 0!==a.socket&&e.setTimeout(a.socket,function(){e.abort();var t=new Error("Socket timed out on request"+n);t.code="ESOCKETTIMEDOUT",e.emit("error",t)})}return void 0!==a.connect&&(e.timeoutTimer=setTimeout(function(){e.abort();var t=new Error("Connection timed out on request"+n);t.code="ETIMEDOUT",e.emit("error",t)},a.connect)),e.on("socket",function(e){e.connecting||e._connecting?e.once("connect",c):c()}),e.on("error",r)}},function(e,t){e.exports=__webpack_require__(94)},function(e,t,a){"use strict";var n=a(12),r=n.maybeWrapAsError,c=a(50).OperationalError,i=a(72);var f=/^(?:name|message|stack|cause)$/;function o(e){var t;if(function(e){return e instanceof Error&&i.getPrototypeOf(e)===Error.prototype}(e)){(t=new c(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var a=i.keys(e),r=0;r<a.length;++r){var o=a[r];f.test(o)||(t[o]=e[o])}return t}return n.markAsOriginatingFromRejection(e),e}e.exports=function(e,t){return function(a,n){if(null!==e){if(a){var c=o(r(a));e._attachExtraTrace(c),e._reject(c)}else if(t){for(var i=arguments.length,f=new Array(Math.max(i-1,0)),d=1;d<i;++d)f[d-1]=arguments[d];e._fulfill(f)}else e._fulfill(n);e=null}}}},function(e,t,a){"use strict";e.exports=function(e){var t=a(12),n=a(72).keys,r=t.tryCatch,c=t.errorObj;return function(a,i,f){return function(o){var d=f._boundValue();e:for(var s=0;s<a.length;++s){var b=a[s];if(b===Error||null!=b&&b.prototype instanceof Error){if(o instanceof b)return r(i).call(d,o)}else if("function"==typeof b){var u=r(b).call(d,o);if(u===c)return u;if(u)return r(i).call(d,o)}else if(t.isObject(o)){for(var l=n(b),p=0;p<l.length;++p){var h=l[p];if(b[h]!=o[h])continue e}return r(i).call(d,o)}}return e}}}},function(e,t,a){"use strict";const n=a(7),r=a(2),c=a(32),i=a(181);e.exports=function(e,t,a,f){"function"==typeof a&&(f=a,a={});const o=r.dirname(e);n.exists(o,n=>{if(n)return i.writeJson(e,t,a,f);c.mkdirs(o,n=>{if(n)return f(n);i.writeJson(e,t,a,f)})})}},function(e,t,a){"use strict";const n=a(7),r=a(2),c=a(32),i=a(181);e.exports=function(e,t,a){const f=r.dirname(e);n.existsSync(f)||c.mkdirsSync(f),i.writeJsonSync(e,t,a)}},function(e,t,a){e.exports={copySync:a(782)}},function(e,t,a){"use strict";const n=a(2);function r(e){return(e=n.normalize(n.resolve(e)).split(n.sep)).length>0?e[0]:null}const c=/[<>:"|?*]/;e.exports={getRootPath:r,invalidWin32Path:function(e){const t=r(e);return e=e.replace(t,""),c.test(e)}}},function(e,t,a){var n=a(7),r=a(2),c=a(783);e.exports=function(e,t,a,i){i||(i=a,a={});var f=process.cwd(),o=r.resolve(f,e),d=r.resolve(f,t),s=a.filter,b=a.transform,u=a.overwrite;void 0===u&&(u=a.clobber),void 0===u&&(u=!0);var l=a.errorOnExist,p=a.dereference,h=!0===a.preserveTimestamps,m=0,v=0,g=0,y=!1;function _(e){if(m++,s)if(s instanceof RegExp){if(console.warn("Warning: fs-extra: Passing a RegExp filter is deprecated, use a function"),!s.test(e))return T(!0)}else if("function"==typeof s&&!s(e,t))return T(!0);return function(e){var t=p?n.stat:n.lstat;g++,t(e,function(t,a){if(t)return S(t);var c,i,s={name:e,mode:a.mode,mtime:a.mtime,atime:a.atime,stats:a};if(!a.isDirectory())return a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(e){var t=e.name.replace(o,d.replace("$","$$$$"));E(t,function(a){a?w(e,t):u?A(t,function(){w(e,t)}):l?S(new Error(t+" already exists")):T()})}(s):a.isSymbolicLink()?function(e){var t=e.replace(o,d);n.readlink(e,function(e,a){if(e)return S(e);!function(e,t){p&&(e=r.resolve(f,e)),E(t,function(a){if(a)return k(e,t);n.readlink(t,function(a,n){return a?S(a):(p&&(n=r.resolve(f,n)),n===e?T():A(t,function(){k(e,t)}))})})}(a,t)})}(e):void 0;E(i=(c=s).name.replace(o,d.replace("$","$$$$")),function(e){if(e)return function(e,t){n.mkdir(t,e.mode,function(a){if(a)return S(a);n.chmod(t,e.mode,function(t){if(t)return S(t);x(e.name)})})}(c,i);x(c.name)})})}(e)}function w(e,t){var a=n.createReadStream(e.name),r=n.createWriteStream(t,{mode:e.mode});a.on("error",S),r.on("error",S),b?b(a,r,e):r.on("open",function(){a.pipe(r)}),r.once("close",function(){n.chmod(t,e.mode,function(a){if(a)return S(a);h?c.utimesMillis(t,e.atime,e.mtime,function(e){return e?S(e):T()}):T()})})}function A(e,t){n.unlink(e,function(e){return e?S(e):t()})}function x(e){n.readdir(e,function(t,a){return t?S(t):(a.forEach(function(t){_(r.join(e,t))}),T())})}function k(e,t){n.symlink(e,t,function(e){return e?S(e):T()})}function E(e,t){n.lstat(e,function(e){return e&&"ENOENT"===e.code?t(!0):t(!1)})}function S(e){if(!y&&void 0!==i)return y=!0,i(e)}function T(e){if(e||g--,m===++v&&0===g&&void 0!==i)return i(null)}_(o)}},function(e,t,a){var n=a(788);function r(e,t,a){return c(e,t,a,n)}function c(e,t,a,n){return t||(t={},a=Object.keys(e)),Array.isArray(t)&&(a=t,t={}),a||(a=Object.keys(e)),"function"==typeof e&&(t=n(e)),a.forEach(function(a){"function"==typeof e[a]&&(t[a]=n(e[a]))}),Object.keys(e).forEach(function(a){(function(e,t){var a=Object.getOwnPropertyDescriptor(e,t);return!(!a||!a.get)&&"deprecated"===a.get.name})(e,a)||t[a]||(t[a]=e[a])}),t}e.exports=r,r.withCallback=function(e,t,a){return c(e,t,a,n.withCallback)},r.thenify=n},function(e,t,a){"use strict";var n=a(22);e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}),t}(n)},function(e,t,a){"use strict";var n=a(794),r=a(787),c=(a(184),a(321));Array.prototype.slice;c.withCallback(r,t,["copy","emptyDir","ensureFile","ensureDir","ensureLink","ensureSymlink","mkdirs","move","outputFile","outputJson","readJson","remove","writeJson","createFile","createLink","createSymlink","emptydir","mkdirp","readJSON","outputJSON","writeJSON"]);["rename","ftruncate","chown","fchown","lchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","mkdtemp","readdir","close","open","utimes","futimes","fsync","fdatasync","write","read","readFile","writeFile","appendFile","access","truncate","exists"].forEach(function(e){t[e]=n[e]})},function(e,t,a){var n=a(8),r=a(100);function c(e,t){var a=function(e){var t=i(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),r=t.modulus.byteLength(),c=(n.mont(t.modulus),new n(e).mul(a.blinder).umod(t.modulus)),f=c.toRed(n.mont(t.prime1)),o=c.toRed(n.mont(t.prime2)),d=t.coefficient,s=t.prime1,b=t.prime2,u=f.redPow(t.exponent1),l=o.redPow(t.exponent2);u=u.fromRed(),l=l.fromRed();var p=u.isub(l).imul(d).umod(s);return p.imul(b),l.iadd(p),new Buffer(l.imul(a.unblinder).umod(t.modulus).toArray(!1,r))}function i(e){for(var t=e.modulus.byteLength(),a=new n(r(t));a.cmp(e.modulus)>=0||!a.umod(e.prime1)||!a.umod(e.prime2);)a=new n(r(t));return a}e.exports=c,c.getr=i},function(e,t,a){var n=a(8);e.exports=function(e,t){return new Buffer(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},function(e,t){e.exports=function(e,t){for(var a=e.length,n=-1;++n<a;)e[n]^=t[n];return e}},function(e,t,a){var n=a(27);function r(e){var t=new Buffer(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var a,c=new Buffer(""),i=0;c.length<t;)a=r(i++),c=Buffer.concat([c,n("sha1").update(e).update(a).digest()]);return c.slice(0,t)}},function(e,t,a){var n=a(9);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=n.createDecipher,t.createDecipheriv=t.Decipheriv=n.createDecipheriv,t.listCiphers=t.getCiphers=n.getCiphers},function(e,t,a){var n=a(0),r=a(23).Buffer,c=a(97),i=c.base,f=c.constants.der;function o(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new d,this.tree._init(e.body)}function d(e){i.Node.call(this,"der",e)}function s(e){return e<10?"0"+e:e}e.exports=o,o.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(d,i.Node),d.prototype._encodeComposite=function(e,t,a,n){var c,i=function(e,t,a,n){var r;"seqof"===e?e="seq":"setof"===e&&(e="set");if(f.tagByName.hasOwnProperty(e))r=f.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);r=e}if(r>=31)return n.error("Multi-octet tag encoding unsupported");t||(r|=32);return r|=f.tagClassByName[a||"universal"]<<6}(e,t,a,this.reporter);if(n.length<128)return(c=new r(2))[0]=i,c[1]=n.length,this._createEncoderBuffer([c,n]);for(var o=1,d=n.length;d>=256;d>>=8)o++;(c=new r(2+o))[0]=i,c[1]=128|o;d=1+o;for(var s=n.length;s>0;d--,s>>=8)c[d]=255&s;return this._createEncoderBuffer([c,n])},d.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var a=new r(2*e.length),n=0;n<e.length;n++)a.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(a)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},d.prototype._encodeObjid=function(e,t,a){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!a){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var c=0;for(n=0;n<e.length;n++){var i=e[n];for(c++;i>=128;i>>=7)c++}var f=new r(c),o=f.length-1;for(n=e.length-1;n>=0;n--){i=e[n];for(f[o--]=127&i;(i>>=7)>0;)f[o--]=128|127&i}return this._createEncoderBuffer(f)},d.prototype._encodeTime=function(e,t){var a,n=new Date(e);return"gentime"===t?a=[s(n.getFullYear()),s(n.getUTCMonth()+1),s(n.getUTCDate()),s(n.getUTCHours()),s(n.getUTCMinutes()),s(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?a=[s(n.getFullYear()%100),s(n.getUTCMonth()+1),s(n.getUTCDate()),s(n.getUTCHours()),s(n.getUTCMinutes()),s(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(a,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!r.isBuffer(e)){var a=e.toArray();!e.sign&&128&a[0]&&a.unshift(0),e=new r(a)}if(r.isBuffer(e)){var n=e.length;0===e.length&&n++;var c=new r(n);return e.copy(c),0===e.length&&(c[0]=0),this._createEncoderBuffer(c)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var i=e;i>=256;i>>=8)n++;for(i=(c=new Array(n)).length-1;i>=0;i--)c[i]=255&e,e>>=8;return 128&c[0]&&c.unshift(0),this._createEncoderBuffer(new r(c))},d.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},d.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},d.prototype._skipDefault=function(e,t,a){var n,r=this._baseState;if(null===r.default)return!1;var c=e.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r.default,t,a).join()),c.length!==r.defaultBuffer.length)return!1;for(n=0;n<c.length;n++)if(c[n]!==r.defaultBuffer[n])return!1;return!0}},function(e,t,a){var n=a(0),r=a(97),c=r.base,i=r.bignum,f=r.constants.der;function o(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new d,this.tree._init(e.body)}function d(e){c.Node.call(this,"der",e)}function s(e,t){var a=e.readUInt8(t);if(e.isError(a))return a;var n=f.tagClass[a>>6],r=0==(32&a);if(31==(31&a)){var c=a;for(a=0;128==(128&c);){if(c=e.readUInt8(t),e.isError(c))return c;a<<=7,a|=127&c}}else a&=31;return{cls:n,primitive:r,tag:a,tagStr:f.tag[a]}}function b(e,t,a){var n=e.readUInt8(a);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;var r=127&n;if(r>4)return e.error("length octect is too long");n=0;for(var c=0;c<r;c++){n<<=8;var i=e.readUInt8(a);if(e.isError(i))return i;n|=i}return n}e.exports=o,o.prototype.decode=function(e,t){return e instanceof c.DecoderBuffer||(e=new c.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(d,c.Node),d.prototype._peekTag=function(e,t,a){if(e.isEmpty())return!1;var n=e.save(),r=s(e,'Failed to peek tag: "'+t+'"');return e.isError(r)?r:(e.restore(n),r.tag===t||r.tagStr===t||r.tagStr+"of"===t||a)},d.prototype._decodeTag=function(e,t,a){var n=s(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var r=b(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(r))return r;if(!a&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==r)return e.skip(r,'Failed to match body of: "'+t+'"');var c=e.save(),i=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(i)?i:(r=e.offset-c.offset,e.restore(c),e.skip(r,'Failed to match body of: "'+t+'"'))},d.prototype._skipUntilEnd=function(e,t){for(;;){var a=s(e,t);if(e.isError(a))return a;var n,r=b(e,a.primitive,t);if(e.isError(r))return r;if(n=a.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===a.tagStr)break}},d.prototype._decodeList=function(e,t,a,n){for(var r=[];!e.isEmpty();){var c=this._peekTag(e,"end");if(e.isError(c))return c;var i=a.decode(e,"der",n);if(e.isError(i)&&c)break;r.push(i)}return r},d.prototype._decodeStr=function(e,t){if("bitstr"===t){var a=e.readUInt8();return e.isError(a)?a:{unused:a,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var r="",c=0;c<n.length/2;c++)r+=String.fromCharCode(n.readUInt16BE(2*c));return r}if("numstr"===t){var i=e.raw().toString("ascii");return this._isNumstr(i)?i:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var f=e.raw().toString("ascii");return this._isPrintstr(f)?f:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},d.prototype._decodeObjid=function(e,t,a){for(var n,r=[],c=0;!e.isEmpty();){var i=e.readUInt8();c<<=7,c|=127&i,0==(128&i)&&(r.push(c),c=0)}128&i&&r.push(c);var f=r[0]/40|0,o=r[0]%40;if(n=a?r:[f,o].concat(r.slice(1)),t){var d=t[n.join(" ")];void 0===d&&(d=t[n.join(".")]),void 0!==d&&(n=d)}return n},d.prototype._decodeTime=function(e,t){var a=e.raw().toString();if("gentime"===t)var n=0|a.slice(0,4),r=0|a.slice(4,6),c=0|a.slice(6,8),i=0|a.slice(8,10),f=0|a.slice(10,12),o=0|a.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|a.slice(0,2),r=0|a.slice(2,4),c=0|a.slice(4,6),i=0|a.slice(6,8),f=0|a.slice(8,10),o=0|a.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,r-1,c,i,f,o,0)},d.prototype._decodeNull=function(e){return null},d.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},d.prototype._decodeInt=function(e,t){var a=e.raw(),n=new i(a);return t&&(n=t[n.toString(10)]||n),n},d.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,a){var n=t;n._reverse=function(e){var t={};return Object.keys(e).forEach(function(a){(0|a)==a&&(a|=0);var n=e[a];t[n]=a}),t},n.der=a(815)},function(e,t,a){var n=a(0),r=a(96).Reporter,c=a(23).Buffer;function i(e,t){r.call(this,t),c.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function f(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof f||(e=new f(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=c.byteLength(e);else{if(!c.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(i,r),t.DecoderBuffer=i,i.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},i.prototype.restore=function(e){var t=new i(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,r.prototype.restore.call(this,e.reporter),t},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},i.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var a=new i(this.base);return a._reporterState=this._reporterState,a.offset=this.offset,a.length=this.offset+e,this.offset+=e,a},i.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=f,f.prototype.join=function(e,t){return e||(e=new c(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(a){a.join(e,t),t+=a.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):c.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,a){var n=a(820),r=a(809),c=a(808),i=a(328),f=a(191);function o(e){var t;"object"!=typeof e||Buffer.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=new Buffer(e));var a,o,d=c(e,t),s=d.tag,b=d.data;switch(s){case"CERTIFICATE":o=n.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=n.PublicKey.decode(b,"der")),a=o.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=n.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+s);case"ENCRYPTED PRIVATE KEY":b=function(e,t){var a=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),c=r[e.algorithm.decrypt.cipher.algo.join(".")],o=e.algorithm.decrypt.cipher.iv,d=e.subjectPrivateKey,s=parseInt(c.split("-")[1],10)/8,b=f.pbkdf2Sync(t,a,n,s),u=i.createDecipheriv(c,b,o),l=[];return l.push(u.update(d)),l.push(u.final()),Buffer.concat(l)}(b=n.EncryptedPrivateKey.decode(b,"der"),t);case"PRIVATE KEY":switch(a=(o=n.PrivateKey.decode(b,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:n.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=n.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+s);case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return{curve:(b=n.ECPrivateKey.decode(b,"der")).parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+s)}}e.exports=o,o.signature=n.signature},function(e,t){var a="0123456789abcdef".split(""),n=[1,256,65536,16777216],r=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],i=function(e){var t,a,n,r,i,f,o,d,s,b,u,l,p,h,m,v,g,y,_,w,A,x,k,E,S,T,C,O,R,j,F,M,B,N,I,P,L,D,z,U,H,q,V,G,W,K,Y,Z,Q,J,X,$,ee,te,ae,ne,re,ce,ie,fe,oe,de,se;for(n=0;n<48;n+=2)r=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],f=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],d=e[4]^e[14]^e[24]^e[34]^e[44],s=e[5]^e[15]^e[25]^e[35]^e[45],b=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],t=(l=e[8]^e[18]^e[28]^e[38]^e[48])^(f<<1|o>>>31),a=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|f>>>31),e[0]^=t,e[1]^=a,e[10]^=t,e[11]^=a,e[20]^=t,e[21]^=a,e[30]^=t,e[31]^=a,e[40]^=t,e[41]^=a,t=r^(d<<1|s>>>31),a=i^(s<<1|d>>>31),e[2]^=t,e[3]^=a,e[12]^=t,e[13]^=a,e[22]^=t,e[23]^=a,e[32]^=t,e[33]^=a,e[42]^=t,e[43]^=a,t=f^(b<<1|u>>>31),a=o^(u<<1|b>>>31),e[4]^=t,e[5]^=a,e[14]^=t,e[15]^=a,e[24]^=t,e[25]^=a,e[34]^=t,e[35]^=a,e[44]^=t,e[45]^=a,t=d^(l<<1|p>>>31),a=s^(p<<1|l>>>31),e[6]^=t,e[7]^=a,e[16]^=t,e[17]^=a,e[26]^=t,e[27]^=a,e[36]^=t,e[37]^=a,e[46]^=t,e[47]^=a,t=b^(r<<1|i>>>31),a=u^(i<<1|r>>>31),e[8]^=t,e[9]^=a,e[18]^=t,e[19]^=a,e[28]^=t,e[29]^=a,e[38]^=t,e[39]^=a,e[48]^=t,e[49]^=a,h=e[0],m=e[1],K=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,O=e[20]<<3|e[21]>>>29,R=e[21]<<3|e[20]>>>29,fe=e[31]<<9|e[30]>>>23,oe=e[30]<<9|e[31]>>>23,q=e[40]<<18|e[41]>>>14,V=e[41]<<18|e[40]>>>14,N=e[2]<<1|e[3]>>>31,I=e[3]<<1|e[2]>>>31,v=e[13]<<12|e[12]>>>20,g=e[12]<<12|e[13]>>>20,Z=e[22]<<10|e[23]>>>22,Q=e[23]<<10|e[22]>>>22,j=e[33]<<13|e[32]>>>19,F=e[32]<<13|e[33]>>>19,de=e[42]<<2|e[43]>>>30,se=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ae=e[4]<<30|e[5]>>>2,P=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,y=e[25]<<11|e[24]>>>21,_=e[24]<<11|e[25]>>>21,J=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,M=e[45]<<29|e[44]>>>3,B=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,re=e[16]<<23|e[17]>>>9,D=e[26]<<25|e[27]>>>7,z=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,A=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,T=e[18]<<20|e[19]>>>12,C=e[19]<<20|e[18]>>>12,ce=e[29]<<7|e[28]>>>25,ie=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,H=e[39]<<8|e[38]>>>24,x=e[48]<<14|e[49]>>>18,k=e[49]<<14|e[48]>>>18,e[0]=h^~v&y,e[1]=m^~g&_,e[10]=E^~T&O,e[11]=S^~C&R,e[20]=N^~P&D,e[21]=I^~L&z,e[30]=G^~K&Z,e[31]=W^~Y&Q,e[40]=te^~ne&ce,e[41]=ae^~re&ie,e[2]=v^~y&w,e[3]=g^~_&A,e[12]=T^~O&j,e[13]=C^~R&F,e[22]=P^~D&U,e[23]=L^~z&H,e[32]=K^~Z&J,e[33]=Y^~Q&X,e[42]=ne^~ce&fe,e[43]=re^~ie&oe,e[4]=y^~w&x,e[5]=_^~A&k,e[14]=O^~j&M,e[15]=R^~F&B,e[24]=D^~U&q,e[25]=z^~H&V,e[34]=Z^~J&$,e[35]=Q^~X&ee,e[44]=ce^~fe&de,e[45]=ie^~oe&se,e[6]=w^~x&h,e[7]=A^~k&m,e[16]=j^~M&E,e[17]=F^~B&S,e[26]=U^~q&N,e[27]=H^~V&I,e[36]=J^~$&G,e[37]=X^~ee&W,e[46]=fe^~de&te,e[47]=oe^~se&ae,e[8]=x^~h&v,e[9]=k^~m&g,e[18]=M^~E&T,e[19]=B^~S&C,e[28]=q^~N&P,e[29]=V^~I&L,e[38]=$^~G&K,e[39]=ee^~W&Y,e[48]=de^~te&ne,e[49]=se^~ae&re,e[0]^=c[n],e[1]^=c[n+1]},f=function(e){return function(t){var c;if("0x"===t.slice(0,2)){c=[];for(var f=2,o=t.length;f<o;f+=2)c.push(parseInt(t.slice(f,f+2),16))}else c=t;return function(e,t){for(var c,f=t.length,o=e.blocks,d=e.blockCount<<2,s=e.blockCount,b=e.outputBlocks,u=e.s,l=0;l<f;){if(e.reset)for(e.reset=!1,o[0]=e.block,m=1;m<s+1;++m)o[m]=0;if("string"!=typeof t)for(m=e.start;l<f&&m<d;++l)o[m>>2]|=t[l]<<r[3&m++];else for(m=e.start;l<f&&m<d;++l)(c=t.charCodeAt(l))<128?o[m>>2]|=c<<r[3&m++]:c<2048?(o[m>>2]|=(192|c>>6)<<r[3&m++],o[m>>2]|=(128|63&c)<<r[3&m++]):c<55296||c>=57344?(o[m>>2]|=(224|c>>12)<<r[3&m++],o[m>>2]|=(128|c>>6&63)<<r[3&m++],o[m>>2]|=(128|63&c)<<r[3&m++]):(c=65536+((1023&c)<<10|1023&t.charCodeAt(++l)),o[m>>2]|=(240|c>>18)<<r[3&m++],o[m>>2]|=(128|c>>12&63)<<r[3&m++],o[m>>2]|=(128|c>>6&63)<<r[3&m++],o[m>>2]|=(128|63&c)<<r[3&m++]);if(e.lastByteIndex=m,m>=d){for(e.start=m-d,e.block=o[s],m=0;m<s;++m)u[m]^=o[m];i(u),e.reset=!0}else e.start=m}if(o[(m=e.lastByteIndex)>>2]|=n[3&m],e.lastByteIndex===d)for(o[0]=o[s],m=1;m<s+1;++m)o[m]=0;for(o[s-1]|=2147483648,m=0;m<s;++m)u[m]^=o[m];i(u);for(var p,h="",m=0,v=0;v<b;){for(m=0;m<s&&v<b;++m,++v)p=u[m],h+=a[p>>4&15]+a[15&p]+a[p>>12&15]+a[p>>8&15]+a[p>>20&15]+a[p>>16&15]+a[p>>28&15]+a[p>>24&15];v%s==0&&(i(u),m=0)}return"0x"+h}(function(e){return{blocks:[],reset:!0,block:0,start:0,blockCount:1600-(e<<1)>>5,outputBlocks:e>>5,s:(t=[0,0,0,0,0,0,0,0,0,0],[].concat(t,t,t,t,t))};var t}(e),c)}};e.exports={keccak256:f(256),keccak512:f(512),keccak256s:f(256),keccak512s:f(512)}},function(e,t){e.exports={encode:function(e){var t=function(e){return(t=e.toString(16)).length%2==0?t:"0"+t;var t},a=function(e,a){return e<56?t(a+e):t(a+t(e).length/2+55)+t(e)};return"0x"+function e(t){if("string"==typeof t){var n=t.slice(2);return(2!=n.length||n>="80"?a(n.length/2,128):"")+n}var r=t.map(e).join("");return a(r.length/2,192)+r}(e)},decode:function(e){var t=2,a=function(){if(t>=e.length)throw"";var a=e.slice(t,t+2);return a<"80"?(t+=2,"0x"+a):a<"c0"?r():c()},n=function(){var a=parseInt(e.slice(t,t+=2),16)%64;return a<56?a:parseInt(e.slice(t,t+=2*(a-55)),16)},r=function(){var a=n();return"0x"+e.slice(t,t+=2*a)},c=function(){for(var e=2*n()+t,r=[];t<e;)r.push(a());return r};try{return a()}catch(e){return[]}}}},function(e,t,a){var n=a(8),r=a(186),c=function(e){return new n(e.slice(2),16)},i=function(e){var t="0x"+("0x"===e.slice(0,2)?new n(e.slice(2),16):new n(e,10)).toString("hex");return"0x0"===t?"0x":t},f=function(e){return"string"==typeof e?/^0x/.test(e)?e:"0x"+e:"0x"+new n(e).toString("hex")},o=function(e){return c(e).toNumber()},d=function(e){return function(t,a){return"0x"+c(t)[e](c(a)).toString("hex")}},s=d("add"),b=d("mul"),u=d("div"),l=d("sub");e.exports={toString:function(e){return c(e).toString(10)},fromString:i,toNumber:o,fromNumber:f,toEther:function(e){return o(u(e,i("10000000000")))/1e8},fromEther:function(e){return b(f(Math.floor(1e8*e)),i("10000000000"))},toUint256:function(e){return r.pad(32,e)},add:s,mul:b,div:u,sub:l}},function(e,t,a){"use strict";var n=a(13),r=n.maybeWrapAsError,c=a(51).OperationalError,i=a(74);var f=/^(?:name|message|stack|cause)$/;function o(e){var t;if(function(e){return e instanceof Error&&i.getPrototypeOf(e)===Error.prototype}(e)){(t=new c(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var a=i.keys(e),r=0;r<a.length;++r){var o=a[r];f.test(o)||(t[o]=e[o])}return t}return n.markAsOriginatingFromRejection(e),e}e.exports=function(e,t){return function(a,n){if(null!==e){if(a){var c=o(r(a));e._attachExtraTrace(c),e._reject(c)}else if(t){for(var i=arguments.length,f=new Array(i-1),d=1;d<i;++d)f[d-1]=arguments[d];e._fulfill(f)}else e._fulfill(n);e=null}}}},function(e,t,a){var n=a(40),r=function(e,t,a){this.value=e||"",this.offset=t,this.rawValue=a};r.prototype.dynamicPartLength=function(){return this.dynamicPart().length/2},r.prototype.withOffset=function(e){return new r(this.value,e)},r.prototype.combine=function(e){return new r(this.value+e.value)},r.prototype.isDynamic=function(){return void 0!==this.offset},r.prototype.offsetAsBytes=function(){return this.isDynamic()?n.toTwosComplement(this.offset).replace("0x",""):""},r.prototype.staticPart=function(){return this.isDynamic()?this.offsetAsBytes():this.value},r.prototype.dynamicPart=function(){return this.isDynamic()?this.value:""},r.prototype.encode=function(){return this.staticPart()+this.dynamicPart()},r.encodeList=function(e){var t=32*e.length,a=e.map(function(e){if(!e.isDynamic())return e;var a=t;return t+=e.dynamicPartLength(),e.withOffset(a)});return a.reduce(function(e,t){return e+t.dynamicPart()},a.reduce(function(e,t){return e+t.staticPart()},""))},e.exports=r},function(e,t,a){var n;(function(){var a=this,r=a._,c=Array.prototype,i=Object.prototype,f=Function.prototype,o=c.push,d=c.slice,s=i.toString,b=i.hasOwnProperty,u=Array.isArray,l=Object.keys,p=f.bind,h=Object.create,m=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};void 0!==e&&e.exports&&(t=e.exports=v),t._=v,v.VERSION="1.8.3";var g=function(e,t,a){if(void 0===t)return e;switch(null==a?3:a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,r){return e.call(t,a,n,r)};case 4:return function(a,n,r,c){return e.call(t,a,n,r,c)}}return function(){return e.apply(t,arguments)}},y=function(e,t,a){return null==e?v.identity:v.isFunction(e)?g(e,t,a):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return y(e,t,1/0)};var _=function(e,t){return function(a){var n=arguments.length;if(n<2||null==a)return a;for(var r=1;r<n;r++)for(var c=arguments[r],i=e(c),f=i.length,o=0;o<f;o++){var d=i[o];t&&void 0!==a[d]||(a[d]=c[d])}return a}},w=function(e){if(!v.isObject(e))return{};if(h)return h(e);m.prototype=e;var t=new m;return m.prototype=null,t},A=function(e){return function(t){return null==t?void 0:t[e]}},x=Math.pow(2,53)-1,k=A("length"),E=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=x};function S(e){return function(t,a,n,r){a=g(a,r,4);var c=!E(t)&&v.keys(t),i=(c||t).length,f=e>0?0:i-1;return arguments.length<3&&(n=t[c?c[f]:f],f+=e),function(t,a,n,r,c,i){for(;c>=0&&c<i;c+=e){var f=r?r[c]:c;n=a(n,t[f],f,t)}return n}(t,a,n,c,f,i)}}v.each=v.forEach=function(e,t,a){var n,r;if(t=g(t,a),E(e))for(n=0,r=e.length;n<r;n++)t(e[n],n,e);else{var c=v.keys(e);for(n=0,r=c.length;n<r;n++)t(e[c[n]],c[n],e)}return e},v.map=v.collect=function(e,t,a){t=y(t,a);for(var n=!E(e)&&v.keys(e),r=(n||e).length,c=Array(r),i=0;i<r;i++){var f=n?n[i]:i;c[i]=t(e[f],f,e)}return c},v.reduce=v.foldl=v.inject=S(1),v.reduceRight=v.foldr=S(-1),v.find=v.detect=function(e,t,a){var n;if(void 0!==(n=E(e)?v.findIndex(e,t,a):v.findKey(e,t,a))&&-1!==n)return e[n]},v.filter=v.select=function(e,t,a){var n=[];return t=y(t,a),v.each(e,function(e,a,r){t(e,a,r)&&n.push(e)}),n},v.reject=function(e,t,a){return v.filter(e,v.negate(y(t)),a)},v.every=v.all=function(e,t,a){t=y(t,a);for(var n=!E(e)&&v.keys(e),r=(n||e).length,c=0;c<r;c++){var i=n?n[c]:c;if(!t(e[i],i,e))return!1}return!0},v.some=v.any=function(e,t,a){t=y(t,a);for(var n=!E(e)&&v.keys(e),r=(n||e).length,c=0;c<r;c++){var i=n?n[c]:c;if(t(e[i],i,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,a,n){return E(e)||(e=v.values(e)),("number"!=typeof a||n)&&(a=0),v.indexOf(e,t,a)>=0},v.invoke=function(e,t){var a=d.call(arguments,2),n=v.isFunction(t);return v.map(e,function(e){var r=n?t:e[t];return null==r?r:r.apply(e,a)})},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,a){var n,r,c=-1/0,i=-1/0;if(null==t&&null!=e)for(var f=0,o=(e=E(e)?e:v.values(e)).length;f<o;f++)(n=e[f])>c&&(c=n);else t=y(t,a),v.each(e,function(e,a,n){((r=t(e,a,n))>i||r===-1/0&&c===-1/0)&&(c=e,i=r)});return c},v.min=function(e,t,a){var n,r,c=1/0,i=1/0;if(null==t&&null!=e)for(var f=0,o=(e=E(e)?e:v.values(e)).length;f<o;f++)(n=e[f])<c&&(c=n);else t=y(t,a),v.each(e,function(e,a,n){((r=t(e,a,n))<i||r===1/0&&c===1/0)&&(c=e,i=r)});return c},v.shuffle=function(e){for(var t,a=E(e)?e:v.values(e),n=a.length,r=Array(n),c=0;c<n;c++)(t=v.random(0,c))!==c&&(r[c]=r[t]),r[t]=a[c];return r},v.sample=function(e,t,a){return null==t||a?(E(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,a){return t=y(t,a),v.pluck(v.map(e,function(e,a,n){return{value:e,index:a,criteria:t(e,a,n)}}).sort(function(e,t){var a=e.criteria,n=t.criteria;if(a!==n){if(a>n||void 0===a)return 1;if(a<n||void 0===n)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,a,n){var r={};return a=y(a,n),v.each(t,function(n,c){var i=a(n,c,t);e(r,n,i)}),r}};v.groupBy=T(function(e,t,a){v.has(e,a)?e[a].push(t):e[a]=[t]}),v.indexBy=T(function(e,t,a){e[a]=t}),v.countBy=T(function(e,t,a){v.has(e,a)?e[a]++:e[a]=1}),v.toArray=function(e){return e?v.isArray(e)?d.call(e):E(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:E(e)?e.length:v.keys(e).length},v.partition=function(e,t,a){t=y(t,a);var n=[],r=[];return v.each(e,function(e,a,c){(t(e,a,c)?n:r).push(e)}),[n,r]},v.first=v.head=v.take=function(e,t,a){if(null!=e)return null==t||a?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,a){return d.call(e,0,Math.max(0,e.length-(null==t||a?1:t)))},v.last=function(e,t,a){if(null!=e)return null==t||a?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,a){return d.call(e,null==t||a?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var C=function(e,t,a,n){for(var r=[],c=0,i=n||0,f=k(e);i<f;i++){var o=e[i];if(E(o)&&(v.isArray(o)||v.isArguments(o))){t||(o=C(o,t,a));var d=0,s=o.length;for(r.length+=s;d<s;)r[c++]=o[d++]}else a||(r[c++]=o)}return r};function O(e){return function(t,a,n){a=y(a,n);for(var r=k(t),c=e>0?0:r-1;c>=0&&c<r;c+=e)if(a(t[c],c,t))return c;return-1}}function R(e,t,a){return function(n,r,c){var i=0,f=k(n);if("number"==typeof c)e>0?i=c>=0?c:Math.max(c+f,i):f=c>=0?Math.min(c+1,f):c+f+1;else if(a&&c&&f)return n[c=a(n,r)]===r?c:-1;if(r!=r)return(c=t(d.call(n,i,f),v.isNaN))>=0?c+i:-1;for(c=e>0?i:f-1;c>=0&&c<f;c+=e)if(n[c]===r)return c;return-1}}v.flatten=function(e,t){return C(e,t,!1)},v.without=function(e){return v.difference(e,d.call(arguments,1))},v.uniq=v.unique=function(e,t,a,n){v.isBoolean(t)||(n=a,a=t,t=!1),null!=a&&(a=y(a,n));for(var r=[],c=[],i=0,f=k(e);i<f;i++){var o=e[i],d=a?a(o,i,e):o;t?(i&&c===d||r.push(o),c=d):a?v.contains(c,d)||(c.push(d),r.push(o)):v.contains(r,o)||r.push(o)}return r},v.union=function(){return v.uniq(C(arguments,!0,!0))},v.intersection=function(e){for(var t=[],a=arguments.length,n=0,r=k(e);n<r;n++){var c=e[n];if(!v.contains(t,c)){for(var i=1;i<a&&v.contains(arguments[i],c);i++);i===a&&t.push(c)}}return t},v.difference=function(e){var t=C(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(t,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,k).length||0,a=Array(t),n=0;n<t;n++)a[n]=v.pluck(e,n);return a},v.object=function(e,t){for(var a={},n=0,r=k(e);n<r;n++)t?a[e[n]]=t[n]:a[e[n][0]]=e[n][1];return a},v.findIndex=O(1),v.findLastIndex=O(-1),v.sortedIndex=function(e,t,a,n){for(var r=(a=y(a,n,1))(t),c=0,i=k(e);c<i;){var f=Math.floor((c+i)/2);a(e[f])<r?c=f+1:i=f}return c},v.indexOf=R(1,v.findIndex,v.sortedIndex),v.lastIndexOf=R(-1,v.findLastIndex),v.range=function(e,t,a){null==t&&(t=e||0,e=0),a=a||1;for(var n=Math.max(Math.ceil((t-e)/a),0),r=Array(n),c=0;c<n;c++,e+=a)r[c]=e;return r};var j=function(e,t,a,n,r){if(!(n instanceof t))return e.apply(a,r);var c=w(e.prototype),i=e.apply(c,r);return v.isObject(i)?i:c};v.bind=function(e,t){if(p&&e.bind===p)return p.apply(e,d.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var a=d.call(arguments,2),n=function(){return j(e,n,t,this,a.concat(d.call(arguments)))};return n},v.partial=function(e){var t=d.call(arguments,1),a=function(){for(var n=0,r=t.length,c=Array(r),i=0;i<r;i++)c[i]=t[i]===v?arguments[n++]:t[i];for(;n<arguments.length;)c.push(arguments[n++]);return j(e,a,this,this,c)};return a},v.bindAll=function(e){var t,a,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)e[a=arguments[t]]=v.bind(e[a],e);return e},v.memoize=function(e,t){var a=function(n){var r=a.cache,c=""+(t?t.apply(this,arguments):n);return v.has(r,c)||(r[c]=e.apply(this,arguments)),r[c]};return a.cache={},a},v.delay=function(e,t){var a=d.call(arguments,2);return setTimeout(function(){return e.apply(null,a)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,a){var n,r,c,i=null,f=0;a||(a={});var o=function(){f=!1===a.leading?0:v.now(),i=null,c=e.apply(n,r),i||(n=r=null)};return function(){var d=v.now();f||!1!==a.leading||(f=d);var s=t-(d-f);return n=this,r=arguments,s<=0||s>t?(i&&(clearTimeout(i),i=null),f=d,c=e.apply(n,r),i||(n=r=null)):i||!1===a.trailing||(i=setTimeout(o,s)),c}},v.debounce=function(e,t,a){var n,r,c,i,f,o=function(){var d=v.now()-i;d<t&&d>=0?n=setTimeout(o,t-d):(n=null,a||(f=e.apply(c,r),n||(c=r=null)))};return function(){c=this,r=arguments,i=v.now();var d=a&&!n;return n||(n=setTimeout(o,t)),d&&(f=e.apply(c,r),c=r=null),f}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var a=t,n=e[t].apply(this,arguments);a--;)n=e[a].call(this,n);return n}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var a;return function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=null),a}},v.once=v.partial(v.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function B(e,t){var a=M.length,n=e.constructor,r=v.isFunction(n)&&n.prototype||i,c="constructor";for(v.has(e,c)&&!v.contains(t,c)&&t.push(c);a--;)(c=M[a])in e&&e[c]!==r[c]&&!v.contains(t,c)&&t.push(c)}v.keys=function(e){if(!v.isObject(e))return[];if(l)return l(e);var t=[];for(var a in e)v.has(e,a)&&t.push(a);return F&&B(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var a in e)t.push(a);return F&&B(e,t),t},v.values=function(e){for(var t=v.keys(e),a=t.length,n=Array(a),r=0;r<a;r++)n[r]=e[t[r]];return n},v.mapObject=function(e,t,a){t=y(t,a);for(var n,r=v.keys(e),c=r.length,i={},f=0;f<c;f++)i[n=r[f]]=t(e[n],n,e);return i},v.pairs=function(e){for(var t=v.keys(e),a=t.length,n=Array(a),r=0;r<a;r++)n[r]=[t[r],e[t[r]]];return n},v.invert=function(e){for(var t={},a=v.keys(e),n=0,r=a.length;n<r;n++)t[e[a[n]]]=a[n];return t},v.functions=v.methods=function(e){var t=[];for(var a in e)v.isFunction(e[a])&&t.push(a);return t.sort()},v.extend=_(v.allKeys),v.extendOwn=v.assign=_(v.keys),v.findKey=function(e,t,a){t=y(t,a);for(var n,r=v.keys(e),c=0,i=r.length;c<i;c++)if(t(e[n=r[c]],n,e))return n},v.pick=function(e,t,a){var n,r,c={},i=e;if(null==i)return c;v.isFunction(t)?(r=v.allKeys(i),n=g(t,a)):(r=C(arguments,!1,!1,1),n=function(e,t,a){return t in a},i=Object(i));for(var f=0,o=r.length;f<o;f++){var d=r[f],s=i[d];n(s,d,i)&&(c[d]=s)}return c},v.omit=function(e,t,a){if(v.isFunction(t))t=v.negate(t);else{var n=v.map(C(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(n,t)}}return v.pick(e,t,a)},v.defaults=_(v.allKeys,!0),v.create=function(e,t){var a=w(e);return t&&v.extendOwn(a,t),a},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var a=v.keys(t),n=a.length;if(null==e)return!n;for(var r=Object(e),c=0;c<n;c++){var i=a[c];if(t[i]!==r[i]||!(i in r))return!1}return!0};var N=function(e,t,a,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var r=s.call(e);if(r!==s.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var c="[object Array]"===r;if(!c){if("object"!=typeof e||"object"!=typeof t)return!1;var i=e.constructor,f=t.constructor;if(i!==f&&!(v.isFunction(i)&&i instanceof i&&v.isFunction(f)&&f instanceof f)&&"constructor"in e&&"constructor"in t)return!1}a=a||[],n=n||[];for(var o=a.length;o--;)if(a[o]===e)return n[o]===t;if(a.push(e),n.push(t),c){if((o=e.length)!==t.length)return!1;for(;o--;)if(!N(e[o],t[o],a,n))return!1}else{var d,b=v.keys(e);if(o=b.length,v.keys(t).length!==o)return!1;for(;o--;)if(d=b[o],!v.has(t,d)||!N(e[d],t[d],a,n))return!1}return a.pop(),n.pop(),!0};v.isEqual=function(e,t){return N(e,t)},v.isEmpty=function(e){return null==e||(E(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=u||function(e){return"[object Array]"===s.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return s.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===s.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&b.call(e,t)},v.noConflict=function(){return a._=r,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=A,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,a){var n=Array(Math.max(0,e));t=g(t,a,1);for(var r=0;r<e;r++)n[r]=t(r);return n},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=v.invert(I),L=function(e){var t=function(t){return e[t]},a="(?:"+v.keys(e).join("|")+")",n=RegExp(a),r=RegExp(a,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(r,t):e}};v.escape=L(I),v.unescape=L(P),v.result=function(e,t,a){var n=null==e?void 0:e[t];return void 0===n&&(n=a),v.isFunction(n)?n.call(e):n};var D=0;v.uniqueId=function(e){var t=++D+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+U[e]};v.template=function(e,t,a){!t&&a&&(t=a),t=v.defaults({},t,v.templateSettings);var n=RegExp([(t.escape||z).source,(t.interpolate||z).source,(t.evaluate||z).source].join("|")+"|$","g"),r=0,c="__p+='";e.replace(n,function(t,a,n,i,f){return c+=e.slice(r,f).replace(H,q),r=f+t.length,a?c+="'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":n?c+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(c+="';\n"+i+"\n__p+='"),t}),c+="';\n",t.variable||(c="with(obj||{}){\n"+c+"}\n"),c="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+c+"return __p;\n";try{var i=new Function(t.variable||"obj","_",c)}catch(e){throw e.source=c,e}var f=function(e){return i.call(this,e,v)},o=t.variable||"obj";return f.source="function("+o+"){\n"+c+"}",f},v.chain=function(e){var t=v(e);return t._chain=!0,t};var V=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var a=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),V(this,a.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];v.prototype[e]=function(){var a=this._wrapped;return t.apply(a,arguments),"shift"!==e&&"splice"!==e||0!==a.length||delete a[0],V(this,a)}}),v.each(["concat","join","slice"],function(e){var t=c[e];v.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(t,[]))||(e.exports=n)}).call(this)},function(e,t,a){var n=a(339),r=a(33),c=a(40),i=a(873),f=a(872),o=a(871),d=a(870),s=a(869),b=a(868),u=a(867),l=function(e,t){return e.isDynamicType(t)||e.isDynamicArray(t)};function p(){}var h=function(e){this._types=e};h.prototype._requireType=function(e){var t=this._types.filter(function(t){return t.isType(e)})[0];if(!t)throw Error("Invalid solidity type: "+e);return t},h.prototype._getOffsets=function(e,t){for(var a=t.map(function(t,a){return t.staticPartLength(e[a])}),n=1;n<a.length;n++)a[n]+=a[n-1];return a.map(function(a,n){return a-t[n].staticPartLength(e[n])})},h.prototype._getSolidityTypes=function(e){var t=this;return e.map(function(e){return t._requireType(e)})},h.prototype._encodeMultiWithOffset=function(e,t,a,n){var r="",i=this;return e.forEach(function(f,o){if(l(t[o],e[o])){r+=c.formatInputInt(n).encode();var d=i._encodeWithOffset(e[o],t[o],a[o],n);n+=d.length/2}else r+=i._encodeWithOffset(e[o],t[o],a[o],n)}),e.forEach(function(c,f){if(l(t[f],e[f])){var o=i._encodeWithOffset(e[f],t[f],a[f],n);n+=o.length/2,r+=o}}),r},h.prototype._encodeWithOffset=function(e,t,a,n){var r,i,f,o=this;return t.isDynamicArray(e)?(r=t.nestedName(e),i=t.staticPartLength(r),f=a[0],function(){var e=2;if(t.isDynamicArray(r))for(var o=1;o<a.length;o++)e+=+a[o-1][0]||0,f+=c.formatInputInt(n+o*i+32*e).encode()}(),function(){for(var e=0;e<a.length-1;e++){var c=f/2;f+=o._encodeWithOffset(r,t,a[e+1],n+c)}}(),f):t.isStaticArray(e)?function(){var r=t.nestedName(e),i=t.staticPartLength(r),f="";return t.isDynamicArray(r)&&function(){for(var e=0,t=0;t<a.length;t++)e+=+(a[t-1]||[])[0]||0,f+=c.formatInputInt(n+t*i+32*e).encode()}(),function(){for(var e=0;e<a.length;e++){var c=f/2;f+=o._encodeWithOffset(r,t,a[e],n+c)}}(),f}():a},h.prototype.encodeFunctionSignature=function(e){return n.isObject(e)&&(e=r._jsonInterfaceMethodToString(e)),r.sha3(e).slice(0,10)},h.prototype.encodeEventSignature=function(e){return n.isObject(e)&&(e=r._jsonInterfaceMethodToString(e)),r.sha3(e)},h.prototype.encodeParameter=function(e,t){return this.encodeParameters([e],[t])},h.prototype.encodeParameters=function(e,t){n.isObject(e)&&e.inputs&&(e=n.map(e.inputs,function(e){return e.type}));var a=this._getSolidityTypes(e),r=a.map(function(a,n){return a.encode(t[n],e[n])}),c=a.reduce(function(t,n,r){var c=n.staticPartLength(e[r]),i=32*Math.floor((c+31)/32);return t+(l(a[r],e[r])?32:i)},0);return"0x"+this._encodeMultiWithOffset(e,a,r,c)},h.prototype.encodeFunctionCall=function(e,t){return this.encodeFunctionSignature(e)+this.encodeParameters(e,t).replace("0x","")},h.prototype.decodeParameter=function(e,t){if(!n.isString(e))throw new Error("Given parameter type is not a string: "+e);return this.decodeParameters([{type:e}],t)[0]},h.prototype.decodeParameters=function(e,t){var a=n.isArray(e)&&n.isString(e[0]),r=a?e:[];a||e.forEach(function(e){r.push(e.type)});var c=this._getSolidityTypes(r),i=this._getOffsets(r,c),f=new p;f.__length__=0;var o=0;return e.forEach(function(e,a){var d=c[o].decode(t.replace(/^0x/i,""),i[o],r[o],o);d="0x"===d?null:d,f[a]=d,n.isObject(e)&&e.name&&(f[e.name]=d),f.__length__++,o++}),f},h.prototype.decodeLog=function(e,t,a){t=t||"";var r=[],c=[];e.forEach(function(e,t){e.indexed?c[t]=e:r[t]=e});var i=t.slice(2),f=n.isArray(a)?a.map(function(e){return e.slice(2)}).join(""):a,o=this.decodeParameters(r,i),d=this.decodeParameters(c,f),s=new p;return s.__length__=0,e.forEach(function(e,t){s[t]="string"===e.type?"":null,o[t]&&(s[t]=o[t]),d[t]&&(s[t]=d[t]),e.name&&(s[e.name]=s[t]),s.__length__++}),s};var m=new h([new i,new f,new o,new d,new s,new u,new b]);e.exports=m},function(e,t,a){"use strict";var n=a(64),r=a(63),c=a(33),i=a(130),f=a(24).formatters,o=function(){var e=this;n.packageInit(this,arguments),this.net=new i(this.currentProvider);var t=null,a="latest";Object.defineProperty(this,"defaultAccount",{get:function(){return t},set:function(e){return e&&(t=c.toChecksumAddress(f.inputAddressFormatter(e))),o.forEach(function(e){e.defaultAccount=t}),e},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return a},set:function(e){return a=e,o.forEach(function(e){e.defaultBlock=a}),e},enumerable:!0});var o=[new r({name:"getAccounts",call:"personal_listAccounts",params:0,outputFormatter:c.toChecksumAddress}),new r({name:"newAccount",call:"personal_newAccount",params:1,inputFormatter:[null],outputFormatter:c.toChecksumAddress}),new r({name:"unlockAccount",call:"personal_unlockAccount",params:3,inputFormatter:[f.inputAddressFormatter,null,null]}),new r({name:"lockAccount",call:"personal_lockAccount",params:1,inputFormatter:[f.inputAddressFormatter]}),new r({name:"importRawKey",call:"personal_importRawKey",params:2}),new r({name:"sendTransaction",call:"personal_sendTransaction",params:2,inputFormatter:[f.inputTransactionFormatter,null]}),new r({name:"sign",call:"personal_sign",params:3,inputFormatter:[f.inputSignFormatter,f.inputAddressFormatter,null]}),new r({name:"ecRecover",call:"personal_ecRecover",params:2,inputFormatter:[f.inputSignFormatter,null]})];o.forEach(function(t){t.attachToObject(e),t.setRequestManager(e._requestManager),t.defaultBlock=e.defaultBlock,t.defaultAccount=e.defaultAccount})};n.addProviders(o),e.exports=o},function(e,t,a){var n;(function(){var a=this,r=a._,c=Array.prototype,i=Object.prototype,f=Function.prototype,o=c.push,d=c.slice,s=i.toString,b=i.hasOwnProperty,u=Array.isArray,l=Object.keys,p=f.bind,h=Object.create,m=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};void 0!==e&&e.exports&&(t=e.exports=v),t._=v,v.VERSION="1.8.3";var g=function(e,t,a){if(void 0===t)return e;switch(null==a?3:a){case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,r){return e.call(t,a,n,r)};case 4:return function(a,n,r,c){return e.call(t,a,n,r,c)}}return function(){return e.apply(t,arguments)}},y=function(e,t,a){return null==e?v.identity:v.isFunction(e)?g(e,t,a):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return y(e,t,1/0)};var _=function(e,t){return function(a){var n=arguments.length;if(n<2||null==a)return a;for(var r=1;r<n;r++)for(var c=arguments[r],i=e(c),f=i.length,o=0;o<f;o++){var d=i[o];t&&void 0!==a[d]||(a[d]=c[d])}return a}},w=function(e){if(!v.isObject(e))return{};if(h)return h(e);m.prototype=e;var t=new m;return m.prototype=null,t},A=function(e){return function(t){return null==t?void 0:t[e]}},x=Math.pow(2,53)-1,k=A("length"),E=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=x};function S(e){return function(t,a,n,r){a=g(a,r,4);var c=!E(t)&&v.keys(t),i=(c||t).length,f=e>0?0:i-1;return arguments.length<3&&(n=t[c?c[f]:f],f+=e),function(t,a,n,r,c,i){for(;c>=0&&c<i;c+=e){var f=r?r[c]:c;n=a(n,t[f],f,t)}return n}(t,a,n,c,f,i)}}v.each=v.forEach=function(e,t,a){var n,r;if(t=g(t,a),E(e))for(n=0,r=e.length;n<r;n++)t(e[n],n,e);else{var c=v.keys(e);for(n=0,r=c.length;n<r;n++)t(e[c[n]],c[n],e)}return e},v.map=v.collect=function(e,t,a){t=y(t,a);for(var n=!E(e)&&v.keys(e),r=(n||e).length,c=Array(r),i=0;i<r;i++){var f=n?n[i]:i;c[i]=t(e[f],f,e)}return c},v.reduce=v.foldl=v.inject=S(1),v.reduceRight=v.foldr=S(-1),v.find=v.detect=function(e,t,a){var n;if(void 0!==(n=E(e)?v.findIndex(e,t,a):v.findKey(e,t,a))&&-1!==n)return e[n]},v.filter=v.select=function(e,t,a){var n=[];return t=y(t,a),v.each(e,function(e,a,r){t(e,a,r)&&n.push(e)}),n},v.reject=function(e,t,a){return v.filter(e,v.negate(y(t)),a)},v.every=v.all=function(e,t,a){t=y(t,a);for(var n=!E(e)&&v.keys(e),r=(n||e).length,c=0;c<r;c++){var i=n?n[c]:c;if(!t(e[i],i,e))return!1}return!0},v.some=v.any=function(e,t,a){t=y(t,a);for(var n=!E(e)&&v.keys(e),r=(n||e).length,c=0;c<r;c++){var i=n?n[c]:c;if(t(e[i],i,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,a,n){return E(e)||(e=v.values(e)),("number"!=typeof a||n)&&(a=0),v.indexOf(e,t,a)>=0},v.invoke=function(e,t){var a=d.call(arguments,2),n=v.isFunction(t);return v.map(e,function(e){var r=n?t:e[t];return null==r?r:r.apply(e,a)})},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,a){var n,r,c=-1/0,i=-1/0;if(null==t&&null!=e)for(var f=0,o=(e=E(e)?e:v.values(e)).length;f<o;f++)(n=e[f])>c&&(c=n);else t=y(t,a),v.each(e,function(e,a,n){((r=t(e,a,n))>i||r===-1/0&&c===-1/0)&&(c=e,i=r)});return c},v.min=function(e,t,a){var n,r,c=1/0,i=1/0;if(null==t&&null!=e)for(var f=0,o=(e=E(e)?e:v.values(e)).length;f<o;f++)(n=e[f])<c&&(c=n);else t=y(t,a),v.each(e,function(e,a,n){((r=t(e,a,n))<i||r===1/0&&c===1/0)&&(c=e,i=r)});return c},v.shuffle=function(e){for(var t,a=E(e)?e:v.values(e),n=a.length,r=Array(n),c=0;c<n;c++)(t=v.random(0,c))!==c&&(r[c]=r[t]),r[t]=a[c];return r},v.sample=function(e,t,a){return null==t||a?(E(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,a){return t=y(t,a),v.pluck(v.map(e,function(e,a,n){return{value:e,index:a,criteria:t(e,a,n)}}).sort(function(e,t){var a=e.criteria,n=t.criteria;if(a!==n){if(a>n||void 0===a)return 1;if(a<n||void 0===n)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,a,n){var r={};return a=y(a,n),v.each(t,function(n,c){var i=a(n,c,t);e(r,n,i)}),r}};v.groupBy=T(function(e,t,a){v.has(e,a)?e[a].push(t):e[a]=[t]}),v.indexBy=T(function(e,t,a){e[a]=t}),v.countBy=T(function(e,t,a){v.has(e,a)?e[a]++:e[a]=1}),v.toArray=function(e){return e?v.isArray(e)?d.call(e):E(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:E(e)?e.length:v.keys(e).length},v.partition=function(e,t,a){t=y(t,a);var n=[],r=[];return v.each(e,function(e,a,c){(t(e,a,c)?n:r).push(e)}),[n,r]},v.first=v.head=v.take=function(e,t,a){if(null!=e)return null==t||a?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,a){return d.call(e,0,Math.max(0,e.length-(null==t||a?1:t)))},v.last=function(e,t,a){if(null!=e)return null==t||a?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,a){return d.call(e,null==t||a?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var C=function(e,t,a,n){for(var r=[],c=0,i=n||0,f=k(e);i<f;i++){var o=e[i];if(E(o)&&(v.isArray(o)||v.isArguments(o))){t||(o=C(o,t,a));var d=0,s=o.length;for(r.length+=s;d<s;)r[c++]=o[d++]}else a||(r[c++]=o)}return r};function O(e){return function(t,a,n){a=y(a,n);for(var r=k(t),c=e>0?0:r-1;c>=0&&c<r;c+=e)if(a(t[c],c,t))return c;return-1}}function R(e,t,a){return function(n,r,c){var i=0,f=k(n);if("number"==typeof c)e>0?i=c>=0?c:Math.max(c+f,i):f=c>=0?Math.min(c+1,f):c+f+1;else if(a&&c&&f)return n[c=a(n,r)]===r?c:-1;if(r!=r)return(c=t(d.call(n,i,f),v.isNaN))>=0?c+i:-1;for(c=e>0?i:f-1;c>=0&&c<f;c+=e)if(n[c]===r)return c;return-1}}v.flatten=function(e,t){return C(e,t,!1)},v.without=function(e){return v.difference(e,d.call(arguments,1))},v.uniq=v.unique=function(e,t,a,n){v.isBoolean(t)||(n=a,a=t,t=!1),null!=a&&(a=y(a,n));for(var r=[],c=[],i=0,f=k(e);i<f;i++){var o=e[i],d=a?a(o,i,e):o;t?(i&&c===d||r.push(o),c=d):a?v.contains(c,d)||(c.push(d),r.push(o)):v.contains(r,o)||r.push(o)}return r},v.union=function(){return v.uniq(C(arguments,!0,!0))},v.intersection=function(e){for(var t=[],a=arguments.length,n=0,r=k(e);n<r;n++){var c=e[n];if(!v.contains(t,c)){for(var i=1;i<a&&v.contains(arguments[i],c);i++);i===a&&t.push(c)}}return t},v.difference=function(e){var t=C(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(t,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,k).length||0,a=Array(t),n=0;n<t;n++)a[n]=v.pluck(e,n);return a},v.object=function(e,t){for(var a={},n=0,r=k(e);n<r;n++)t?a[e[n]]=t[n]:a[e[n][0]]=e[n][1];return a},v.findIndex=O(1),v.findLastIndex=O(-1),v.sortedIndex=function(e,t,a,n){for(var r=(a=y(a,n,1))(t),c=0,i=k(e);c<i;){var f=Math.floor((c+i)/2);a(e[f])<r?c=f+1:i=f}return c},v.indexOf=R(1,v.findIndex,v.sortedIndex),v.lastIndexOf=R(-1,v.findLastIndex),v.range=function(e,t,a){null==t&&(t=e||0,e=0),a=a||1;for(var n=Math.max(Math.ceil((t-e)/a),0),r=Array(n),c=0;c<n;c++,e+=a)r[c]=e;return r};var j=function(e,t,a,n,r){if(!(n instanceof t))return e.apply(a,r);var c=w(e.prototype),i=e.apply(c,r);return v.isObject(i)?i:c};v.bind=function(e,t){if(p&&e.bind===p)return p.apply(e,d.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var a=d.call(arguments,2),n=function(){return j(e,n,t,this,a.concat(d.call(arguments)))};return n},v.partial=function(e){var t=d.call(arguments,1),a=function(){for(var n=0,r=t.length,c=Array(r),i=0;i<r;i++)c[i]=t[i]===v?arguments[n++]:t[i];for(;n<arguments.length;)c.push(arguments[n++]);return j(e,a,this,this,c)};return a},v.bindAll=function(e){var t,a,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)e[a=arguments[t]]=v.bind(e[a],e);return e},v.memoize=function(e,t){var a=function(n){var r=a.cache,c=""+(t?t.apply(this,arguments):n);return v.has(r,c)||(r[c]=e.apply(this,arguments)),r[c]};return a.cache={},a},v.delay=function(e,t){var a=d.call(arguments,2);return setTimeout(function(){return e.apply(null,a)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,a){var n,r,c,i=null,f=0;a||(a={});var o=function(){f=!1===a.leading?0:v.now(),i=null,c=e.apply(n,r),i||(n=r=null)};return function(){var d=v.now();f||!1!==a.leading||(f=d);var s=t-(d-f);return n=this,r=arguments,s<=0||s>t?(i&&(clearTimeout(i),i=null),f=d,c=e.apply(n,r),i||(n=r=null)):i||!1===a.trailing||(i=setTimeout(o,s)),c}},v.debounce=function(e,t,a){var n,r,c,i,f,o=function(){var d=v.now()-i;d<t&&d>=0?n=setTimeout(o,t-d):(n=null,a||(f=e.apply(c,r),n||(c=r=null)))};return function(){c=this,r=arguments,i=v.now();var d=a&&!n;return n||(n=setTimeout(o,t)),d&&(f=e.apply(c,r),c=r=null),f}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var a=t,n=e[t].apply(this,arguments);a--;)n=e[a].call(this,n);return n}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var a;return function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=null),a}},v.once=v.partial(v.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function B(e,t){var a=M.length,n=e.constructor,r=v.isFunction(n)&&n.prototype||i,c="constructor";for(v.has(e,c)&&!v.contains(t,c)&&t.push(c);a--;)(c=M[a])in e&&e[c]!==r[c]&&!v.contains(t,c)&&t.push(c)}v.keys=function(e){if(!v.isObject(e))return[];if(l)return l(e);var t=[];for(var a in e)v.has(e,a)&&t.push(a);return F&&B(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var a in e)t.push(a);return F&&B(e,t),t},v.values=function(e){for(var t=v.keys(e),a=t.length,n=Array(a),r=0;r<a;r++)n[r]=e[t[r]];return n},v.mapObject=function(e,t,a){t=y(t,a);for(var n,r=v.keys(e),c=r.length,i={},f=0;f<c;f++)i[n=r[f]]=t(e[n],n,e);return i},v.pairs=function(e){for(var t=v.keys(e),a=t.length,n=Array(a),r=0;r<a;r++)n[r]=[t[r],e[t[r]]];return n},v.invert=function(e){for(var t={},a=v.keys(e),n=0,r=a.length;n<r;n++)t[e[a[n]]]=a[n];return t},v.functions=v.methods=function(e){var t=[];for(var a in e)v.isFunction(e[a])&&t.push(a);return t.sort()},v.extend=_(v.allKeys),v.extendOwn=v.assign=_(v.keys),v.findKey=function(e,t,a){t=y(t,a);for(var n,r=v.keys(e),c=0,i=r.length;c<i;c++)if(t(e[n=r[c]],n,e))return n},v.pick=function(e,t,a){var n,r,c={},i=e;if(null==i)return c;v.isFunction(t)?(r=v.allKeys(i),n=g(t,a)):(r=C(arguments,!1,!1,1),n=function(e,t,a){return t in a},i=Object(i));for(var f=0,o=r.length;f<o;f++){var d=r[f],s=i[d];n(s,d,i)&&(c[d]=s)}return c},v.omit=function(e,t,a){if(v.isFunction(t))t=v.negate(t);else{var n=v.map(C(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(n,t)}}return v.pick(e,t,a)},v.defaults=_(v.allKeys,!0),v.create=function(e,t){var a=w(e);return t&&v.extendOwn(a,t),a},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var a=v.keys(t),n=a.length;if(null==e)return!n;for(var r=Object(e),c=0;c<n;c++){var i=a[c];if(t[i]!==r[i]||!(i in r))return!1}return!0};var N=function(e,t,a,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var r=s.call(e);if(r!==s.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var c="[object Array]"===r;if(!c){if("object"!=typeof e||"object"!=typeof t)return!1;var i=e.constructor,f=t.constructor;if(i!==f&&!(v.isFunction(i)&&i instanceof i&&v.isFunction(f)&&f instanceof f)&&"constructor"in e&&"constructor"in t)return!1}a=a||[],n=n||[];for(var o=a.length;o--;)if(a[o]===e)return n[o]===t;if(a.push(e),n.push(t),c){if((o=e.length)!==t.length)return!1;for(;o--;)if(!N(e[o],t[o],a,n))return!1}else{var d,b=v.keys(e);if(o=b.length,v.keys(t).length!==o)return!1;for(;o--;)if(d=b[o],!v.has(t,d)||!N(e[d],t[d],a,n))return!1}return a.pop(),n.pop(),!0};v.isEqual=function(e,t){return N(e,t)},v.isEmpty=function(e){return null==e||(E(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=u||function(e){return"[object Array]"===s.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return s.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===s.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&b.call(e,t)},v.noConflict=function(){return a._=r,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=A,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,a){var n=Array(Math.max(0,e));t=g(t,a,1);for(var r=0;r<e;r++)n[r]=t(r);return n},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},P=v.invert(I),L=function(e){var t=function(t){return e[t]},a="(?:"+v.keys(e).join("|")+")",n=RegExp(a),r=RegExp(a,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(r,t):e}};v.escape=L(I),v.unescape=L(P),v.result=function(e,t,a){var n=null==e?void 0:e[t];return void 0===n&&(n=a),v.isFunction(n)?n.call(e):n};var D=0;v.uniqueId=function(e){var t=++D+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+U[e]};v.template=function(e,t,a){!t&&a&&(t=a),t=v.defaults({},t,v.templateSettings);var n=RegExp([(t.escape||z).source,(t.interpolate||z).source,(t.evaluate||z).source].join("|")+"|$","g"),r=0,c="__p+='";e.replace(n,function(t,a,n,i,f){return c+=e.slice(r,f).replace(H,q),r=f+t.length,a?c+="'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":n?c+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(c+="';\n"+i+"\n__p+='"),t}),c+="';\n",t.variable||(c="with(obj||{}){\n"+c+"}\n"),c="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+c+"return __p;\n";try{var i=new Function(t.variable||"obj","_",c)}catch(e){throw e.source=c,e}var f=function(e){return i.call(this,e,v)},o=t.variable||"obj";return f.source="function("+o+"){\n"+c+"}",f},v.chain=function(e){var t=v(e);return t._chain=!0,t};var V=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var a=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),V(this,a.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=c[e];v.prototype[e]=function(){var a=this._wrapped;return t.apply(a,arguments),"shift"!==e&&"splice"!==e||0!==a.length||delete a[0],V(this,a)}}),v.each(["concat","join","slice"],function(e){var t=c[e];v.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},void 0===(n=function(){return v}.apply(t,[]))||(e.exports=n)}).call(this)},function(e,t,a){"use strict";var n=a(14),r=n.maybeWrapAsError,c=a(52).OperationalError,i=a(75);var f=/^(?:name|message|stack|cause)$/;function o(e){var t;if(function(e){return e instanceof Error&&i.getPrototypeOf(e)===Error.prototype}(e)){(t=new c(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var a=i.keys(e),r=0;r<a.length;++r){var o=a[r];f.test(o)||(t[o]=e[o])}return t}return n.markAsOriginatingFromRejection(e),e}e.exports=function(e,t){return function(a,n){if(null!==e){if(a){var c=o(r(a));e._attachExtraTrace(c),e._reject(c)}else if(t){for(var i=arguments.length,f=new Array(i-1),d=1;d<i;++d)f[d-1]=arguments[d];e._fulfill(f)}else e._fulfill(n);e=null}}}},function(e,t,a){"use strict";var n="function"!=typeof Object.create&&"~";function r(e,t,a){this.fn=e,this.context=t,this.once=a||!1}function c(){}c.prototype._events=void 0,c.prototype.listeners=function(e,t){var a=n?n+e:e,r=this._events&&this._events[a];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var c=0,i=r.length,f=new Array(i);c<i;c++)f[c]=r[c].fn;return f},c.prototype.emit=function(e,t,a,r,c,i){var f=n?n+e:e;if(!this._events||!this._events[f])return!1;var o,d,s=this._events[f],b=arguments.length;if("function"==typeof s.fn){switch(s.once&&this.removeListener(e,s.fn,void 0,!0),b){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,t),!0;case 3:return s.fn.call(s.context,t,a),!0;case 4:return s.fn.call(s.context,t,a,r),!0;case 5:return s.fn.call(s.context,t,a,r,c),!0;case 6:return s.fn.call(s.context,t,a,r,c,i),!0}for(d=1,o=new Array(b-1);d<b;d++)o[d-1]=arguments[d];s.fn.apply(s.context,o)}else{var u,l=s.length;for(d=0;d<l;d++)switch(s[d].once&&this.removeListener(e,s[d].fn,void 0,!0),b){case 1:s[d].fn.call(s[d].context);break;case 2:s[d].fn.call(s[d].context,t);break;case 3:s[d].fn.call(s[d].context,t,a);break;default:if(!o)for(u=1,o=new Array(b-1);u<b;u++)o[u-1]=arguments[u];s[d].fn.apply(s[d].context,o)}}return!0},c.prototype.on=function(e,t,a){var c=new r(t,a||this),i=n?n+e:e;return this._events||(this._events=n?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],c]:this._events[i].push(c):this._events[i]=c,this},c.prototype.once=function(e,t,a){var c=new r(t,a||this,!0),i=n?n+e:e;return this._events||(this._events=n?{}:Object.create(null)),this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],c]:this._events[i].push(c):this._events[i]=c,this},c.prototype.removeListener=function(e,t,a,r){var c=n?n+e:e;if(!this._events||!this._events[c])return this;var i=this._events[c],f=[];if(t)if(i.fn)(i.fn!==t||r&&!i.once||a&&i.context!==a)&&f.push(i);else for(var o=0,d=i.length;o<d;o++)(i[o].fn!==t||r&&!i[o].once||a&&i[o].context!==a)&&f.push(i[o]);return f.length?this._events[c]=1===f.length?f[0]:f:delete this._events[c],this},c.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[n?n+e:e]:this._events=n?{}:Object.create(null),this):this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=n,e.exports=c},function(e,t,a){"use strict";var n=a(344),r=a(910),c=function(e){var t,a,c=new r(function(){t=arguments[0],a=arguments[1]});if(e)return{resolve:t,reject:a,eventEmitter:c};var i=new n;return c._events=i._events,c.emit=i.emit,c.on=i.on,c.once=i.once,c.off=i.off,c.listeners=i.listeners,c.addListener=i.addListener,c.removeListener=i.removeListener,c.removeAllListeners=i.removeAllListeners,{resolve:t,reject:a,eventEmitter:c}};c.resolve=function(e){var t=c(!0);return t.resolve(e),t.eventEmitter},e.exports=c},function(e,t,a){e.exports={EventTarget:a(923),Event:a(922)}},function(e,t,a){var n=a(924).strict;e.exports=function(e){if(n(e)){var t=new Buffer(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}return new Buffer(e)}},function(e,t,a){var n=a(98),r=n.extend,c=a(1),i=a(4).EventEmitter,f=a(53),o=a(76),d=a(41),s=a(9),b=a(187),u=["(",")","<",">","@",",",";",":","\\",'"',"/","[","]","?","=","{","}"," ",String.fromCharCode(9)];function l(e){var t;(i.call(this),this.config={maxReceivedFrameSize:1048576,maxReceivedMessageSize:8388608,fragmentOutgoingMessages:!0,fragmentationThreshold:16384,webSocketVersion:13,assembleFragments:!0,disableNagleAlgorithm:!0,closeTimeout:5e3,tlsOptions:{}},e)&&(e.tlsOptions?(t=e.tlsOptions,delete e.tlsOptions):t={},r(this.config,e),r(this.config.tlsOptions,t));switch(this._req=null,this.config.webSocketVersion){case 8:case 13:break;default:throw new Error("Requested webSocketVersion is not supported. Allowed values are 8 and 13.")}}c.inherits(l,i),l.prototype.connect=function(e,t,a,c,i){var s=this;if("string"==typeof t&&(t=t.length>0?[t]:[]),t instanceof Array||(t=[]),this.protocols=t,this.origin=a,this.url="string"==typeof e?d.parse(e):e,!this.url.protocol)throw new Error("You must specify a full WebSocket URL, including protocol.");if(!this.url.host)throw new Error("You must specify a full WebSocket URL, including hostname. Relative URLs are not supported.");this.secure="wss:"===this.url.protocol,this.protocols.forEach(function(e){for(var t=0;t<e.length;t++){var a=e.charCodeAt(t),n=e.charAt(t);if(a<33||a>126||-1!==u.indexOf(n))throw new Error('Protocol list contains invalid character "'+String.fromCharCode(a)+'"')}});this.url.port||(this.url.port={"ws:":"80","wss:":"443"}[this.url.protocol]);for(var b=new Buffer(16),l=0;l<16;l++)b[l]=Math.round(255*Math.random());this.base64nonce=b.toString("base64");var p=this.url.hostname;("ws:"===this.url.protocol&&"80"!==this.url.port||"wss:"===this.url.protocol&&"443"!==this.url.port)&&(p+=":"+this.url.port);var h,m=c||{};function v(e){s._req=null,s.emit("connectFailed",e)}r(m,{Upgrade:"websocket",Connection:"Upgrade","Sec-WebSocket-Version":this.config.webSocketVersion.toString(10),"Sec-WebSocket-Key":this.base64nonce,Host:p}),this.protocols.length>0&&(m["Sec-WebSocket-Protocol"]=this.protocols.join(", ")),this.origin&&(13===this.config.webSocketVersion?m.Origin=this.origin:8===this.config.webSocketVersion&&(m["Sec-WebSocket-Origin"]=this.origin)),h=this.url.pathname?this.url.path:this.url.path?"/"+this.url.path:"/";var g={agent:!1};if(i&&r(g,i),r(g,{hostname:this.url.hostname,port:this.url.port,method:"GET",path:h,headers:m}),this.secure)for(var y in s.config.tlsOptions)s.config.tlsOptions.hasOwnProperty(y)&&(g[y]=s.config.tlsOptions[y]);var _=this._req=(this.secure?o:f).request(g);_.on("upgrade",function(e,t,a){s._req=null,_.removeListener("error",v),s.socket=t,s.response=e,s.firstDataChunk=a,s.validateHandshake()}),_.on("error",v),_.on("response",function(e){if(s._req=null,n.eventEmitterListenerCount(s,"httpResponse")>0)s.emit("httpResponse",e,s),e.socket&&e.socket.end();else{var t=[];for(var a in e.headers)t.push(a+": "+e.headers[a]);s.failHandshake("Server responded with a non-101 status: "+e.statusCode+" "+e.statusMessage+"\nResponse Headers Follow:\n"+t.join("\n")+"\n")}}),_.end()},l.prototype.validateHandshake=function(){var e=this.response.headers;if(this.protocols.length>0){if(this.protocol=e["sec-websocket-protocol"],!this.protocol)return void this.failHandshake("Expected a Sec-WebSocket-Protocol header.");if(-1===this.protocols.indexOf(this.protocol))return void this.failHandshake("Server did not respond with a requested protocol.")}if(e.connection&&"upgrade"===e.connection.toLocaleLowerCase())if(e.upgrade&&"websocket"===e.upgrade.toLocaleLowerCase()){var t=s.createHash("sha1");t.update(this.base64nonce+"258EAFA5-E914-47DA-95CA-C5AB0DC85B11");var a=t.digest("base64");e["sec-websocket-accept"]?e["sec-websocket-accept"]===a?this.succeedHandshake():this.failHandshake("Sec-WebSocket-Accept header from server didn't match expected value of "+a):this.failHandshake("Expected Sec-WebSocket-Accept header from server")}else this.failHandshake("Expected an Upgrade: websocket header from the server");else this.failHandshake("Expected a Connection: Upgrade header from the server")},l.prototype.failHandshake=function(e){this.socket&&this.socket.writable&&this.socket.end(),this.emit("connectFailed",new Error(e))},l.prototype.succeedHandshake=function(){var e=new b(this.socket,[],this.protocol,!0,this.config);e.webSocketVersion=this.config.webSocketVersion,e._addSocketEventListeners(),this.emit("connect",e),this.firstDataChunk.length>0&&e.handleSocketData(this.firstDataChunk),this.firstDataChunk=null},l.prototype.abort=function(){this._req&&this._req.abort()},e.exports=l},function(e,t,a){var n=a(932).BufferUtil;const r=1;function c(e,t,a){this.maskBytes=e,this.frameHeader=t,this.config=a,this.maxReceivedFrameSize=a.maxReceivedFrameSize,this.protocolError=!1,this.frameTooLarge=!1,this.invalidCloseFrameLength=!1,this.parseState=r,this.closeStatus=-1}c.prototype.addData=function(e){if(this.parseState===r&&e.length>=2){e.joinInto(this.frameHeader,0,0,2),e.advance(2);var t=this.frameHeader[0],a=this.frameHeader[1];if(this.fin=Boolean(128&t),this.rsv1=Boolean(64&t),this.rsv2=Boolean(32&t),this.rsv3=Boolean(16&t),this.mask=Boolean(128&a),this.opcode=15&t,this.length=127&a,this.opcode>=8){if(this.length>125)return this.protocolError=!0,this.dropReason="Illegal control frame longer than 125 bytes.",!0;if(!this.fin)return this.protocolError=!0,this.dropReason="Control frames must not be fragmented.",!0}126===this.length?this.parseState=2:127===this.length?this.parseState=3:this.parseState=4}if(2===this.parseState)e.length>=2&&(e.joinInto(this.frameHeader,2,0,2),e.advance(2),this.length=this.frameHeader.readUInt16BE(2,!0),this.parseState=4);else if(3===this.parseState&&e.length>=8){e.joinInto(this.frameHeader,2,0,8),e.advance(8);var c=[this.frameHeader.readUInt32BE(2,!0),this.frameHeader.readUInt32BE(6,!0)];if(0!==c[0])return this.protocolError=!0,this.dropReason="Unsupported 64-bit length frame received",!0;this.length=c[1],this.parseState=4}if(4===this.parseState&&(this.mask?e.length>=4&&(e.joinInto(this.maskBytes,0,0,4),e.advance(4),this.parseState=5):this.parseState=5),5===this.parseState){if(this.length>this.maxReceivedFrameSize)return this.frameTooLarge=!0,this.dropReason="Frame size of "+this.length.toString(10)+" bytes exceeds maximum accepted frame size",!0;if(0===this.length)return this.binaryPayload=new Buffer(0),this.parseState=6,!0;if(e.length>=this.length)return this.binaryPayload=e.take(this.length),e.advance(this.length),this.mask&&n.unmask(this.binaryPayload,this.maskBytes),8===this.opcode&&(1===this.length&&(this.binaryPayload=new Buffer(0),this.invalidCloseFrameLength=!0),this.length>=2&&(this.closeStatus=this.binaryPayload.readUInt16BE(0,!0),this.binaryPayload=this.binaryPayload.slice(2))),this.parseState=6,!0}return!1},c.prototype.throwAwayPayload=function(e){return e.length>=this.length&&(e.advance(this.length),this.parseState=6,!0)},c.prototype.toBuffer=function(e){var t,a,r,c=2,i=0,f=0;this.fin&&(i|=128),this.rsv1&&(i|=64),this.rsv2&&(i|=32),this.rsv3&&(i|=16),this.mask&&(f|=128),i|=15&this.opcode,8===this.opcode?(this.length=2,this.binaryPayload&&(this.length+=this.binaryPayload.length),(a=new Buffer(this.length)).writeUInt16BE(this.closeStatus,0,!0),this.length>2&&this.binaryPayload.copy(a,2)):this.binaryPayload?(a=this.binaryPayload,this.length=a.length):this.length=0,this.length<=125?f|=127&this.length:this.length>125&&this.length<=65535?(f|=126,c+=2):this.length>65535&&(f|=127,c+=8);var o=new Buffer(this.length+c+(this.mask?4:0));return o[0]=i,o[1]=f,r=2,this.length>125&&this.length<=65535?(o.writeUInt16BE(this.length,r,!0),r+=2):this.length>65535&&(o.writeUInt32BE(0,r,!0),o.writeUInt32BE(this.length,r+4,!0),r+=8),this.mask?(t=e?0:4294967295*Math.random()|0,this.maskBytes.writeUInt32BE(t,0,!0),this.maskBytes.copy(o,r),r+=4,a&&n.mask(a,this.maskBytes,o,r,this.length)):a&&a.copy(o,r),o},c.prototype.toString=function(){return"Opcode: "+this.opcode+", fin: "+this.fin+", length: "+this.length+", hasPayload: "+Boolean(this.binaryPayload)+", masked: "+this.mask},e.exports=c},function(e,t,a){for(var n=a(9),r=a(1),c=a(41),i=a(4).EventEmitter,f=a(187),o=/,\s*/,d=/;\s*/,s=/[\r\n]/g,b=/,\s*/,u=["(",")","<",">","@",",",";",":","\\",'"',"/","[","]","?","=","{","}"," ",String.fromCharCode(9)],l=[String.fromCharCode(127)],p=0;p<31;p++)l.push(String.fromCharCode(p));var h=/([\x00-\x20\x22\x28\x29\x2c\x2f\x3a-\x3f\x40\x5b-\x5e\x7b\x7d\x7f])/,m=/[^\x21\x23-\x2b\x2d-\x3a\x3c-\x5b\x5d-\x7e]/,v=/^"[^"]*"$/,g=/[\x00-\x20\x3b]/g,y=/[;,] */,_={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",406:"Not Acceptable",407:"Proxy Authorization Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Long",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"};function w(e,t,a){i.call(this),this.socket=e,this.httpRequest=t,this.resource=t.url,this.remoteAddress=e.remoteAddress,this.remoteAddresses=[this.remoteAddress],this.serverConfig=a,this._socketIsClosing=!1,this._socketCloseHandler=this._handleSocketCloseBeforeAccept.bind(this),this.socket.on("end",this._socketCloseHandler),this.socket.on("close",this._socketCloseHandler),this._resolved=!1}function A(e){process.nextTick(function(){e.drop(1006,"TCP connection lost before handshake completed.",!0)})}r.inherits(w,i),w.prototype.readHandshake=function(){var e=this,t=this.httpRequest;if(this.resourceURL=c.parse(this.resource,!0),this.host=t.headers.host,!this.host)throw new Error("Client must provide a Host header.");if(this.key=t.headers["sec-websocket-key"],!this.key)throw new Error("Client must provide a value for Sec-WebSocket-Key.");if(this.webSocketVersion=parseInt(t.headers["sec-websocket-version"],10),!this.webSocketVersion||isNaN(this.webSocketVersion))throw new Error("Client must provide a value for Sec-WebSocket-Version.");switch(this.webSocketVersion){case 8:case 13:break;default:var a=new Error("Unsupported websocket client version: "+this.webSocketVersion+"Only versions 8 and 13 are supported.");throw a.httpCode=426,a.headers={"Sec-WebSocket-Version":"13"},a}13===this.webSocketVersion?this.origin=t.headers.origin:8===this.webSocketVersion&&(this.origin=t.headers["sec-websocket-origin"]);var n=t.headers["sec-websocket-protocol"];(this.protocolFullCaseMap={},this.requestedProtocols=[],n)&&n.split(o).forEach(function(t){var a=t.toLocaleLowerCase();e.requestedProtocols.push(a),e.protocolFullCaseMap[a]=t});if(!this.serverConfig.ignoreXForwardedFor&&t.headers["x-forwarded-for"]){var r=this.remoteAddress;this.remoteAddresses=t.headers["x-forwarded-for"].split(b),this.remoteAddresses.push(r),this.remoteAddress=this.remoteAddresses[0]}var i=t.headers["sec-websocket-extensions"];this.requestedExtensions=this.parseExtensions(i);var f=t.headers.cookie;this.cookies=this.parseCookies(f)},w.prototype.parseExtensions=function(e){if(!e||0===e.length)return[];var t=e.toLocaleLowerCase().split(o);return t.forEach(function(e,t,a){var n=e.split(d),r=n[0],c=n.slice(1);c.forEach(function(e,t,a){var n=e.split("="),r={name:n[0],value:n[1]};a.splice(t,1,r)});var i={name:r,params:c};a.splice(t,1,i)}),t},w.prototype.parseCookies=function(e){if(!e||"string"!=typeof e)return[];var t=[];return e.split(y).forEach(function(e){var a=e.indexOf("=");if(-1!==a){var n=e.substr(0,a).trim(),r=e.substr(++a,e.length).trim();'"'===r[0]&&(r=r.slice(1,-1)),t.push({name:n,value:decodeURIComponent(